{"openapi":"3.1.0","info":{"title":"tldw API","description":"Too Long; Didn't Watch Server (tldw_server) - unified research assistant and media analysis platform.\n\n    Auth: Click the “Authorize” button.\n    - Single-user mode: use header X-API-KEY with the printed key.\n    - Multi-user mode: use Bearer JWT tokens (login endpoints under authentication).\n\n    Highlights\n    - Media ingestion (video/audio/docs) with automatic metadata\n    - STT (file + real-time WS) and TTS (OpenAI-compatible)\n    - RAG: SQLite FTS5 + embeddings + re-ranking\n    - Chat: OpenAI-compatible /chat/completions across providers\n    - Notes, prompts, evaluations, MCP Unified server\n\n    Helpful paths\n    - Web UI: /webui\n    - OpenAPI JSON: /openapi.json\n    - Metrics: /metrics and /api/v1/metrics","version":"0.1.0","x-logo":{"url":"/static/favicon.ico"}},"paths":{"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[]}},"/api/v1/health":{"get":{"tags":["health","health"],"summary":"Aggregate health status","description":"Return aggregate health with a checks map and timestamp.","operationId":"api_health_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/health/live":{"get":{"tags":["health","health"],"summary":"Liveness probe","operationId":"api_liveness_api_v1_health_live_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/health/ready":{"get":{"tags":["health","health"],"summary":"Readiness probe","description":"Return readiness similar to /readyz with standardized shape.","operationId":"api_readiness_api_v1_health_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/health/metrics":{"get":{"tags":["health","health"],"summary":"System metrics (CPU/memory/disk)","description":"Return basic system metrics for tests/diagnostics.","operationId":"api_health_metrics_api_v1_health_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/health/security":{"get":{"tags":["health","health"],"summary":"Security posture overview","description":"Summarize recent security audit activity and map to a risk posture.","operationId":"api_security_health_api_v1_health_security_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[]}},"/health/live":{"get":{"tags":["health","health"],"summary":"Liveness probe","operationId":"api_liveness_health_live_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/ready":{"get":{"summary":"Readiness Alias","operationId":"readiness_alias_health_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[]}},"/health/metrics":{"get":{"tags":["health","health"],"summary":"System metrics (CPU/memory/disk)","description":"Return basic system metrics for tests/diagnostics.","operationId":"api_health_metrics_health_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health/security":{"get":{"tags":["health","health"],"summary":"Security posture overview","description":"Summarize recent security audit activity and map to a risk posture.","operationId":"api_security_health_health_security_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/moderation/users":{"get":{"tags":["moderation","moderation"],"summary":"List all per-user moderation overrides","operationId":"list_user_overrides_api_v1_moderation_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModerationUserOverridesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/moderation/users/{user_id}":{"get":{"tags":["moderation","moderation"],"summary":"Get per-user moderation override","operationId":"get_user_override_api_v1_moderation_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get User Override Api V1 Moderation Users  User Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["moderation","moderation"],"summary":"Set per-user moderation override","operationId":"set_user_override_api_v1_moderation_users__user_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModerationUserOverride"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Set User Override Api V1 Moderation Users  User Id  Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["moderation","moderation"],"summary":"Delete per-user moderation override","operationId":"delete_user_override_api_v1_moderation_users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/moderation/blocklist":{"get":{"tags":["moderation","moderation"],"summary":"Get current blocklist lines","operationId":"get_blocklist_api_v1_moderation_blocklist_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{},"title":"Response Get Blocklist Api V1 Moderation Blocklist Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["moderation","moderation"],"summary":"Replace blocklist with provided lines","operationId":"update_blocklist_api_v1_moderation_blocklist_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModerationBlocklistUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/moderation/policy/effective":{"get":{"tags":["moderation","moderation"],"summary":"Inspect effective moderation policy for a user","operationId":"get_effective_policy_api_v1_moderation_policy_effective_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"User ID to compute effective policy; optional","title":"User Id"},"description":"User ID to compute effective policy; optional"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/moderation/reload":{"post":{"tags":["moderation","moderation"],"summary":"Reload moderation configuration from disk","operationId":"reload_moderation_api_v1_moderation_reload_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/moderation/settings":{"get":{"tags":["moderation","moderation"],"summary":"Get runtime moderation settings and effective state","operationId":"get_moderation_settings_api_v1_moderation_settings_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModerationSettingsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["moderation","moderation"],"summary":"Update runtime moderation settings (non-persistent)","operationId":"update_moderation_settings_api_v1_moderation_settings_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModerationSettingsUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModerationSettingsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/moderation/blocklist/managed":{"get":{"tags":["moderation","moderation"],"summary":"Managed blocklist listing with version","operationId":"get_blocklist_managed_api_v1_moderation_blocklist_managed_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlocklistManagedResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/moderation/blocklist/append":{"post":{"tags":["moderation","moderation"],"summary":"Append a blocklist line (optimistic concurrency)","operationId":"append_blocklist_line_api_v1_moderation_blocklist_append_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"If-Match","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"If-Match"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlocklistAppendRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlocklistAppendResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/moderation/blocklist/{item_id}":{"delete":{"tags":["moderation","moderation"],"summary":"Delete a blocklist entry by index (optimistic concurrency)","operationId":"delete_blocklist_item_api_v1_moderation_blocklist__item_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}},{"name":"If-Match","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"If-Match"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlocklistDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/moderation/blocklist/lint":{"post":{"tags":["moderation","moderation"],"summary":"Validate blocklist lines without persisting","operationId":"lint_blocklist_api_v1_moderation_blocklist_lint_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlocklistLintRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlocklistLintResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/moderation/test":{"post":{"tags":["moderation","moderation"],"summary":"Test moderation against sample text for a user","operationId":"test_moderation_api_v1_moderation_test_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModerationTestRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModerationTestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/watchlists":{"get":{"tags":["monitoring","monitoring"],"summary":"List all watchlists","operationId":"list_watchlists_api_v1_monitoring_watchlists_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["monitoring","monitoring"],"summary":"Create or update a watchlist","operationId":"upsert_watchlist_api_v1_monitoring_watchlists_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Watchlist"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistUpsertResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/watchlists/{watchlist_id}":{"delete":{"tags":["monitoring","monitoring"],"summary":"Delete a watchlist","operationId":"delete_watchlist_api_v1_monitoring_watchlists__watchlist_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"watchlist_id","in":"path","required":true,"schema":{"type":"string","title":"Watchlist Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/reload":{"post":{"tags":["monitoring","monitoring"],"summary":"Reload watchlists from file","operationId":"reload_watchlists_api_v1_monitoring_reload_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/alerts":{"get":{"tags":["monitoring","monitoring"],"summary":"List monitoring alerts","operationId":"list_alerts_api_v1_monitoring_alerts_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by user id","title":"User Id"},"description":"Filter by user id"},{"name":"since","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO 8601 timestamp inclusive lower bound","title":"Since"},"description":"ISO 8601 timestamp inclusive lower bound"},{"name":"unread_only","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Only unread alerts","default":false,"title":"Unread Only"},"description":"Only unread alerts"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlertsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/alerts/{alert_id}/read":{"post":{"tags":["monitoring","monitoring"],"summary":"Mark an alert as read","operationId":"mark_alert_read_api_v1_monitoring_alerts__alert_id__read_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarkReadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/notifications/settings":{"get":{"tags":["monitoring","monitoring"],"summary":"Get notification settings","operationId":"get_notifications_settings_api_v1_monitoring_notifications_settings_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationSettings"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["monitoring","monitoring"],"summary":"Update notification settings (runtime only)","operationId":"update_notifications_settings_api_v1_monitoring_notifications_settings_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationSettingsUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationSettings"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/notifications/test":{"post":{"tags":["monitoring","monitoring"],"summary":"Send a test notification (critical by default)","operationId":"send_test_notification_api_v1_monitoring_notifications_test_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationTestRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/notifications/recent":{"get":{"tags":["monitoring","monitoring"],"summary":"Tail recent notifications from file (JSONL)","operationId":"get_recent_notifications_api_v1_monitoring_notifications_recent_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":50,"title":"Limit"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audit/export":{"get":{"tags":["audit"],"summary":"Export audit events (JSON/JSONL/CSV)","description":"Export audit events (JSON, JSONL, CSV). Requires admin.\n\nParameters (filters):\n- start_time, end_time: ISO8601; accepts trailing Z (UTC)\n- event_type, category: comma-separated enum names or values\n- min_risk_score: minimum risk score\n- user_id, request_id, correlation_id\n- ip_address, session_id, endpoint, method (context-based filters)\n- max_rows: hard cap to limit output size\n\nOutput control:\n- format: json (default), jsonl (NDJSON), csv\n- stream: true enables streaming for JSON/JSONL\n- filename: suggested download name (sanitized; extension normalized)","operationId":"export_audit_events_api_v1_audit_export_get","security":[{"OAuth2PasswordBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"format","in":"query","required":false,"schema":{"type":"string","default":"json","title":"Format"}},{"name":"start_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO8601 start timestamp","title":"Start Time"},"description":"ISO8601 start timestamp"},{"name":"end_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO8601 end timestamp","title":"End Time"},"description":"ISO8601 end timestamp"},{"name":"event_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Event types (enum name or value), comma-separated","title":"Event Type"},"description":"Event types (enum name or value), comma-separated"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Categories (enum name or value), comma-separated","title":"Category"},"description":"Categories (enum name or value), comma-separated"},{"name":"min_risk_score","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Min Risk Score"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}},{"name":"request_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"}},{"name":"correlation_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Correlation Id"}},{"name":"ip_address","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by IP address","title":"Ip Address"},"description":"Filter by IP address"},{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by session id","title":"Session Id"},"description":"Filter by session id"},{"name":"endpoint","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by endpoint path","title":"Endpoint"},"description":"Filter by endpoint path"},{"name":"method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by HTTP method","title":"Method"},"description":"Filter by HTTP method"},{"name":"max_rows","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Hard maximum rows to export","title":"Max Rows"},"description":"Hard maximum rows to export"},{"name":"filename","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename"}},{"name":"stream","in":"query","required":false,"schema":{"type":"boolean","description":"Stream JSON/JSONL output incrementally (format=json or jsonl)","default":false,"title":"Stream"},"description":"Stream JSON/JSONL output incrementally (format=json or jsonl)"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audit/count":{"get":{"tags":["audit"],"summary":"Count audit events for pagination","description":"Count audit events for pagination UIs. Requires admin.\n\nAccepts the same filters as the export endpoint (except format/stream/filename).\nReturns a JSON object: {\"count\": <int>}.","operationId":"count_audit_events_api_v1_audit_count_get","security":[{"OAuth2PasswordBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"start_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO8601 start timestamp","title":"Start Time"},"description":"ISO8601 start timestamp"},{"name":"end_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO8601 end timestamp","title":"End Time"},"description":"ISO8601 end timestamp"},{"name":"event_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Event types (enum name or value), comma-separated","title":"Event Type"},"description":"Event types (enum name or value), comma-separated"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Categories (enum name or value), comma-separated","title":"Category"},"description":"Categories (enum name or value), comma-separated"},{"name":"min_risk_score","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Min Risk Score"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}},{"name":"request_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"}},{"name":"correlation_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Correlation Id"}},{"name":"ip_address","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by IP address","title":"Ip Address"},"description":"Filter by IP address"},{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by session id","title":"Session Id"},"description":"Filter by session id"},{"name":"endpoint","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by endpoint path","title":"Endpoint"},"description":"Filter by endpoint path"},{"name":"method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by HTTP method","title":"Method"},"description":"Filter by HTTP method"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/virtual-key":{"post":{"tags":["authentication","authentication"],"summary":"Mint Self Virtual Key","description":"Mint a short-lived, scoped JWT for the current user.\n\nThis is intended for automation and integrations to act on behalf of the\nrequesting user with constrained scope, time window, and optional endpoint\nallowlists.","operationId":"mint_self_virtual_key_api_v1_auth_virtual_key_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SelfVirtualKeyRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["authentication","authentication"],"summary":"Login","description":"OAuth2 compatible login endpoint\n\nAuthenticates user with username/password and returns JWT tokens.\nCompatible with OAuth2PasswordRequestForm for standard OAuth2 clients.\n\nArgs:\n    form_data: OAuth2 form with username and password\n\nReturns:\n    TokenResponse with access_token, refresh_token, and expiry\n\nRaises:\n    HTTPException: 401 if credentials invalid, 403 if account inactive","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_api_v1_auth_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["authentication-enhanced","authentication-enhanced"],"summary":"Logout","description":"Logout current session or all sessions\n\nRevokes the current token and optionally all user tokens.","operationId":"logout_api_v1_auth_logout_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Logout Api V1 Auth Logout Post"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/refresh":{"post":{"tags":["authentication","authentication"],"summary":"Refresh Token","description":"Refresh access token using refresh token\n\nArgs:\n    request: RefreshTokenRequest with refresh token\n\nReturns:\n    TokenResponse with new access_token\n\nRaises:\n    HTTPException: 401 if refresh token invalid or expired","operationId":"refresh_token_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["authentication","authentication"],"summary":"Register","description":"Register a new user\n\nCreates a new user account with the provided credentials.\nMay require a registration code if configured.\n\nArgs:\n    request: RegisterRequest with user details\n\nReturns:\n    RegistrationResponse with user information\n\nRaises:\n    HTTPException: 400 if validation fails, 409 if user exists","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["authentication","authentication"],"summary":"Get Current User Info","description":"Get current user information\n\nReturns:\n    UserResponse with current user details","operationId":"get_current_user_info_api_v1_auth_me_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/forgot-password":{"post":{"tags":["authentication-enhanced","authentication-enhanced"],"summary":"Forgot Password","description":"Request password reset email\n\nSends a password reset link to the user's email if the account exists.\nReturns success even if email doesn't exist (security best practice).","operationId":"forgot_password_api_v1_auth_forgot_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Forgot Password Api V1 Auth Forgot Password Post"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/reset-password":{"post":{"tags":["authentication-enhanced","authentication-enhanced"],"summary":"Reset Password","description":"Reset password with valid token\n\nValidates the reset token and updates the user's password.","operationId":"reset_password_api_v1_auth_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Reset Password Api V1 Auth Reset Password Post"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/verify-email":{"get":{"tags":["authentication-enhanced","authentication-enhanced"],"summary":"Verify Email","description":"Verify email address with token\n\nMarks the user's email as verified.","operationId":"verify_email_api_v1_auth_verify_email_get","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string","description":"Email verification token","title":"Token"},"description":"Email verification token"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Verify Email Api V1 Auth Verify Email Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/resend-verification":{"post":{"tags":["authentication-enhanced","authentication-enhanced"],"summary":"Resend Verification","description":"Resend email verification link\n\nSends a new verification email if the account exists and is not verified.","operationId":"resend_verification_api_v1_auth_resend_verification_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResendVerificationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Resend Verification Api V1 Auth Resend Verification Post"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/mfa/setup":{"post":{"tags":["authentication-enhanced","authentication-enhanced"],"summary":"Setup Mfa","description":"Initialize MFA setup for current user\n\nGenerates TOTP secret and backup codes but doesn't enable MFA yet.\nUser must verify with a TOTP token first.","operationId":"setup_mfa_api_v1_auth_mfa_setup_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MFASetupResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/mfa/verify":{"post":{"tags":["authentication-enhanced","authentication-enhanced"],"summary":"Verify Mfa Setup","description":"Verify and enable MFA with TOTP token\n\nCompletes MFA setup by verifying the user can generate valid tokens.","operationId":"verify_mfa_setup_api_v1_auth_mfa_verify_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MFAVerifyRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Verify Mfa Setup Api V1 Auth Mfa Verify Post"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/mfa/disable":{"post":{"tags":["authentication-enhanced","authentication-enhanced"],"summary":"Disable Mfa","description":"Disable MFA for current user\n\nRequires password verification for security.","operationId":"disable_mfa_api_v1_auth_mfa_disable_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_disable_mfa_api_v1_auth_mfa_disable_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Disable Mfa Api V1 Auth Mfa Disable Post"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["users","users"],"summary":"Get Current User Profile","description":"Get current user profile\n\nReturns the authenticated user's profile information.\n\nReturns:\n    UserResponse with user details","operationId":"get_current_user_profile_api_v1_users_me_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users","users"],"summary":"Update User Profile","description":"Update current user profile\n\nAllows users to update their email address.\nUsername changes are not allowed for security reasons.\n\nArgs:\n    request: UpdateProfileRequest with new email address (optional)\n\nReturns:\n    Updated UserResponse","operationId":"update_user_profile_api_v1_users_me_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/change-password":{"post":{"tags":["users","users"],"summary":"Change Password","description":"Change user password\n\nAllows users to change their password by providing the current password.\n\nArgs:\n    request: PasswordChangeRequest with current and new passwords\n\nReturns:\n    MessageResponse confirming password change\n\nRaises:\n    HTTPException: 401 if current password is incorrect, 400 if new password is weak","operationId":"change_password_api_v1_users_change_password_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChangeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__auth_schemas__MessageResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/api-keys":{"get":{"tags":["users","users"],"summary":"List Api Keys","description":"List active API keys for the current user (metadata only).","operationId":"list_api_keys_api_v1_users_api_keys_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/APIKeyMetadata"},"title":"Response List Api Keys Api V1 Users Api Keys Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["users","users"],"summary":"Create Api Key","description":"Create a new API key for the current user and return the key once.","operationId":"create_api_key_api_v1_users_api_keys_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyCreateResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/api-keys/virtual":{"post":{"tags":["users","users"],"summary":"Create Virtual Api Key","description":"Create a constrained (virtual/burnable) API key for the current user.","operationId":"create_virtual_api_key_api_v1_users_api_keys_virtual_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SelfVirtualAPIKeyRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyCreateResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/api-keys/{key_id}/rotate":{"post":{"tags":["users","users"],"summary":"Rotate Api Key","description":"Rotate an API key (revoke old; create new) and return the new key once.","operationId":"rotate_api_key_api_v1_users_api_keys__key_id__rotate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"integer","title":"Key Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyRotateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyCreateResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/api-keys/{key_id}":{"delete":{"tags":["users","users"],"summary":"Revoke Api Key","description":"Revoke an API key for the current user.","operationId":"revoke_api_key_api_v1_users_api_keys__key_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"integer","title":"Key Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__auth_schemas__MessageResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/sessions":{"get":{"tags":["users","users"],"summary":"List User Sessions","description":"List all active sessions for the current user\n\nReturns:\n    List of SessionResponse objects","operationId":"list_user_sessions_api_v1_users_sessions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SessionResponse"},"title":"Response List User Sessions Api V1 Users Sessions Get"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/sessions/{session_id}":{"delete":{"tags":["users","users"],"summary":"Revoke Session","description":"Revoke a specific session\n\nAllows users to log out specific sessions (e.g., on other devices).\n\nArgs:\n    session_id: ID of the session to revoke\n\nReturns:\n    MessageResponse confirming revocation\n\nRaises:\n    HTTPException: 404 if session not found or doesn't belong to user","operationId":"revoke_session_api_v1_users_sessions__session_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__auth_schemas__MessageResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/sessions/revoke-all":{"post":{"tags":["users","users"],"summary":"Revoke All Sessions","description":"Revoke all sessions for the current user\n\nLogs out the user from all devices.\n\nReturns:\n    MessageResponse confirming revocation","operationId":"revoke_all_sessions_api_v1_users_sessions_revoke_all_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__auth_schemas__MessageResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/storage":{"get":{"tags":["users","users"],"summary":"Get Storage Quota","description":"Get storage quota information for current user\n\nReturns:\n    StorageQuotaResponse with usage details","operationId":"get_storage_quota_api_v1_users_storage_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StorageQuotaResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/storage/recalculate":{"post":{"tags":["users","users"],"summary":"Recalculate Storage","description":"Recalculate storage usage for current user\n\nForces a recalculation of actual disk usage and updates the database.\n\nReturns:\n    StorageQuotaResponse with updated usage details","operationId":"recalculate_storage_api_v1_users_storage_recalculate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StorageQuotaResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/privileges/self":{"get":{"tags":["privileges","privileges"],"summary":"Get Self Privilege Map","operationId":"get_self_privilege_map_api_v1_privileges_self_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"resource","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resource"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivilegeSelfResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/privileges/org":{"get":{"tags":["privileges","privileges"],"summary":"Get Org Privilege Map","operationId":"get_org_privilege_map_api_v1_privileges_org_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"group_by","in":"query","required":false,"schema":{"type":"string","pattern":"^(role|team|resource)$","default":"role","title":"Group By"}},{"name":"include_trends","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Trends"}},{"name":"since","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Since"}},{"name":"view","in":"query","required":false,"schema":{"type":"string","pattern":"^(summary|detail)$","default":"summary","title":"View"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Page Size"}},{"name":"resource","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resource"}},{"name":"role","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"}},{"name":"dependency","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dependency"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/PrivilegeSummaryResponse"},{"$ref":"#/components/schemas/PrivilegeDetailResponse"}],"title":"Response Get Org Privilege Map Api V1 Privileges Org Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/privileges/teams/{team_id}":{"get":{"tags":["privileges","privileges"],"summary":"Get Team Privilege Map","operationId":"get_team_privilege_map_api_v1_privileges_teams__team_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"team_id","in":"path","required":true,"schema":{"type":"string","title":"Team Id"}},{"name":"group_by","in":"query","required":false,"schema":{"type":"string","pattern":"^(member|resource)$","default":"member","title":"Group By"}},{"name":"view","in":"query","required":false,"schema":{"type":"string","pattern":"^(summary|detail)$","default":"summary","title":"View"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Page Size"}},{"name":"resource","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resource"}},{"name":"role","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"}},{"name":"dependency","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dependency"}},{"name":"include_trends","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Trends"}},{"name":"since","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Since"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/PrivilegeSummaryResponse"},{"$ref":"#/components/schemas/PrivilegeDetailResponse"}],"title":"Response Get Team Privilege Map Api V1 Privileges Teams  Team Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/privileges/users/{user_id}":{"get":{"tags":["privileges","privileges"],"summary":"Get User Privilege Map","operationId":"get_user_privilege_map_api_v1_privileges_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":100,"title":"Page Size"}},{"name":"resource","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resource"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivilegeDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/privileges/snapshots":{"get":{"tags":["privileges","privileges"],"summary":"List Privilege Snapshots","operationId":"list_privilege_snapshots_api_v1_privileges_snapshots_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Page Size"}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date To"}},{"name":"generated_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generated By"}},{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Org Id"}},{"name":"team_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Team Id"}},{"name":"catalog_version","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Catalog Version"}},{"name":"scope","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scope"}},{"name":"include_counts","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Counts"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivilegeSnapshotListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["privileges","privileges"],"summary":"Create Privilege Snapshot","operationId":"create_privilege_snapshot_api_v1_privileges_snapshots_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivilegeSnapshotCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivilegeSnapshotRecord"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/privileges/snapshots/{snapshot_id}":{"get":{"tags":["privileges","privileges"],"summary":"Get Privilege Snapshot","operationId":"get_privilege_snapshot_api_v1_privileges_snapshots__snapshot_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"snapshot_id","in":"path","required":true,"schema":{"type":"string","title":"Snapshot Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":500,"title":"Page Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PrivilegeSnapshotDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/privileges/snapshots/{snapshot_id}/export.json":{"get":{"tags":["privileges","privileges"],"summary":"Export Privilege Snapshot Json","operationId":"export_privilege_snapshot_json_api_v1_privileges_snapshots__snapshot_id__export_json_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"snapshot_id","in":"path","required":true,"schema":{"type":"string","title":"Snapshot Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/privileges/snapshots/{snapshot_id}/export.csv":{"get":{"tags":["privileges","privileges"],"summary":"Export Privilege Snapshot Csv","operationId":"export_privilege_snapshot_csv_api_v1_privileges_snapshots__snapshot_id__export_csv_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"snapshot_id","in":"path","required":true,"schema":{"type":"string","title":"Snapshot Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users":{"get":{"tags":["admin","admin"],"summary":"List Users","description":"List all users with pagination and filters\n\nArgs:\n    page: Page number (1-based)\n    limit: Items per page\n    role: Filter by role\n    is_active: Filter by active status\n    search: Search in username/email\n\nReturns:\n    Paginated list of users","operationId":"list_users_api_v1_admin_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"role","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserListResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/api-keys":{"get":{"tags":["admin","admin"],"summary":"Admin List User Api Keys","description":"List API keys for a specific user (admin).","operationId":"admin_list_user_api_keys_api_v1_admin_users__user_id__api_keys_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"include_revoked","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Revoked"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/APIKeyMetadata"},"title":"Response Admin List User Api Keys Api V1 Admin Users  User Id  Api Keys Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin","admin"],"summary":"Admin Create User Api Key","description":"Create a new API key for the given user (admin).","operationId":"admin_create_user_api_key_api_v1_admin_users__user_id__api_keys_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyCreateResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/api-keys/{key_id}/rotate":{"post":{"tags":["admin","admin"],"summary":"Admin Rotate User Api Key","description":"Rotate an API key for the given user and return the new key (admin).","operationId":"admin_rotate_user_api_key_api_v1_admin_users__user_id__api_keys__key_id__rotate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"key_id","in":"path","required":true,"schema":{"type":"integer","title":"Key Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyRotateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyCreateResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/api-keys/{key_id}":{"delete":{"tags":["admin","admin"],"summary":"Admin Revoke User Api Key","description":"Revoke an API key for the given user (admin).","operationId":"admin_revoke_user_api_key_api_v1_admin_users__user_id__api_keys__key_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"key_id","in":"path","required":true,"schema":{"type":"integer","title":"Key Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Admin Revoke User Api Key Api V1 Admin Users  User Id  Api Keys  Key Id  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["admin","admin"],"summary":"Admin Update User Api Key","description":"Update per-key limits like rate_limit and allowed_ips (admin).","operationId":"admin_update_user_api_key_api_v1_admin_users__user_id__api_keys__key_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"key_id","in":"path","required":true,"schema":{"type":"integer","title":"Key Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyMetadata"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/orgs":{"post":{"tags":["admin","admin"],"summary":"Admin Create Org","operationId":"admin_create_org_api_v1_admin_orgs_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["admin","admin"],"summary":"Admin List Orgs","description":"List organizations.\n\nBackwards compatibility: when called without pagination/search query params,\nreturn a plain list of organizations. When any of ('limit', 'offset', 'q')\nare present in the query string, return a structured payload with\npagination metadata.","operationId":"admin_list_orgs_api_v1_admin_orgs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Admin List Orgs Api V1 Admin Orgs Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/orgs/{org_id}/teams":{"post":{"tags":["admin","admin"],"summary":"Admin Create Team","operationId":"admin_create_team_api_v1_admin_orgs__org_id__teams_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["admin","admin"],"summary":"Admin List Teams","operationId":"admin_list_teams_api_v1_admin_orgs__org_id__teams_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TeamResponse"},"title":"Response Admin List Teams Api V1 Admin Orgs  Org Id  Teams Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/orgs/{org_id}/watchlists/settings":{"patch":{"tags":["admin","admin"],"summary":"Admin Update Org Watchlists Settings","description":"Update watchlists-related organization settings (metadata).\n\nCurrently supports:\n  - require_include_default: default include-only gating for jobs in this org","operationId":"admin_update_org_watchlists_settings_api_v1_admin_orgs__org_id__watchlists_settings_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationWatchlistsSettingsUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationWatchlistsSettingsResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["admin","admin"],"summary":"Admin Get Org Watchlists Settings","description":"Fetch watchlists-related organization settings (from metadata).","operationId":"admin_get_org_watchlists_settings_api_v1_admin_orgs__org_id__watchlists_settings_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationWatchlistsSettingsResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/teams/{team_id}/members":{"post":{"tags":["admin","admin"],"summary":"Admin Add Team Member","operationId":"admin_add_team_member_api_v1_admin_teams__team_id__members_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"team_id","in":"path","required":true,"schema":{"type":"integer","title":"Team Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamMemberAddRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TeamMemberResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["admin","admin"],"summary":"Admin List Team Members","operationId":"admin_list_team_members_api_v1_admin_teams__team_id__members_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"team_id","in":"path","required":true,"schema":{"type":"integer","title":"Team Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TeamMemberResponse"},"title":"Response Admin List Team Members Api V1 Admin Teams  Team Id  Members Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/teams/{team_id}/members/{user_id}":{"delete":{"tags":["admin","admin"],"summary":"Admin Remove Team Member","description":"Remove a user from a team (admin).","operationId":"admin_remove_team_member_api_v1_admin_teams__team_id__members__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"team_id","in":"path","required":true,"schema":{"type":"integer","title":"Team Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Admin Remove Team Member Api V1 Admin Teams  Team Id  Members  User Id  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/orgs/{org_id}/members":{"post":{"tags":["admin","admin"],"summary":"Admin Add Org Member","operationId":"admin_add_org_member_api_v1_admin_orgs__org_id__members_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrgMemberAddRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrgMemberResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["admin","admin"],"summary":"Admin List Org Members","operationId":"admin_list_org_members_api_v1_admin_orgs__org_id__members_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"role","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrgMemberListItem"},"title":"Response Admin List Org Members Api V1 Admin Orgs  Org Id  Members Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/orgs/{org_id}/members/{user_id}":{"delete":{"tags":["admin","admin"],"summary":"Admin Remove Org Member","operationId":"admin_remove_org_member_api_v1_admin_orgs__org_id__members__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Admin Remove Org Member Api V1 Admin Orgs  Org Id  Members  User Id  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["admin","admin"],"summary":"Admin Update Org Member Role","operationId":"admin_update_org_member_role_api_v1_admin_orgs__org_id__members__user_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrgMemberRoleUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrgMemberResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/org-memberships":{"get":{"tags":["admin","admin"],"summary":"Admin List User Org Memberships","operationId":"admin_list_user_org_memberships_api_v1_admin_users__user_id__org_memberships_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrgMembershipItem"},"title":"Response Admin List User Org Memberships Api V1 Admin Users  User Id  Org Memberships Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/virtual-keys":{"post":{"tags":["admin","admin"],"summary":"Admin Create Virtual Key","operationId":"admin_create_virtual_key_api_v1_admin_users__user_id__virtual_keys_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VirtualKeyCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Admin Create Virtual Key Api V1 Admin Users  User Id  Virtual Keys Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["admin","admin"],"summary":"Admin List Virtual Keys","operationId":"admin_list_virtual_keys_api_v1_admin_users__user_id__virtual_keys_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/APIKeyMetadata"},"title":"Response Admin List Virtual Keys Api V1 Admin Users  User Id  Virtual Keys Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/api-keys/{key_id}/audit-log":{"get":{"tags":["admin","admin"],"summary":"Admin Get Api Key Audit Log","description":"Get audit log entries for a specific API key (admin).","operationId":"admin_get_api_key_audit_log_api_v1_admin_api_keys__key_id__audit_log_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"integer","title":"Key Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyAuditListResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/cleanup-settings":{"get":{"tags":["admin","admin"],"summary":"Get Cleanup Settings","description":"Get cleanup worker settings (enabled, interval in seconds).","operationId":"get_cleanup_settings_api_v1_admin_cleanup_settings_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Cleanup Settings Api V1 Admin Cleanup Settings Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin","admin"],"summary":"Set Cleanup Settings","description":"Set cleanup worker settings (enabled, interval_sec).","operationId":"set_cleanup_settings_api_v1_admin_cleanup_settings_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminCleanupSettingsUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Set Cleanup Settings Api V1 Admin Cleanup Settings Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/notes/title-settings":{"get":{"tags":["admin","admin"],"summary":"Get Notes Title Settings","description":"Get Notes auto-title settings (LLM enabled flag and default strategy).","operationId":"get_notes_title_settings_api_v1_admin_notes_title_settings_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Notes Title Settings Api V1 Admin Notes Title Settings Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin","admin"],"summary":"Set Notes Title Settings","description":"Update Notes auto-title settings.\n\nPayload fields (both optional):\n- llm_enabled: bool\n- default_strategy: one of [heuristic, llm, llm_fallback]","operationId":"set_notes_title_settings_api_v1_admin_notes_title_settings_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotesTitleSettingsUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Set Notes Title Settings Api V1 Admin Notes Title Settings Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}":{"get":{"tags":["admin","admin"],"summary":"Get User Details","description":"Get detailed information about a specific user\n\nArgs:\n    user_id: User ID\n\nReturns:\n    User details including all fields","operationId":"get_user_details_api_v1_admin_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get User Details Api V1 Admin Users  User Id  Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["admin","admin"],"summary":"Update User","description":"Update user information\n\nArgs:\n    user_id: User ID\n    request: Update request with fields to modify\n\nReturns:\n    Success message","operationId":"update_user_api_v1_admin_users__user_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Update User Api V1 Admin Users  User Id  Put"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin","admin"],"summary":"Delete User","description":"Delete a user (soft delete by default)\n\nArgs:\n    user_id: User ID to delete\n\nReturns:\n    Success message","operationId":"delete_user_api_v1_admin_users__user_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Delete User Api V1 Admin Users  User Id  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles":{"get":{"tags":["admin","admin"],"summary":"List Roles","operationId":"list_roles_api_v1_admin_roles_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RoleResponse"},"title":"Response List Roles Api V1 Admin Roles Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin","admin"],"summary":"Create Role","operationId":"create_role_api_v1_admin_roles_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles/{role_id}":{"delete":{"tags":["admin","admin"],"summary":"Delete Role","operationId":"delete_role_api_v1_admin_roles__role_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Role Api V1 Admin Roles  Role Id  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles/{role_id}/permissions":{"get":{"tags":["admin","admin"],"summary":"List Role Permissions","description":"List permissions granted to a specific role (read-only matrix row).","operationId":"list_role_permissions_api_v1_admin_roles__role_id__permissions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PermissionResponse"},"title":"Response List Role Permissions Api V1 Admin Roles  Role Id  Permissions Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/permissions/tools":{"get":{"tags":["admin","admin"],"summary":"List Tool Permissions","description":"List tool execution permissions (name starts with 'tools.execute:').","operationId":"list_tool_permissions_api_v1_admin_permissions_tools_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ToolPermissionResponse"},"title":"Response List Tool Permissions Api V1 Admin Permissions Tools Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin","admin"],"summary":"Create Tool Permission","description":"Create a tool execution permission.\n\n- tool_name='*' → creates tools.execute:*\n- tool_name='<name>' → creates tools.execute:<name>","operationId":"create_tool_permission_api_v1_admin_permissions_tools_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolPermissionCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolPermissionResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/permissions/tools/{perm_name}":{"delete":{"tags":["admin","admin"],"summary":"Delete Tool Permission","description":"Delete a tool execution permission by full name (e.g., tools.execute:my_tool).","operationId":"delete_tool_permission_api_v1_admin_permissions_tools__perm_name__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"perm_name","in":"path","required":true,"schema":{"type":"string","title":"Perm Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Tool Permission Api V1 Admin Permissions Tools  Perm Name  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles/{role_id}/permissions/tools":{"post":{"tags":["admin","admin"],"summary":"Grant Tool Permission To Role","description":"Grant a tool execution permission to a role.\n\n- tool_name='*' → grants tools.execute:*\n- tool_name='<name>' → grants tools.execute:<name>\nCreates the permission in catalog if missing.","operationId":"grant_tool_permission_to_role_api_v1_admin_roles__role_id__permissions_tools_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolPermissionGrantRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolPermissionResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["admin","admin"],"summary":"List Role Tool Permissions","description":"List tool execution permissions assigned to a role.","operationId":"list_role_tool_permissions_api_v1_admin_roles__role_id__permissions_tools_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ToolPermissionResponse"},"title":"Response List Role Tool Permissions Api V1 Admin Roles  Role Id  Permissions Tools Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles/{role_id}/permissions/tools/{tool_name}":{"delete":{"tags":["admin","admin"],"summary":"Revoke Tool Permission From Role","description":"Revoke a tool execution permission from a role.\n\ntool_name '*' refers to tools.execute:*","operationId":"revoke_tool_permission_from_role_api_v1_admin_roles__role_id__permissions_tools__tool_name__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"tool_name","in":"path","required":true,"schema":{"type":"string","title":"Tool Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Revoke Tool Permission From Role Api V1 Admin Roles  Role Id  Permissions Tools  Tool Name  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles/{role_id}/permissions/tools/batch":{"post":{"tags":["admin","admin"],"summary":"Grant Tool Permissions Batch","description":"Grant multiple tool execution permissions to a role in one call.","operationId":"grant_tool_permissions_batch_api_v1_admin_roles__role_id__permissions_tools_batch_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolPermissionBatchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ToolPermissionResponse"},"title":"Response Grant Tool Permissions Batch Api V1 Admin Roles  Role Id  Permissions Tools Batch Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles/{role_id}/permissions/tools/batch/revoke":{"post":{"tags":["admin","admin"],"summary":"Revoke Tool Permissions Batch","description":"Revoke multiple tool execution permissions from a role.","operationId":"revoke_tool_permissions_batch_api_v1_admin_roles__role_id__permissions_tools_batch_revoke_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolPermissionBatchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Revoke Tool Permissions Batch Api V1 Admin Roles  Role Id  Permissions Tools Batch Revoke Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles/{role_id}/permissions/tools/prefix/grant":{"post":{"tags":["admin","admin"],"summary":"Grant Tool Permissions By Prefix","description":"Grant all existing tool permissions with names starting with the prefix.","operationId":"grant_tool_permissions_by_prefix_api_v1_admin_roles__role_id__permissions_tools_prefix_grant_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolPermissionPrefixRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ToolPermissionResponse"},"title":"Response Grant Tool Permissions By Prefix Api V1 Admin Roles  Role Id  Permissions Tools Prefix Grant Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles/{role_id}/permissions/tools/prefix/revoke":{"post":{"tags":["admin","admin"],"summary":"Revoke Tool Permissions By Prefix","description":"Revoke all tool permissions with names starting with the prefix from a role.","operationId":"revoke_tool_permissions_by_prefix_api_v1_admin_roles__role_id__permissions_tools_prefix_revoke_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolPermissionPrefixRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Revoke Tool Permissions By Prefix Api V1 Admin Roles  Role Id  Permissions Tools Prefix Revoke Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles/matrix":{"get":{"tags":["admin","admin"],"summary":"Get Roles Matrix","description":"Return roles, filtered permissions, and grants (matrix view).\n\nOptional filters:\n- category: permission category exact match\n- search: substring match on name/description (case-insensitive)","operationId":"get_roles_matrix_api_v1_admin_roles_matrix_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"role_search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role Search"}},{"name":"role_names","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Role Names"}},{"name":"roles_limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":10000,"minimum":1},{"type":"null"}],"default":100,"title":"Roles Limit"}},{"name":"roles_offset","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"default":0,"title":"Roles Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RolePermissionMatrixResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles/matrix-boolean":{"get":{"tags":["admin","admin"],"summary":"Get Roles Matrix Boolean","description":"Return a compact boolean matrix: roles x permission_names, with optional filters.","operationId":"get_roles_matrix_boolean_api_v1_admin_roles_matrix_boolean_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"role_search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role Search"}},{"name":"role_names","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Role Names"}},{"name":"roles_limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":10000,"minimum":1},{"type":"null"}],"default":100,"title":"Roles Limit"}},{"name":"roles_offset","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"default":0,"title":"Roles Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RolePermissionBooleanMatrixResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/permissions/categories":{"get":{"tags":["admin","admin"],"summary":"List Permission Categories","description":"List distinct permission categories (for UI filters).","operationId":"list_permission_categories_api_v1_admin_permissions_categories_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"},"title":"Response List Permission Categories Api V1 Admin Permissions Categories Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/permissions":{"get":{"tags":["admin","admin"],"summary":"List Permissions","operationId":"list_permissions_api_v1_admin_permissions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PermissionResponse"},"title":"Response List Permissions Api V1 Admin Permissions Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin","admin"],"summary":"Create Permission","operationId":"create_permission_api_v1_admin_permissions_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles/{role_id}/permissions/{permission_id}":{"post":{"tags":["admin","admin"],"summary":"Grant Permission To Role","operationId":"grant_permission_to_role_api_v1_admin_roles__role_id__permissions__permission_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"permission_id","in":"path","required":true,"schema":{"type":"integer","title":"Permission Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Grant Permission To Role Api V1 Admin Roles  Role Id  Permissions  Permission Id  Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin","admin"],"summary":"Revoke Permission From Role","operationId":"revoke_permission_from_role_api_v1_admin_roles__role_id__permissions__permission_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"permission_id","in":"path","required":true,"schema":{"type":"integer","title":"Permission Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Revoke Permission From Role Api V1 Admin Roles  Role Id  Permissions  Permission Id  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/roles":{"get":{"tags":["admin","admin"],"summary":"Get User Roles Admin","operationId":"get_user_roles_admin_api_v1_admin_users__user_id__roles_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRoleListResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/roles/{role_id}":{"post":{"tags":["admin","admin"],"summary":"Add Role To User","operationId":"add_role_to_user_api_v1_admin_users__user_id__roles__role_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Add Role To User Api V1 Admin Users  User Id  Roles  Role Id  Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["admin","admin"],"summary":"Remove Role From User","operationId":"remove_role_from_user_api_v1_admin_users__user_id__roles__role_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Remove Role From User Api V1 Admin Users  User Id  Roles  Role Id  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/overrides":{"get":{"tags":["admin","admin"],"summary":"List User Overrides","operationId":"list_user_overrides_api_v1_admin_users__user_id__overrides_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOverridesResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin","admin"],"summary":"Upsert User Override","operationId":"upsert_user_override_api_v1_admin_users__user_id__overrides_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOverrideUpsertRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Upsert User Override Api V1 Admin Users  User Id  Overrides Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/overrides/{permission_id}":{"delete":{"tags":["admin","admin"],"summary":"Delete User Override","operationId":"delete_user_override_api_v1_admin_users__user_id__overrides__permission_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"permission_id","in":"path","required":true,"schema":{"type":"integer","title":"Permission Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete User Override Api V1 Admin Users  User Id  Overrides  Permission Id  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/effective-permissions":{"get":{"tags":["admin","admin"],"summary":"Get Effective Permissions Admin","description":"Compute effective permissions for a user using the request-scoped DB.\n\nThis avoids relying on global user DB singletons which may point at a different\ndatabase in test environments (e.g., single-user SQLite).","operationId":"get_effective_permissions_admin_api_v1_admin_users__user_id__effective_permissions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EffectivePermissionsResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/roles/{role_id}/permissions/effective":{"get":{"tags":["admin","admin"],"summary":"Get Role Effective Permissions","description":"Return a convenience view combining a role's granted permissions and tool permissions.\n\n- permissions: non-tool permission names (e.g., media.read)\n- tool_permissions: tool execution permission names (tools.execute:...)\n- all_permissions: union of both, sorted","operationId":"get_role_effective_permissions_api_v1_admin_roles__role_id__permissions_effective_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleEffectivePermissionsResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/rate-limits/reset":{"post":{"tags":["admin","admin"],"summary":"Admin Reset Rate Limit","description":"Reset AuthNZ rate limiter counters for the given identifier.\n\nParameters\n- kind: One of `ip`, `user`, `api`, or `raw`.\n  - `ip`: Provide `ip` (e.g., 203.0.113.7)\n  - `user`: Provide `user_id` (e.g., 123)\n  - `api`: Provide `api_key_hash` (first 16 chars used internally)\n  - `raw`: Provide full `identifier` (e.g., \"ip:203.0.113.7\", \"user:123\")\n- endpoint: When set, only resets that endpoint. When omitted, resets all endpoints for the identifier.\n- dry_run: If true, only reports counts; no DB rows or Redis keys are deleted.\n\nResponse\n- db_rows_deleted: Number of DB rows cleared from source-of-truth window buckets\n- redis_keys_deleted: Number of Redis keys matched for deletion (hash-bucketed windows)\n\nExamples\n```json\n{\"kind\": \"ip\", \"ip\": \"203.0.113.7\"}\n{\"kind\": \"user\", \"user_id\": 42, \"endpoint\": \"/api/v1/media/process\"}\n{\"kind\": \"api\", \"api_key_hash\": \"d41d8cd98f00b204e9800998ecf8427e\"}\n{\"kind\": \"raw\", \"identifier\": \"user:7\"}\n```","operationId":"admin_reset_rate_limit_api_v1_admin_rate_limits_reset_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RateLimitResetRequest"},"examples":{"resetByIp":{"summary":"Reset by IP (all endpoints)","value":{"kind":"ip","ip":"203.0.113.7"}},"resetUserEndpoint":{"summary":"Reset user for one endpoint","value":{"kind":"user","user_id":42,"endpoint":"/api/v1/media/process"}},"resetApiDryRun":{"summary":"Reset API key (dry-run, all endpoints)","value":{"kind":"api","api_key_hash":"d41d8cd98f00b204e9800998ecf8427e","dry_run":true}},"resetRawIdentifier":{"summary":"Reset using raw identifier","value":{"kind":"raw","identifier":"user:7"}}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RateLimitResetResponse"},"examples":{"successAllEndpoints":{"summary":"Success: all endpoints reset","value":{"ok":true,"identifier":"ip:203.0.113.7","note":"Reset across all endpoints for identifier","db_rows_deleted":12,"redis_keys_deleted":24}},"dryRun":{"summary":"Dry run: no changes applied","value":{"ok":true,"identifier":"api:d41d8cd98f00b204","note":"dry_run: no changes applied","db_rows_deleted":5,"redis_keys_deleted":8}},"endpointOnly":{"summary":"Success: single endpoint reset","value":{"ok":true,"identifier":"user:42","endpoint":"/api/v1/media/process","db_rows_deleted":2,"redis_keys_deleted":2}}}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}},"400":{"content":{"application/json":{"examples":{"invalidKind":{"summary":"Bad request: invalid kind","value":{"detail":"kind must be one of ip|user|api|raw"}},"missingFieldForKind":{"summary":"Bad request: required field missing for kind","value":{"detail":"kind=ip requires 'ip'"}},"rawWithoutIdentifier":{"summary":"Bad request: raw kind missing identifier","value":{"detail":"kind=raw requires 'identifier'"}}}}}},"500":{"content":{"application/json":{"examples":{"resetFailed":{"summary":"Internal server error during reset","value":{"detail":"Failed to reset rate limit"}}}}}}}}},"/api/v1/admin/roles/{role_id}/rate-limits":{"post":{"tags":["admin","admin"],"summary":"Upsert Role Rate Limit","operationId":"upsert_role_rate_limit_api_v1_admin_roles__role_id__rate_limits_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RateLimitUpsertRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RateLimitResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/users/{user_id}/rate-limits":{"post":{"tags":["admin","admin"],"summary":"Upsert User Rate Limit","operationId":"upsert_user_rate_limit_api_v1_admin_users__user_id__rate_limits_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RateLimitUpsertRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RateLimitResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/registration-codes":{"post":{"tags":["admin","admin"],"summary":"Create Registration Code","description":"Create a new registration code\n\nArgs:\n    request: Registration code configuration\n\nReturns:\n    Created registration code details","operationId":"create_registration_code_api_v1_admin_registration_codes_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationCodeRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationCodeResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["admin","admin"],"summary":"List Registration Codes","description":"List all registration codes\n\nArgs:\n    include_expired: Include expired codes in the list\n\nReturns:\n    List of registration codes","operationId":"list_registration_codes_api_v1_admin_registration_codes_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"include_expired","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Expired"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationCodeListResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/registration-codes/{code_id}":{"delete":{"tags":["admin","admin"],"summary":"Delete Registration Code","description":"Delete a registration code\n\nArgs:\n    code_id: Registration code ID\n\nReturns:\n    Success message","operationId":"delete_registration_code_api_v1_admin_registration_codes__code_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"code_id","in":"path","required":true,"schema":{"type":"integer","title":"Code Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Delete Registration Code Api V1 Admin Registration Codes  Code Id  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/security/alert-status":{"get":{"tags":["admin","admin"],"summary":"Get Security Alert Status","description":"Return configuration and last-known status for AuthNZ security alerts.","operationId":"get_security_alert_status_api_v1_admin_security_alert_status_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SecurityAlertStatusResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/stats":{"get":{"tags":["admin","admin"],"summary":"Get System Stats","description":"Get system statistics\n\nReturns:\n    System-wide statistics including user counts, storage usage, etc.","operationId":"get_system_stats_api_v1_admin_stats_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemStatsResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/audit-log":{"get":{"tags":["admin","admin"],"summary":"Get Audit Log","description":"Get audit log entries\n\nArgs:\n    user_id: Filter by user ID\n    action: Filter by action type\n    days: Number of days to look back\n    limit: Maximum entries to return\n\nReturns:\n    Audit log entries","operationId":"get_audit_log_api_v1_admin_audit_log_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"action","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":1,"default":7,"title":"Days"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditLogResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/usage/daily":{"get":{"tags":["admin","admin"],"summary":"Get Usage Daily","description":"Query daily usage aggregates, optionally filtered by user and date range.","operationId":"get_usage_daily_api_v1_admin_usage_daily_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD inclusive","title":"Start"},"description":"YYYY-MM-DD inclusive"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD inclusive","title":"End"},"description":"YYYY-MM-DD inclusive"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":50,"title":"Limit"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageDailyResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/usage/top":{"get":{"tags":["admin","admin"],"summary":"Get Usage Top","description":"Top users by aggregate usage over a date range.","operationId":"get_usage_top_api_v1_admin_usage_top_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD inclusive","title":"Start"},"description":"YYYY-MM-DD inclusive"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD inclusive","title":"End"},"description":"YYYY-MM-DD inclusive"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"metric","in":"query","required":false,"schema":{"type":"string","pattern":"^(requests|bytes_total|bytes_in_total|errors)$","default":"requests","title":"Metric"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageTopResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/usage/aggregate":{"post":{"tags":["admin","admin"],"summary":"Run Usage Aggregate","description":"Trigger aggregation of usage_log into usage_daily for a specific day (UTC).","operationId":"run_usage_aggregate_api_v1_admin_usage_aggregate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"day","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD","title":"Day"},"description":"YYYY-MM-DD"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Run Usage Aggregate Api V1 Admin Usage Aggregate Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/usage/daily/export.csv":{"get":{"tags":["admin","admin"],"summary":"Export Usage Daily Csv","description":"Export usage_daily rows as CSV (includes bytes_in_total when available).","operationId":"export_usage_daily_csv_api_v1_admin_usage_daily_export_csv_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD inclusive","title":"Start"},"description":"YYYY-MM-DD inclusive"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD inclusive","title":"End"},"description":"YYYY-MM-DD inclusive"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"default":1000,"title":"Limit"}},{"name":"filename","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional filename for Content-Disposition","title":"Filename"},"description":"Optional filename for Content-Disposition"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"text/plain":{"schema":{"type":"string"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/usage/top/export.csv":{"get":{"tags":["admin","admin"],"summary":"Export Usage Top Csv","operationId":"export_usage_top_csv_api_v1_admin_usage_top_export_csv_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD inclusive","title":"Start"},"description":"YYYY-MM-DD inclusive"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD inclusive","title":"End"},"description":"YYYY-MM-DD inclusive"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"default":100,"title":"Limit"}},{"name":"metric","in":"query","required":false,"schema":{"type":"string","pattern":"^(requests|bytes_total|bytes_in_total|errors)$","default":"requests","title":"Metric"}},{"name":"filename","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional filename for Content-Disposition","title":"Filename"},"description":"Optional filename for Content-Disposition"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"text/plain":{"schema":{"type":"string"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/llm-usage/aggregate":{"post":{"tags":["admin","admin"],"summary":"Run Llm Usage Aggregate","description":"Trigger aggregation of llm_usage_log into llm_usage_daily for a specific day (UTC).","operationId":"run_llm_usage_aggregate_api_v1_admin_llm_usage_aggregate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"day","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD","title":"Day"},"description":"YYYY-MM-DD"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Run Llm Usage Aggregate Api V1 Admin Llm Usage Aggregate Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/llm-usage":{"get":{"tags":["admin","admin"],"summary":"Get Llm Usage","operationId":"get_llm_usage_api_v1_admin_llm_usage_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"provider","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"}},{"name":"model","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"}},{"name":"operation","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Operation"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status"}},{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO timestamp inclusive","title":"Start"},"description":"ISO timestamp inclusive"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO timestamp inclusive","title":"End"},"description":"ISO timestamp inclusive"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":50,"title":"Limit"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LLMUsageLogResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/llm-usage/summary":{"get":{"tags":["admin","admin"],"summary":"Get Llm Usage Summary","operationId":"get_llm_usage_summary_api_v1_admin_llm_usage_summary_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO timestamp inclusive","title":"Start"},"description":"ISO timestamp inclusive"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO timestamp inclusive","title":"End"},"description":"ISO timestamp inclusive"},{"name":"group_by","in":"query","required":false,"schema":{"type":"string","pattern":"^(user|provider|model|operation|day)$","default":"user","title":"Group By"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LLMUsageSummaryResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/llm-usage/top-spenders":{"get":{"tags":["admin","admin"],"summary":"Get Llm Top Spenders","operationId":"get_llm_top_spenders_api_v1_admin_llm_usage_top_spenders_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO timestamp inclusive","title":"Start"},"description":"ISO timestamp inclusive"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO timestamp inclusive","title":"End"},"description":"ISO timestamp inclusive"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":10,"title":"Limit"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LLMTopSpendersResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/llm-usage/export.csv":{"get":{"tags":["admin","admin"],"summary":"Export Llm Usage Csv","description":"Export filtered llm_usage_log rows as CSV.","operationId":"export_llm_usage_csv_api_v1_admin_llm_usage_export_csv_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"provider","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"}},{"name":"model","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"}},{"name":"operation","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Operation"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status"}},{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO timestamp inclusive","title":"Start"},"description":"ISO timestamp inclusive"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO timestamp inclusive","title":"End"},"description":"ISO timestamp inclusive"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"default":1000,"title":"Limit"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"text/plain":{"schema":{"type":"string"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/llm-usage/pricing/reload":{"post":{"tags":["admin","admin"],"summary":"Reload Llm Pricing Catalog","description":"Reload the LLM pricing catalog from environment and config file (admin-only).\n\nPicks up changes in PRICING_OVERRIDES and Config_Files/model_pricing.json\nwithout restarting the server.","operationId":"reload_llm_pricing_catalog_api_v1_admin_llm_usage_pricing_reload_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reload Llm Pricing Catalog Api V1 Admin Llm Usage Pricing Reload Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/chat/model-aliases/reload":{"post":{"tags":["admin","admin"],"summary":"Reload Chat Model Alias Caches","description":"Invalidate cached chat model lists and alias overrides (admin-only).\n\nClears module-scope lru_caches used by chat model alias resolution so\nupdates to Config_Files/model_pricing.json or env vars take effect\nwithout restarting the server.","operationId":"reload_chat_model_alias_caches_api_v1_admin_chat_model_aliases_reload_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reload Chat Model Alias Caches Api V1 Admin Chat Model Aliases Reload Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/personalization/consolidate":{"post":{"tags":["admin","admin"],"summary":"Trigger Personalization Consolidation","description":"Trigger personalization consolidation for a given user (admin-only).","operationId":"trigger_personalization_consolidation_api_v1_admin_personalization_consolidate_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"User ID to consolidate; defaults to single-user id","title":"User Id"},"description":"User ID to consolidate; defaults to single-user id"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Trigger Personalization Consolidation Api V1 Admin Personalization Consolidate Post"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/personalization/status":{"get":{"tags":["admin","admin"],"summary":"Get Personalization Status","description":"Return in-memory consolidation status (last tick per user).","operationId":"get_personalization_status_api_v1_admin_personalization_status_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Personalization Status Api V1 Admin Personalization Status Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/mcp/tool_catalogs":{"get":{"tags":["admin","admin"],"summary":"List MCP tool catalogs (admin)","description":"List MCP tool catalogs across global/org/team scopes.\n\nRBAC: Admin-only.\n\nFilters: Optional `org_id` and/or `team_id` parameters restrict results to a given scope.\nWithout filters, returns all catalogs.","operationId":"list_tool_catalogs_api_v1_admin_mcp_tool_catalogs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"}},{"name":"team_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Team Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ToolCatalogResponse"},"title":"Response List Tool Catalogs Api V1 Admin Mcp Tool Catalogs Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin","admin"],"summary":"Create MCP tool catalog (admin)","description":"Create a new MCP tool catalog in the chosen scope.\n\nRBAC: Admin-only.\n\nScope: Set `org_id` for org-owned, `team_id` for team-owned, or neither for global.\nName must be unique per (name, org_id, team_id).","operationId":"create_tool_catalog_api_v1_admin_mcp_tool_catalogs_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolCatalogCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolCatalogResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/mcp/tool_catalogs/{catalog_id}":{"delete":{"tags":["admin","admin"],"summary":"Delete MCP tool catalog (admin)","description":"Delete a catalog by id. Entries are removed via ON DELETE CASCADE.\n\nRBAC: Admin-only.\n\nScope: Works for any catalog (global/org/team).","operationId":"delete_tool_catalog_api_v1_admin_mcp_tool_catalogs__catalog_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"catalog_id","in":"path","required":true,"schema":{"type":"integer","title":"Catalog Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Tool Catalog Api V1 Admin Mcp Tool Catalogs  Catalog Id  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/mcp/tool_catalogs/{catalog_id}/entries":{"get":{"tags":["admin","admin"],"summary":"List catalog entries (admin)","description":"List tools included in the specified catalog.\n\nRBAC: Admin-only.","operationId":"list_tool_catalog_entries_api_v1_admin_mcp_tool_catalogs__catalog_id__entries_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"catalog_id","in":"path","required":true,"schema":{"type":"integer","title":"Catalog Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ToolCatalogEntryResponse"},"title":"Response List Tool Catalog Entries Api V1 Admin Mcp Tool Catalogs  Catalog Id  Entries Get"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["admin","admin"],"summary":"Add tool to catalog (admin)","description":"Add a tool entry to the catalog. Idempotent per (catalog_id, tool_name).\n\nRBAC: Admin-only.","operationId":"add_tool_catalog_entry_api_v1_admin_mcp_tool_catalogs__catalog_id__entries_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"catalog_id","in":"path","required":true,"schema":{"type":"integer","title":"Catalog Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolCatalogEntryCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolCatalogEntryResponse"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/mcp/tool_catalogs/{catalog_id}/entries/{tool_name}":{"delete":{"tags":["admin","admin"],"summary":"Remove tool from catalog (admin)","description":"Remove a tool entry from the catalog. Returns 200 whether or not the entry existed.\n\nRBAC: Admin-only.","operationId":"delete_tool_catalog_entry_api_v1_admin_mcp_tool_catalogs__catalog_id__entries__tool_name__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"catalog_id","in":"path","required":true,"schema":{"type":"integer","title":"Catalog Id"}},{"name":"tool_name","in":"path","required":true,"schema":{"type":"string","title":"Tool Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Tool Catalog Entry Api V1 Admin Mcp Tool Catalogs  Catalog Id  Entries  Tool Name  Delete"}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/network-info":{"get":{"tags":["admin","admin"],"summary":"Network Info","description":"Show resolved client IP, proxy headers, and access decision inputs for WebUI/Setup.\n\nReturns a JSON payload useful for debugging remote-access policy and proxy header handling.","operationId":"network_info_api_v1_admin_network_info_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"403":{"description":"Not authorized"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orgs/{org_id}/mcp/tool_catalogs":{"get":{"tags":["mcp-catalogs-scope"],"summary":"List org-scoped MCP tool catalogs","description":"List all MCP tool catalogs scoped to the specified organization.\n\nRBAC: Requires an org manager (owner/admin/lead) in this organization or a global admin.\n\nScope: Results include only catalogs with `org_id` matching the path and `team_id` NULL.","operationId":"list_org_tool_catalogs_api_v1_orgs__org_id__mcp_tool_catalogs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ToolCatalogResponse"},"title":"Response List Org Tool Catalogs Api V1 Orgs  Org Id  Mcp Tool Catalogs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["mcp-catalogs-scope"],"summary":"Create new org-scoped MCP tool catalog","description":"Create an MCP tool catalog owned by the specified organization.\n\nRBAC: Requires an org manager (owner/admin/lead) in this organization or a global admin.\n\nScope: Catalog is created with `org_id` set and `team_id` NULL. Name must be unique within the org scope.","operationId":"create_org_tool_catalog_api_v1_orgs__org_id__mcp_tool_catalogs_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolCatalogCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolCatalogResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/teams/{team_id}/mcp/tool_catalogs":{"get":{"tags":["mcp-catalogs-scope"],"summary":"List team-scoped MCP tool catalogs","description":"List all MCP tool catalogs scoped to the specified team.\n\nRBAC: Requires a team manager (owner/admin/lead) on this team or a global admin.\n\nScope: Results include only catalogs with `team_id` matching the path.","operationId":"list_team_tool_catalogs_api_v1_teams__team_id__mcp_tool_catalogs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"team_id","in":"path","required":true,"schema":{"type":"integer","title":"Team Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ToolCatalogResponse"},"title":"Response List Team Tool Catalogs Api V1 Teams  Team Id  Mcp Tool Catalogs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["mcp-catalogs-scope"],"summary":"Create new team-scoped MCP tool catalog","description":"Create an MCP tool catalog owned by the specified team.\n\nRBAC: Requires a team manager (owner/admin/lead) on this team or a global admin.\n\nScope: Catalog is created with `team_id` set. Name must be unique within the team scope.","operationId":"create_team_tool_catalog_api_v1_teams__team_id__mcp_tool_catalogs_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"team_id","in":"path","required":true,"schema":{"type":"integer","title":"Team Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolCatalogCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolCatalogResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orgs/{org_id}/mcp/tool_catalogs/{catalog_id}/entries":{"post":{"tags":["mcp-catalogs-scope"],"summary":"Add tool entry to an org-scoped catalog","description":"Add a tool entry to an org-scoped catalog. Idempotent per (catalog_id, tool_name).\n\nRBAC: Requires an org manager (owner/admin/lead) in this organization or a global admin.\n\nScope: Fails with 404 if the catalog is not owned by the specified org.","operationId":"add_org_catalog_entry_api_v1_orgs__org_id__mcp_tool_catalogs__catalog_id__entries_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"catalog_id","in":"path","required":true,"schema":{"type":"integer","title":"Catalog Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolCatalogEntryCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolCatalogEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/teams/{team_id}/mcp/tool_catalogs/{catalog_id}/entries":{"post":{"tags":["mcp-catalogs-scope"],"summary":"Add tool entry to a team-scoped catalog","description":"Add a tool entry to a team-scoped catalog. Idempotent per (catalog_id, tool_name).\n\nRBAC: Requires a team manager (owner/admin/lead) on this team or a global admin.\n\nScope: Fails with 404 if the catalog is not owned by the specified team.","operationId":"add_team_catalog_entry_api_v1_teams__team_id__mcp_tool_catalogs__catalog_id__entries_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"team_id","in":"path","required":true,"schema":{"type":"integer","title":"Team Id"}},{"name":"catalog_id","in":"path","required":true,"schema":{"type":"integer","title":"Catalog Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolCatalogEntryCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolCatalogEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orgs/{org_id}/mcp/tool_catalogs/{catalog_id}":{"delete":{"tags":["mcp-catalogs-scope"],"summary":"Delete an org-scoped catalog (cascade entries)","description":"Delete an org-owned catalog. Entries are removed via ON DELETE CASCADE.\n\nRBAC: Requires an org manager (owner/admin/lead) in this organization or a global admin.\n\nScope: Returns 404 if the catalog does not belong to the specified org.","operationId":"delete_org_tool_catalog_api_v1_orgs__org_id__mcp_tool_catalogs__catalog_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"catalog_id","in":"path","required":true,"schema":{"type":"integer","title":"Catalog Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Org Tool Catalog Api V1 Orgs  Org Id  Mcp Tool Catalogs  Catalog Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orgs/{org_id}/mcp/tool_catalogs/{catalog_id}/entries/{tool_name}":{"delete":{"tags":["mcp-catalogs-scope"],"summary":"Remove tool entry from an org-scoped catalog","description":"Remove a tool entry from an org-owned catalog.\n\nRBAC: Requires an org manager (owner/admin/lead) in this organization or a global admin.\n\nScope: Returns 404 if the catalog does not belong to the specified org.","operationId":"delete_org_catalog_entry_api_v1_orgs__org_id__mcp_tool_catalogs__catalog_id__entries__tool_name__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"org_id","in":"path","required":true,"schema":{"type":"integer","title":"Org Id"}},{"name":"catalog_id","in":"path","required":true,"schema":{"type":"integer","title":"Catalog Id"}},{"name":"tool_name","in":"path","required":true,"schema":{"type":"string","title":"Tool Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Org Catalog Entry Api V1 Orgs  Org Id  Mcp Tool Catalogs  Catalog Id  Entries  Tool Name  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/teams/{team_id}/mcp/tool_catalogs/{catalog_id}":{"delete":{"tags":["mcp-catalogs-scope"],"summary":"Delete a team-scoped catalog (cascade entries)","description":"Delete a team-owned catalog. Entries are removed via ON DELETE CASCADE.\n\nRBAC: Requires a team manager (owner/admin/lead) on this team or a global admin.\n\nScope: Returns 404 if the catalog does not belong to the specified team.","operationId":"delete_team_tool_catalog_api_v1_teams__team_id__mcp_tool_catalogs__catalog_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"team_id","in":"path","required":true,"schema":{"type":"integer","title":"Team Id"}},{"name":"catalog_id","in":"path","required":true,"schema":{"type":"integer","title":"Catalog Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Team Tool Catalog Api V1 Teams  Team Id  Mcp Tool Catalogs  Catalog Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/teams/{team_id}/mcp/tool_catalogs/{catalog_id}/entries/{tool_name}":{"delete":{"tags":["mcp-catalogs-scope"],"summary":"Remove tool entry from a team-scoped catalog","description":"Remove a tool entry from a team-owned catalog.\n\nRBAC: Requires a team manager (owner/admin/lead) on this team or a global admin.\n\nScope: Returns 404 if the catalog does not belong to the specified team.","operationId":"delete_team_catalog_entry_api_v1_teams__team_id__mcp_tool_catalogs__catalog_id__entries__tool_name__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"team_id","in":"path","required":true,"schema":{"type":"integer","title":"Team Id"}},{"name":"catalog_id","in":"path","required":true,"schema":{"type":"integer","title":"Catalog Id"}},{"name":"tool_name","in":"path","required":true,"schema":{"type":"string","title":"Tool Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Team Catalog Entry Api V1 Teams  Team Id  Mcp Tool Catalogs  Catalog Id  Entries  Tool Name  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/":{"get":{"tags":["media","Media Management"],"summary":"List All Media Items","description":"Compatibility wrapper around the main list endpoint used by tests.\n\nThe richer list implementation now lives in the modular ``media.listing``\nmodule, so this endpoint simply forwards to that handler and preserves the\nresponse model.","operationId":"list_all_media_api_v1_media__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Results per page","default":10,"title":"Results Per Page"},"description":"Results per page"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/metadata-search":{"get":{"tags":["media","Media Management"],"summary":"Search media by safe metadata","description":"Compatibility shim delegating to the modular metadata search implementation.\n\nThe canonical implementation now lives in\n``tldw_Server_API.app.api.v1.endpoints.media.listing.search_by_metadata``.","operationId":"search_by_metadata_api_v1_media_metadata_search_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"filters","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"JSON list of {field, op, value}","title":"Filters"},"description":"JSON list of {field, op, value}"},{"name":"field","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Single filter field","title":"Field"},"description":"Single filter field"},{"name":"op","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Operator: eq|contains|icontains|startswith|endswith","default":"icontains","title":"Op"},"description":"Operator: eq|contains|icontains|startswith|endswith"},{"name":"value","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Single filter value","title":"Value"},"description":"Single filter value"},{"name":"match_mode","in":"query","required":false,"schema":{"type":"string","description":"all|any","default":"all","title":"Match Mode"},"description":"all|any"},{"name":"group_by_media","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Group By Media"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Per Page"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/by-identifier":{"get":{"tags":["media","Media Management"],"summary":"Find media by standard identifier (DOI/PMID/PMCID/arXiv/S2)","description":"Compatibility shim delegating to the modular media.listing implementation.\n\nThe actual identifier lookup behaviour (including normalization and ETag\nhandling) now lives in\n``tldw_Server_API.app.api.v1.endpoints.media.listing.get_by_identifier``.","operationId":"get_by_identifier_api_v1_media_by_identifier_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"doi","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doi"}},{"name":"pmid","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pmid"}},{"name":"pmcid","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pmcid"}},{"name":"arxiv_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Arxiv Id"}},{"name":"s2_paper_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"S2 Paper Id"}},{"name":"group_by_media","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Group By Media"}},{"name":"if-none-match","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"If-None-Match"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/search":{"post":{"tags":["media","Media Management"],"summary":"Search Media Items","description":"Compatibility shim delegating to the modular media.listing implementation.\n\nThe actual search behaviour (including validation and ETag handling)\nnow lives in\n``tldw_Server_API.app.api.v1.endpoints.media.listing.search_media_items``.","operationId":"search_media_items_api_v1_media_search_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Results per page","default":10,"title":"Results Per Page"},"description":"Results per page"},{"name":"if-none-match","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"If-None-Match"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}":{"get":{"tags":["media","Media Management"],"summary":"Get Media Item Details","description":"Compatibility shim delegating to the modular ``media.item.get_media_item``.\n\nThe canonical implementation now lives in\n``tldw_Server_API.app.api.v1.endpoints.media.item.get_media_item``.\nThis wrapper keeps the legacy signature for direct imports while\nforwarding all work to the modular endpoint.","operationId":"get_media_item_api_v1_media__media_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","description":"The ID of the media item","title":"Media Id"},"description":"The ID of the media item"},{"name":"include_content","in":"query","required":false,"schema":{"type":"boolean","description":"Include main content text in response","default":true,"title":"Include Content"},"description":"Include main content text in response"},{"name":"include_versions","in":"query","required":false,"schema":{"type":"boolean","description":"Include versions list","default":true,"title":"Include Versions"},"description":"Include versions list"},{"name":"include_version_content","in":"query","required":false,"schema":{"type":"boolean","description":"Include content for each version in versions list","default":false,"title":"Include Version Content"},"description":"Include content for each version in versions list"},{"name":"if-none-match","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"If-None-Match"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["media","Media Management"],"summary":"Update Media Item","description":"Compatibility shim delegating to the modular media.item implementation.","operationId":"update_media_item_api_v1_media__media_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","description":"The ID of the media item","title":"Media Id"},"description":"The ID of the media item"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/versions":{"get":{"tags":["media","Media Versioning"],"summary":"List Media Versions","description":"Compatibility shim delegating to the modular media.versions implementation.\n\nThe canonical implementation now lives in\n``tldw_Server_API.app.api.v1.endpoints.media.versions.list_versions``.","operationId":"list_versions_api_v1_media__media_id__versions_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","description":"The ID of the media item","title":"Media Id"},"description":"The ID of the media item"},{"name":"include_content","in":"query","required":false,"schema":{"type":"boolean","description":"Include full content in response","default":false,"title":"Include Content"},"description":"Include full content in response"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Results per page","default":10,"title":"Limit"},"description":"Results per page"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VersionDetailResponse"},"title":"Response List Versions Api V1 Media  Media Id  Versions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["media","Media Versioning"],"summary":"Create Media Version","description":"Shim that forwards to the modular media.versions implementation.","operationId":"create_version_api_v1_media__media_id__versions_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VersionCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/versions/{version_number}":{"get":{"tags":["media","Media Versioning"],"summary":"Get Specific Media Version","description":"Compatibility shim delegating to the modular media.versions implementation.\n\nThe canonical implementation now lives in\n``tldw_Server_API.app.api.v1.endpoints.media.versions.get_version``.","operationId":"get_version_api_v1_media__media_id__versions__version_number__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","description":"The ID of the media item","title":"Media Id"},"description":"The ID of the media item"},{"name":"version_number","in":"path","required":true,"schema":{"type":"integer","description":"The version number","title":"Version Number"},"description":"The version number"},{"name":"include_content","in":"query","required":false,"schema":{"type":"boolean","description":"Include full content in response","default":true,"title":"Include Content"},"description":"Include full content in response"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VersionDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["media","Media Versioning"],"summary":"Soft Delete Media Version","description":"Shim that forwards to the modular media.versions implementation.","operationId":"delete_version_api_v1_media__media_id__versions__version_number__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","description":"The ID of the media item","title":"Media Id"},"description":"The ID of the media item"},{"name":"version_number","in":"path","required":true,"schema":{"type":"integer","description":"The version number","title":"Version Number"},"description":"The version number"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/versions/rollback":{"post":{"tags":["media","Media Versioning"],"summary":"Rollback to Media Version","description":"Shim that forwards to the modular media.versions implementation.","operationId":"rollback_version_api_v1_media__media_id__versions_rollback_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VersionRollbackRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/metadata":{"patch":{"tags":["media","Media Management"],"summary":"Update safe metadata for the latest version","description":"Shim that forwards to the modular media.versions implementation.","operationId":"patch_metadata_api_v1_media__media_id__metadata_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","description":"The ID of the media item","title":"Media Id"},"description":"The ID of the media item"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetadataPatchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/versions/{version_number}/metadata":{"put":{"tags":["media","Media Versioning"],"summary":"Set safe metadata for a specific version","description":"Shim that forwards to the modular media.versions implementation.","operationId":"put_version_metadata_api_v1_media__media_id__versions__version_number__metadata_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","description":"The ID of the media item","title":"Media Id"},"description":"The ID of the media item"},{"name":"version_number","in":"path","required":true,"schema":{"type":"integer","description":"The version number","title":"Version Number"},"description":"The version number"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetadataPatchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/versions/advanced":{"post":{"tags":["media","Media Versioning"],"summary":"Create or update version with content + safe metadata","description":"Shim that forwards to the modular media.versions implementation.","operationId":"create_or_update_version_advanced_api_v1_media__media_id__versions_advanced_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdvancedVersionUpsertRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/add":{"post":{"tags":["media","Media Ingestion & Persistence"],"summary":"Add media (URLs/files) with processing and persistence","description":"Thin wrapper for the `/media/add` endpoint.\n\nThis keeps the HTTP contract, auth/RBAC behavior, and side effects\nidentical to the legacy implementation while routing through the\nmodular `media` package. Processing and persistence logic is\nimplemented in the core `persistence.add_media_orchestrate`\nhelper, with `_legacy_media.add_media` retained only as a\ncompatibility shim for any historical imports.","operationId":"add_media_api_v1_media_add_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_add_media_api_v1_media_add_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/debug/schema":{"get":{"tags":["media","Media Debug"],"summary":"Debug DB schema for media service","description":"Return basic schema and row-count diagnostics for the media database.\n\nThis endpoint is read-only and intended for debugging and integration\ntests; it mirrors the legacy `/debug/schema` behavior while routing\nthrough the modular `media` package.","operationId":"debug_schema_api_v1_media_debug_schema_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DebugSchemaResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/ingest-web-content":{"post":{"tags":["media"],"summary":"Ingest Web Content","description":"A single endpoint that supports multiple advanced scraping methods:\n  - individual: Each item in 'urls' is scraped individually\n  - sitemap:    Interprets the first 'url' as a sitemap, scrapes it\n  - url_level:  Scrapes all pages up to 'url_level' path segments from the first 'url'\n  - recursive:  Scrapes up to 'max_pages' links, up to 'max_depth' from the base 'url'\n\nAlso supports content analysis, translation, chunking, DB ingestion, etc.","operationId":"ingest_web_content_api_v1_media_ingest_web_content_post","security":[{"OAuth2PasswordBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"token","in":"header","required":true,"schema":{"type":"string","description":"Authentication token","title":"Token"},"description":"Authentication token"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestWebContentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-code":{"post":{"tags":["media","Media Processing (No DB)"],"summary":"Process code files (NO DB Persistence)","description":"Reads uploaded or downloaded code files as text, optionally chunks by\nlines or structure-aware code chunking, and returns artifacts without\nDB writes.\n\nThis mirrors the legacy `_legacy_media.process_code_endpoint` behavior\nwhile routing through the modular `media` package.","operationId":"process_code_endpoint_api_v1_media_process_code_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_code_endpoint_api_v1_media_process_code_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-documents":{"post":{"tags":["media","Media Processing (No DB)"],"summary":"Extract, chunk, analyse Documents (NO DB Persistence)","description":"Process Documents (No Persistence).\n\nThis is a modularized version of the original legacy implementation in\n`_legacy_media.process_documents_endpoint`, preserving behavior while\nrouting through the `media` package and using the media shim for helpers\nthat tests monkeypatch (e.g. `_save_uploaded_files`, `_download_url_async`).","operationId":"process_documents_endpoint_api_v1_media_process_documents_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_documents_endpoint_api_v1_media_process_documents_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-pdfs":{"post":{"tags":["media","Media Processing (No DB)"],"summary":"Extract, chunk, analyse PDFs (NO DB Persistence)","description":"**Process PDFs (No Persistence)**\n\nExtracts text/metadata from PDFs using `pymupdf4llm`/PyMuPDF (optionally Docling/OCR),\nwith optional chunking and analysis. Returns artifacts without DB writes.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_PDF.md`\n\nExample:\n```python\nfrom tldw_Server_API.app.core.Ingestion_Media_Processing.PDF.PDF_Processing_Lib import process_pdf_task\nawait process_pdf_task(file_bytes, filename=\"paper.pdf\", parser=\"pymupdf4llm\", perform_chunking=True, api_name=\"openai\")\n```\n\nURL inputs must resolve to a PDF. The server accepts URLs that either:\n- end with `.pdf`, or\n- provide `Content-Disposition` with a filename ending in `.pdf`, or\n- set `Content-Type: application/pdf`.\nOther URLs are rejected with a clear error entry in the batch response.","operationId":"process_pdfs_endpoint_api_v1_media_process_pdfs_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/fastapi___compat__v2__Body_process_pdfs_endpoint_api_v1_media_process_pdfs_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-ebooks":{"post":{"tags":["media","Media Processing (No DB)"],"summary":"Extract, chunk, analyse EPUBs (NO DB Persistence)","description":"**Process Ebooks (No Persistence)**\n\nProcesses EPUB files (URLs or uploads): extract content/metadata, optional chunking and analysis.\nReturns processing artifacts without saving to the database.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_Ebooks.md`\n\nExample:\n```python\nfrom tldw_Server_API.app.core.Ingestion_Media_Processing.Books.Book_Processing_Lib import process_epub\nprocess_epub(\"/abs/book.epub\", perform_chunking=True, perform_analysis=True, api_name=\"openai\")\n```\n\nSupports `.epub` files.\nURL inputs must resolve to an EPUB. The server accepts URLs that either:\n- end with `.epub`, or\n- provide `Content-Disposition` with a filename ending in `.epub`, or\n- set `Content-Type: application/epub+zip`.\nOther URLs are rejected with a clear error entry in the batch response.","operationId":"process_ebooks_endpoint_api_v1_media_process_ebooks_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/fastapi___compat__v2__Body_process_ebooks_endpoint_api_v1_media_process_ebooks_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-emails":{"post":{"tags":["media","Media Processing (No DB)"],"summary":"Extract, chunk, analyse Emails (NO DB Persistence)","description":"Compatibility shim that forwards to the modular\n``media.process_emails.process_emails_endpoint`` implementation.\n\nThe HTTP route for ``/process-emails`` is now owned by the modular\nendpoint; this function remains for direct imports/tests.","operationId":"process_emails_endpoint_api_v1_media_process_emails_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/fastapi___compat__v2__Body_process_emails_endpoint_api_v1_media_process_emails_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-videos":{"post":{"tags":["media","Media Processing (No DB)"],"summary":"Transcribe / chunk / analyse videos and return the full artefacts (no DB write)","description":"Process videos without persisting to the Media DB.\n\nThis endpoint mirrors the legacy `/process-videos` behavior while routing\nthrough the modular `media` package and using shared helpers for input\nhandling and batch orchestration.","operationId":"process_videos_endpoint_api_v1_media_process_videos_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_videos_endpoint_api_v1_media_process_videos_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-audios":{"post":{"tags":["media","Media Processing (No DB)"],"summary":"Transcribe / chunk / analyse audio and return full artefacts (no DB write)","description":"Process audio inputs (URLs and uploads) without persisting to the Media DB.\n\nThis endpoint mirrors the legacy `/process-audios` behavior while routing\nthrough the modular `media` package and using shared helpers for input\nhandling and batch orchestration.","operationId":"process_audios_endpoint_api_v1_media_process_audios_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_audios_endpoint_api_v1_media_process_audios_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/process-web-scraping":{"post":{"tags":["media"],"summary":"Process Web Scraping Endpoint","description":"Ingest / scrape data from websites or sitemaps, optionally summarize,\nthen either store ephemeral or persist in DB.\n\nThis is the modular implementation of `/process-web-scraping`, mirroring\nthe legacy behavior while routing through the `media` package and using\nthe `media` shim so tests can continue to patch `process_web_scraping_task`.","operationId":"process_web_scraping_endpoint_api_v1_media_process_web_scraping_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebScrapingRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/mediawiki/ingest-dump":{"post":{"tags":["media","MediaWiki Processing"],"summary":"Ingest and process a MediaWiki XML dump, storing results to database and vector store.","description":"**MediaWiki Ingest (Streaming)**\n\nStreams ingestion events while processing a MediaWiki XML dump and persisting results.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_MediaWiki.md`\n\nExample (core iterator):\n```python\nfrom tldw_Server_API.app.core.Ingestion_Media_Processing.MediaWiki.Media_Wiki import import_mediawiki_dump\nevents = import_mediawiki_dump(\"/abs/enwiki.xml.bz2\", wiki_name=\"enwiki\", namespaces=[0], skip_redirects=True)\nfor ev in events: print(ev.get(\"type\"))\n```","operationId":"ingest_mediawiki_dump_endpoint_api_v1_media_mediawiki_ingest_dump_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/fastapi___compat__v2__Body_ingest_mediawiki_dump_endpoint_api_v1_media_mediawiki_ingest_dump_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/mediawiki/process-dump":{"post":{"tags":["media","MediaWiki Processing"],"summary":"Process a MediaWiki XML dump and return structured content without database storage.","description":"**MediaWiki Process (Ephemeral, Streaming)**\n\nStreams processed items from a MediaWiki XML dump without saving to the database.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_MediaWiki.md`","operationId":"process_mediawiki_dump_ephemeral_endpoint_api_v1_media_mediawiki_process_dump_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/fastapi___compat__v2__Body_process_mediawiki_dump_ephemeral_endpoint_api_v1_media_mediawiki_process_dump_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/transcription-models":{"get":{"tags":["media","Media Processing"],"summary":"Get Available Transcription Models","description":"Compatibility shim for the transcription models endpoint.\n\nDelegates to the modular ``media.transcription_models`` endpoint so\nthe data definition and HTTP contract live in a single place.","operationId":"get_transcription_models_api_v1_media_transcription_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array"},"type":"object","title":"Response Get Transcription Models Api V1 Media Transcription Models Get"}}}}}}},"/api/v1/media":{"get":{"tags":["media","Media Management"],"summary":"List Media","description":"Compatibility shim for the legacy list endpoint.\n\nDelegates to the modular ``media.listing.list_media_endpoint`` so\npagination and TEST_MODE behaviour are defined in one place.","operationId":"list_media_endpoint_api_v1_media_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number (1-based)","default":1,"title":"Page"},"description":"Page number (1-based)"},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Items per page","default":10,"title":"Results Per Page"},"description":"Items per page"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/speech":{"post":{"tags":["audio","Audio"],"summary":"Generates audio from text input.","description":"Generates audio from the input text.\n\nRequires authentication via Bearer token in Authorization header.\nRate limited to 10 requests per minute per IP address.\n\nInput is sanitized by `TTSInputValidator`, which normalizes Unicode,\nstrips HTML, and removes or rejects potentially dangerous patterns\n(e.g., obvious SQL/command/FS injection attempts). In strict mode\n(the default), such patterns result in HTTP 400 errors; in relaxed\nmode (`strict_validation` set to false via TTS config), dangerous\nsubstrings are stripped and the request is processed if non-empty.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_Audio.md`,\n`Docs/STT-TTS/TTS-SETUP-GUIDE.md` (sanitization and error semantics).\n\nExample (curl):\n```bash\ncurl -X POST \"http://127.0.0.1:8000/api/v1/audio/speech\"       -H \"Authorization: Bearer <TOKEN>\"       -H \"Content-Type: application/json\"       -d '{\"model\": \"tts-1\", \"input\": \"Hello world\", \"voice\": \"alloy\", \"response_format\": \"mp3\", \"stream\": true}'\n```","operationId":"create_speech_api_v1_audio_speech_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpenAISpeechRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/transcriptions":{"post":{"tags":["audio","Audio"],"summary":"Transcribes audio into text (OpenAI Compatible)","description":"Transcribes audio into the input language.\n\nCompatible with OpenAI's Audio API transcription endpoint.\nSupports multiple transcription models including Whisper, Parakeet, and Canary.\n\nModels:\n- whisper-1: Uses faster-whisper (default)\n- parakeet: NVIDIA Parakeet model (efficient)\n- canary: NVIDIA Canary model (multilingual)\n- qwen2audio: Qwen2 Audio model\n\nRate limited to 20 requests per minute per IP address.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_Audio.md`,\n      `Docs/API-related/Audio_Transcription_API.md`\n\nExample (curl):\n```bash\ncurl -X POST \"http://127.0.0.1:8000/api/v1/audio/transcriptions\"       -H \"Authorization: Bearer <TOKEN>\"       -F \"file=@/abs/audio.wav\" -F \"model=whisper-1\" -F \"language=en\" -F \"response_format=json\"\n```","operationId":"create_transcription_api_v1_audio_transcriptions_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_transcription_api_v1_audio_transcriptions_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/translations":{"post":{"tags":["audio","Audio"],"summary":"Translates audio into English (OpenAI Compatible)","description":"Translates audio into English.\n\nCompatible with OpenAI's Audio API translation endpoint.\nCurrently uses Whisper for translation to English.\n\nRate limited to 20 requests per minute per IP address.\n\nDocs: `Docs/Code_Documentation/Ingestion_Pipeline_Audio.md`,\n      `Docs/API-related/Audio_Transcription_API.md`","operationId":"create_translation_api_v1_audio_translations_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_translation_api_v1_audio_translations_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/chat":{"post":{"tags":["audio","Audio"],"summary":"Non-streaming Speech-to-Speech chat (STT → LLM → TTS)","description":"Execute a single non-streaming speech chat turn:\n\n  - Accept base64-encoded user audio.\n  - Run STT to obtain a transcript.\n  - Call the LLM with recent conversation history.\n  - Persist user/assistant messages into ChaChaNotes.\n  - Run TTS on the assistant reply and return base64-encoded audio.\n\nThis endpoint focuses on the v1 non-streaming path; streaming speech chat\nis handled by a separate WebSocket endpoint in v2.","operationId":"audio_chat_turn_api_v1_audio_chat_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpeechChatRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpeechChatResponse"}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/segment/transcript":{"post":{"tags":["audio","Audio"],"summary":"Segment a transcript into coherent blocks (TreeSeg)","description":"Segment a transcript into coherent segments using TreeSeg (hierarchical segmentation).\n\nInput is a list of transcript entries (utterances) containing at least 'composite' text,\nand optional 'start', 'end', 'speaker'. Returns a transitions vector and segments with\nindices, time bounds, speakers, and concatenated text.\n\nDocs: `Docs/API-related/Transcript_Segmentation_API.md`","operationId":"segment_transcript_api_v1_audio_segment_transcript_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranscriptSegmentationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/health":{"get":{"tags":["audio","Audio"],"summary":"Get Tts Health","description":"Get health status of TTS providers.\n\nReturns comprehensive health information including:\n- Provider availability\n- Circuit breaker status\n- Performance metrics\n- Active requests","operationId":"get_tts_health_api_v1_audio_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"}}}},"/api/v1/audio/providers":{"get":{"tags":["audio","Audio"],"summary":"List Tts Providers","description":"List all available TTS providers and their capabilities.","operationId":"list_tts_providers_api_v1_audio_providers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"}}}},"/api/v1/audio/voices/catalog":{"get":{"tags":["audio","Audio"],"summary":"List available TTS voices across providers","description":"List available voices from TTS providers.\n\n- If `provider` is specified, returns voices only for that provider.\n- Otherwise returns a mapping of provider name to voice lists.\n\nFor ElevenLabs, this uses the adapter's cached user voices (plus defaults)\nloaded during adapter initialization.","operationId":"list_tts_voices_api_v1_audio_voices_catalog_get","parameters":[{"name":"provider","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional provider filter, e.g., 'elevenlabs' or 'openai'","title":"Provider"},"description":"Optional provider filter, e.g., 'elevenlabs' or 'openai'"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/reset-metrics":{"post":{"tags":["audio","Audio"],"summary":"Reset Tts Metrics","description":"Reset TTS metrics.\n\nArgs:\n    provider: Optional provider name to reset metrics for. If not provided, resets all metrics.","operationId":"reset_tts_metrics_api_v1_audio_reset_metrics_post","parameters":[{"name":"provider","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/stream/status":{"get":{"tags":["audio","Audio"],"summary":"Check streaming transcription availability","description":"Report availability and capabilities of the streaming transcription WebSocket endpoint.\n\nReturns:\n    A JSON object with the following keys:\n      - `status` (str): \"available\" if at least one streaming model is present, \"unavailable\" otherwise, or \"error\" on failure.\n      - `available_models` (list[str]): Names of detected streaming model variants (e.g., \"parakeet-mlx\", \"parakeet-standard\", \"parakeet-onnx\").\n      - `websocket_endpoint` (str): URL path of the streaming transcription WebSocket.\n      - `supported_features` (dict): Feature flags indicating supported streaming capabilities (boolean values).","operationId":"streaming_status_api_v1_audio_stream_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"}}}},"/api/v1/audio/stream/limits":{"get":{"tags":["audio","Audio"],"summary":"Get user's streaming quota and usage","description":"Return the current user's streaming quota and usage summary.\n\nReturns:\n    JSONResponse: A JSON object with the following keys:\n        - user_id (str): The user's identifier.\n        - tier (str): The user's tier name (e.g., \"free\").\n        - limits (dict): The resolved limit values (e.g., daily_minutes, concurrent_streams, concurrent_jobs, max_file_size_mb).\n        - used_today_minutes (float): Minutes already used today (0.0 if unavailable).\n        - remaining_minutes (float|None): Minutes remaining today (0.0 if none left, `None` if unknown/unbounded).\n        - active_streams (int): Number of currently active streams (0 if unavailable).\n        - can_start_stream (bool): Whether the user may start another stream given current active streams and concurrent_streams limit.","operationId":"streaming_limits_api_v1_audio_stream_limits_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/stream/test":{"post":{"tags":["audio","Audio"],"summary":"Test streaming transcription setup","description":"Run a lightweight end-to-end check of the streaming transcription pipeline using a short generated audio sample.\n\nPerforms a minimal initialization of the Parakeet streaming transcriber, sends a short synthetic audio chunk, and returns the transcriber's immediate response or a buffering status.\n\nReturns:\n    JSONResponse: On success, a JSON object with keys:\n        - \"status\": \"success\"\n        - \"test_passed\": True\n        - \"message\": Human-readable success message\n        - \"test_result\": Transcriber response or the string \"Buffer accumulating\"\n    On failure, a JSONResponse with status_code 500 and a JSON object containing:\n        - \"status\": \"error\"\n        - \"test_passed\": False\n        - \"message\": Error message describing the failure","operationId":"test_streaming_api_v1_audio_stream_test_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"}}}},"/api/v1/audio/voices/upload":{"post":{"tags":["audio","Audio"],"summary":"Upload a custom voice sample","description":"Upload a custom voice sample for use with TTS.\n\nSupports voice cloning for compatible providers:\n- VibeVoice: Any duration (1-shot cloning)\n- Higgs: 3-10 seconds recommended\n- Chatterbox: 5-20 seconds recommended\n\nThe voice will be processed and optimized for the specified provider.","operationId":"upload_voice_api_v1_audio_voices_upload_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_voice_api_v1_audio_voices_upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/voices":{"get":{"tags":["audio","Audio"],"summary":"List user's custom voices","description":"List all custom voice samples uploaded by the user.\n\nReturns voice metadata including:\n- Voice ID for use in TTS requests\n- Name and description\n- Duration and format\n- Compatible providers","operationId":"list_voices_api_v1_audio_voices_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/voices/{voice_id}":{"get":{"tags":["audio","Audio"],"summary":"Get voice details","description":"Get detailed information about a specific voice.","operationId":"get_voice_details_api_v1_audio_voices__voice_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"voice_id","in":"path","required":true,"schema":{"type":"string","description":"Voice ID","title":"Voice Id"},"description":"Voice ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["audio","Audio"],"summary":"Delete a custom voice","description":"Delete a custom voice sample.\n\nThis will remove the voice files and prevent it from being used in future TTS requests.","operationId":"delete_voice_api_v1_audio_voices__voice_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"voice_id","in":"path","required":true,"schema":{"type":"string","description":"Voice ID to delete","title":"Voice Id"},"description":"Voice ID to delete"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/voices/{voice_id}/preview":{"post":{"tags":["audio","Audio"],"summary":"Generate voice preview","description":"Generate a short preview of a custom voice.\n\nThis endpoint generates a short audio sample using the specified voice\nto help users preview how it sounds before using it in full TTS requests.","operationId":"preview_voice_api_v1_audio_voices__voice_id__preview_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"voice_id","in":"path","required":true,"schema":{"type":"string","description":"Voice ID to preview","title":"Voice Id"},"description":"Voice ID to preview"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_preview_voice_api_v1_audio_voices__voice_id__preview_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/jobs/submit":{"post":{"tags":["audio-jobs"],"summary":"Submit an audio processing job","description":"Create an audio job in the Jobs queue. First stage is determined by input:\n- url → audio_download\n- local_path → audio_convert","operationId":"submit_audio_job_api_v1_audio_jobs_submit_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitAudioJobRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitAudioJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/jobs/{job_id}":{"get":{"tags":["audio-jobs"],"summary":"Get audio job status","description":"Return a single audio job if it belongs to the caller (or the caller is admin).","operationId":"get_audio_job_api_v1_audio_jobs__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudioJob"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/jobs/admin/list":{"get":{"tags":["audio-jobs"],"summary":"List audio jobs (admin)","operationId":"list_audio_jobs_admin_api_v1_audio_jobs_admin_list_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status: queued|processing|completed|failed|cancelled","title":"Status Filter"},"description":"Filter by status: queued|processing|completed|failed|cancelled"},{"name":"owner_user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by owner user id","title":"Owner User Id"},"description":"Filter by owner user id"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListAudioJobsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/jobs/admin/summary":{"get":{"tags":["audio-jobs"],"summary":"Summarize audio jobs by status (admin)","operationId":"summarize_audio_jobs_admin_api_v1_audio_jobs_admin_summary_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"owner_user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional owner filter","title":"Owner User Id"},"description":"Optional owner filter"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudioJobsSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/jobs/admin/summary-by-owner":{"get":{"tags":["audio-jobs"],"summary":"Summarize audio jobs by owner and status (admin)","operationId":"summary_by_owner_admin_api_v1_audio_jobs_admin_summary_by_owner_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AudioJobsSummaryByOwner"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/jobs/admin/owner/{owner_user_id}/processing":{"get":{"tags":["audio-jobs"],"summary":"Get owner's processing count and limit (admin)","operationId":"owner_processing_summary_api_v1_audio_jobs_admin_owner__owner_user_id__processing_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"owner_user_id","in":"path","required":true,"schema":{"type":"string","title":"Owner User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OwnerProcessingSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audio/jobs/admin/tiers/{user_id}":{"get":{"tags":["audio-jobs"],"summary":"Get user's audio tier (admin)","operationId":"get_user_tier_admin_api_v1_audio_jobs_admin_tiers__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserTierResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["audio-jobs"],"summary":"Set user's audio tier (admin)","operationId":"set_user_tier_admin_api_v1_audio_jobs_admin_tiers__user_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetUserTierRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserTierResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/commands":{"get":{"tags":["chat"],"summary":"List available slash commands","description":"Returns available chat slash commands with their descriptions. When permission enforcement is enabled, commands requiring a permission are filtered by the current user's privileges in multi-user mode.","operationId":"list_chat_commands_api_v1_chat_commands_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatCommandsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/validate":{"post":{"tags":["chat"],"summary":"Validate a chat dictionary payload","description":"Validates a chat dictionary JSON payload and returns a structured report including errors, warnings, and basic entry statistics.","operationId":"validate_chat_dictionary_api_v1_chat_dictionaries_validate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateDictionaryRequest"}}},"required":true},"responses":{"200":{"description":"Validation report produced successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateDictionaryResponse"}}}},"422":{"description":"Invalid request schema"}},"security":[{"HTTPBearer":[]}]}},"/api/v1/chat/completions":{"post":{"tags":["chat"],"summary":"Create chat completion (OpenAI-compatible)","description":"Generates an assistant response using the configured LLM provider. Supports OpenAI-compatible request schema, optional SSE streaming via `stream=true`, character/world book context, and chat dictionaries. Non-stream responses include `tldw_conversation_id` for client state. Authentication headers are validated via dependencies (AuthNZ); the declared header parameters are included for OpenAPI documentation clarity.","operationId":"create_chat_completion_api_v1_chat_completions_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","description":"Bearer token for authentication.","title":"Authorization"},"description":"Bearer token for authentication."},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatCompletionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Invalid request (e.g., empty messages, text too long, bad parameters)."},"401":{"description":"Invalid authentication token."},"404":{"description":"Resource not found (e.g., character)."},"409":{"description":"Data conflict (e.g., version mismatch during DB operation)."},"413":{"description":"Request payload too large (e.g., too many messages, too many images)."},"429":{"description":"Rate limit exceeded."},"500":{"description":"Internal server error."},"502":{"description":"Error received from an upstream LLM provider."},"503":{"description":"Service temporarily unavailable or misconfigured (e.g., provider API key issue)."},"504":{"description":"Upstream LLM provider timed out."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries":{"post":{"tags":["chat-dictionaries"],"summary":"Create a new chat dictionary","description":"Create a dictionary used for pattern-based text replacements in chat messages.","operationId":"create_chat_dictionary_api_v1_chat_dictionaries_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatDictionaryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatDictionaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["chat-dictionaries"],"summary":"List all chat dictionaries","description":"List dictionaries for the current user. Use include_inactive to show inactive ones.","operationId":"list_chat_dictionaries_api_v1_chat_dictionaries_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"include_inactive","in":"query","required":false,"schema":{"type":"boolean","description":"Include inactive dictionaries","default":false,"title":"Include Inactive"},"description":"Include inactive dictionaries"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DictionaryListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/{dictionary_id}":{"get":{"tags":["chat-dictionaries"],"summary":"Get dictionary with entries","description":"Retrieve a dictionary and all its entries by ID.","operationId":"get_chat_dictionary_api_v1_chat_dictionaries__dictionary_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatDictionaryWithEntries"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["chat-dictionaries"],"summary":"Update a dictionary","description":"Update dictionary metadata such as name, description, and active status.","operationId":"update_chat_dictionary_api_v1_chat_dictionaries__dictionary_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatDictionaryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatDictionaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chat-dictionaries"],"summary":"Delete a dictionary","description":"Delete a dictionary and its entries.","operationId":"delete_chat_dictionary_api_v1_chat_dictionaries__dictionary_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"hard_delete","in":"query","required":false,"schema":{"type":"boolean","description":"Permanently delete instead of soft delete","default":false,"title":"Hard Delete"},"description":"Permanently delete instead of soft delete"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/{dictionary_id}/entries":{"post":{"tags":["chat-dictionaries"],"summary":"Add entry to dictionary","description":"Add a pattern/replacement entry to a dictionary.","operationId":"add_dictionary_entry_api_v1_chat_dictionaries__dictionary_id__entries_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DictionaryEntryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DictionaryEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["chat-dictionaries"],"summary":"List dictionary entries","description":"List entries for a dictionary. Supports pagination/filters in body if present.","operationId":"list_dictionary_entries_api_v1_chat_dictionaries__dictionary_id__entries_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"group","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by group","title":"Group"},"description":"Filter by group"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__chat_dictionary_schemas__EntryListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/entries/{entry_id}":{"put":{"tags":["chat-dictionaries"],"summary":"Update dictionary entry","description":"Update entry fields such as replacement, enabled, group, case sensitivity, and probability.","operationId":"update_dictionary_entry_api_v1_chat_dictionaries_entries__entry_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"integer","title":"Entry Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DictionaryEntryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DictionaryEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chat-dictionaries"],"summary":"Delete dictionary entry","description":"Delete a single dictionary entry by ID.","operationId":"delete_dictionary_entry_api_v1_chat_dictionaries_entries__entry_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"integer","title":"Entry Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/process":{"post":{"tags":["chat-dictionaries"],"summary":"Process text through dictionaries","description":"Apply active dictionaries to the provided text and return transformed text and statistics.","operationId":"process_text_with_dictionaries_api_v1_chat_dictionaries_process_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessTextRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessTextResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/import":{"post":{"tags":["chat-dictionaries"],"summary":"Import dictionary from markdown","description":"Create a dictionary and entries from a markdown representation.","operationId":"import_dictionary_api_v1_chat_dictionaries_import_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportDictionaryRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportDictionaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/{dictionary_id}/export":{"get":{"tags":["chat-dictionaries"],"summary":"Export dictionary to markdown","description":"Export a dictionary and entries to a markdown representation.","operationId":"export_dictionary_api_v1_chat_dictionaries__dictionary_id__export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportDictionaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/{dictionary_id}/export/json":{"get":{"tags":["chat-dictionaries"],"summary":"Export dictionary to JSON","description":"Export a dictionary and entries to a JSON representation.","operationId":"export_dictionary_json_api_v1_chat_dictionaries__dictionary_id__export_json_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportDictionaryJSONResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/import/json":{"post":{"tags":["chat-dictionaries"],"summary":"Import dictionary from JSON","description":"Create a dictionary and entries from a JSON payload.","operationId":"import_dictionary_json_api_v1_chat_dictionaries_import_json_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportDictionaryJSONRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportDictionaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/dictionaries/{dictionary_id}/statistics":{"get":{"tags":["chat-dictionaries"],"summary":"Get dictionary statistics","description":"Return counts, groups, usage metrics, and averages for the specified dictionary.","operationId":"get_dictionary_statistics_api_v1_chat_dictionaries__dictionary_id__statistics_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dictionary_id","in":"path","required":true,"schema":{"type":"integer","title":"Dictionary Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DictionaryStatistics"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/generate":{"post":{"tags":["chat-documents"],"summary":"Generate a document from conversation","description":"Generate a document using conversation content and a template. May return async job metadata.","operationId":"generate_document_api_v1_chat_documents_generate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateDocumentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/GenerateDocumentResponse"},{"$ref":"#/components/schemas/AsyncGenerationResponse"}],"title":"Response Generate Document Api V1 Chat Documents Generate Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/jobs/{job_id}":{"get":{"tags":["chat-documents"],"summary":"Get generation job status","description":"Check the current status and progress of a document generation job.","operationId":"get_job_status_api_v1_chat_documents_jobs__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chat-documents"],"summary":"Cancel generation job","description":"Cancel a pending or running document generation job.","operationId":"cancel_job_api_v1_chat_documents_jobs__job_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Cancel Job Api V1 Chat Documents Jobs  Job Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents":{"get":{"tags":["chat-documents"],"summary":"List generated documents","description":"List previously generated documents for the current user.","operationId":"list_generated_documents_api_v1_chat_documents_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conversation_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"description":"Filter by conversation ID","title":"Conversation Id"},"description":"Filter by conversation ID"},{"name":"document_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/DocumentType"},{"type":"null"}],"description":"Filter by document type","title":"Document Type"},"description":"Filter by document type"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Maximum number of documents","default":50,"title":"Limit"},"description":"Maximum number of documents"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/{document_id}":{"get":{"tags":["chat-documents"],"summary":"Get generated document","description":"Retrieve a generated document by its identifier.","operationId":"get_generated_document_api_v1_chat_documents__document_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"integer","title":"Document Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeneratedDocument"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chat-documents"],"summary":"Delete generated document","description":"Delete a generated document by its identifier.","operationId":"delete_generated_document_api_v1_chat_documents__document_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"integer","title":"Document Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Delete Generated Document Api V1 Chat Documents  Document Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/prompts":{"post":{"tags":["chat-documents"],"summary":"Save custom prompt configuration","description":"Save a custom prompt configuration for a given document type.","operationId":"save_prompt_config_api_v1_chat_documents_prompts_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SavePromptConfigRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/prompts/{document_type}":{"get":{"tags":["chat-documents"],"summary":"Get prompt configuration","description":"Retrieve the saved prompt configuration for a document type.","operationId":"get_prompt_config_api_v1_chat_documents_prompts__document_type__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"document_type","in":"path","required":true,"schema":{"$ref":"#/components/schemas/DocumentType"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptConfigResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/bulk":{"post":{"tags":["chat-documents"],"summary":"Bulk generate documents","description":"Submit multiple document generations in one request. May return async job IDs.","operationId":"bulk_generate_documents_api_v1_chat_documents_bulk_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkGenerateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkGenerateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/documents/statistics":{"get":{"tags":["chat-documents"],"summary":"Get generation statistics","description":"Aggregate statistics across generated documents (counts, durations, errors).","operationId":"get_generation_statistics_api_v1_chat_documents_statistics_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerationStatistics"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/queue/status":{"get":{"tags":["chat"],"summary":"Chat request queue status","operationId":"get_chat_queue_status_api_v1_chat_queue_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/chat/queue/activity":{"get":{"tags":["chat"],"summary":"Recent chat queue activity","operationId":"get_chat_queue_activity_api_v1_chat_queue_activity_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tools":{"get":{"tags":["tools"],"summary":"List available tools for current user","operationId":"list_tools_endpoint_api_v1_tools_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tools/execute":{"post":{"tags":["tools"],"summary":"Execute a tool via the server","operationId":"execute_tool_endpoint_api_v1_tools_execute_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteToolRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteToolResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/import":{"post":{"tags":["characters","characters"],"summary":"Import character card","description":"Import a character card from a file.\n\nSupports:\n- Image files (PNG, WEBP) with embedded character data\n- JSON files (including Character Card V3 format)\n- Markdown files\n- Plain text files with JSON content\n\nFor JSON data, you can upload a .json file or a text file containing JSON.","operationId":"import_character_endpoint_api_v1_characters_import_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_character_endpoint_api_v1_characters_import_post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterImportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/":{"get":{"tags":["characters","characters"],"summary":"List characters","operationId":"list_all_characters_api_v1_characters__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CharacterResponse"},"title":"Response List All Characters Api V1 Characters  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["characters","characters"],"summary":"Create character","operationId":"create_new_character_endpoint_api_v1_characters__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/rate-limit-status":{"get":{"tags":["characters","characters"],"summary":"Get rate limit status","description":"Get current rate limit usage statistics for the authenticated user.","operationId":"get_rate_limit_status_api_v1_characters_rate_limit_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/filter":{"get":{"tags":["characters","characters"],"summary":"Filter characters by tags","description":"Filter characters by tags.\n\nArgs:\n    tags: List of tags to filter by\n    match_all: If True, require all tags; if False, match any tag\n    limit: Maximum results\n    offset: Pagination offset\n    db: Database instance\n\nReturns:\n    List of characters matching the tag criteria","operationId":"filter_characters_by_tags_api_v1_characters_filter_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tags","in":"query","required":false,"schema":{"type":"array","items":{"type":"string"},"description":"List of tags to filter by","default":[],"title":"Tags"},"description":"List of tags to filter by"},{"name":"match_all","in":"query","required":false,"schema":{"type":"boolean","description":"Require all tags (AND) vs any tag (OR)","default":false,"title":"Match All"},"description":"Require all tags (AND) vs any tag (OR)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CharacterResponse"},"title":"Response Filter Characters By Tags Api V1 Characters Filter Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books":{"get":{"tags":["characters","World Books"],"summary":"List world books","description":"List all world books for the user.","operationId":"list_world_books_api_v1_characters_world_books_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"include_disabled","in":"query","required":false,"schema":{"type":"boolean","description":"Include disabled world books","default":false,"title":"Include Disabled"},"description":"Include disabled world books"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["characters","World Books"],"summary":"Create a world book","description":"Create a new world book for the user.","operationId":"create_world_book_api_v1_characters_world_books_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/{character_id}":{"get":{"tags":["characters","characters"],"summary":"Get character by ID","operationId":"get_character_by_id_endpoint_api_v1_characters__character_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"ID of the character.","title":"Character Id"},"description":"ID of the character."},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["characters","characters"],"summary":"Update character","operationId":"update_character_endpoint_api_v1_characters__character_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"ID of the character to update.","title":"Character Id"},"description":"ID of the character to update."},{"name":"expected_version","in":"query","required":true,"schema":{"type":"integer","description":"Expected current version of the character for optimistic locking.","title":"Expected Version"},"description":"Expected current version of the character for optimistic locking."},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["characters","characters"],"summary":"Delete character","operationId":"delete_character_endpoint_api_v1_characters__character_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"ID of the character to delete.","title":"Character Id"},"description":"ID of the character to delete."},{"name":"expected_version","in":"query","required":true,"schema":{"type":"integer","description":"Expected current version of the character for optimistic locking.","title":"Expected Version"},"description":"Expected current version of the character for optimistic locking."},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeletionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/search/":{"get":{"tags":["characters","characters"],"summary":"Search characters","description":"Searches for characters based on a query string.\nThe search is performed against FTS-indexed fields in the database.","operationId":"search_characters_endpoint_api_v1_characters_search__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","description":"Search term for character name, description, etc.","title":"Query"},"description":"Search term for character name, description, etc."},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CharacterResponse"},"title":"Response Search Characters Endpoint Api V1 Characters Search  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/{world_book_id}":{"get":{"tags":["characters","World Books"],"summary":"Get world book with entries","description":"Get a world book with all its entries.","operationId":"get_world_book_api_v1_characters_world_books__world_book_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"World book ID","title":"World Book Id"},"description":"World book ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookWithEntries"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["characters","World Books"],"summary":"Update world book","description":"Update a world book.","operationId":"update_world_book_api_v1_characters_world_books__world_book_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","title":"World Book Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["characters","World Books"],"summary":"Delete world book","description":"Delete a world book.","operationId":"delete_world_book_api_v1_characters_world_books__world_book_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"World book ID","title":"World Book Id"},"description":"World book ID"},{"name":"hard_delete","in":"query","required":false,"schema":{"type":"boolean","description":"Permanently delete (default is soft delete)","default":false,"title":"Hard Delete"},"description":"Permanently delete (default is soft delete)"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeletionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/{world_book_id}/entries":{"post":{"tags":["characters","World Books"],"summary":"Add entry to world book","description":"Add an entry to a world book.","operationId":"add_world_book_entry_api_v1_characters_world_books__world_book_id__entries_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","title":"World Book Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookEntryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["characters","World Books"],"summary":"List world book entries","description":"List all entries in a world book.","operationId":"list_world_book_entries_api_v1_characters_world_books__world_book_id__entries_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"World book ID","title":"World Book Id"},"description":"World book ID"},{"name":"enabled_only","in":"query","required":false,"schema":{"type":"boolean","description":"Only show enabled entries","default":false,"title":"Enabled Only"},"description":"Only show enabled entries"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__world_book_schemas__EntryListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/entries/{entry_id}":{"put":{"tags":["characters","World Books"],"summary":"Update world book entry","description":"Update a world book entry.","operationId":"update_world_book_entry_api_v1_characters_world_books_entries__entry_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"integer","title":"Entry Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookEntryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookEntryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["characters","World Books"],"summary":"Delete world book entry","description":"Delete a world book entry.","operationId":"delete_world_book_entry_api_v1_characters_world_books_entries__entry_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"entry_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"Entry ID","title":"Entry Id"},"description":"Entry ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeletionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/{character_id}/world-books":{"post":{"tags":["characters","World Books"],"summary":"Attach world book to character","description":"Attach a world book to a character.","operationId":"attach_world_book_to_character_api_v1_characters__character_id__world_books_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","title":"Character Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterWorldBookAttachment"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterWorldBookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["characters","World Books"],"summary":"List character's world books","description":"Get all world books attached to a character.","operationId":"get_character_world_books_api_v1_characters__character_id__world_books_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"Character ID","title":"Character Id"},"description":"Character ID"},{"name":"enabled_only","in":"query","required":false,"schema":{"type":"boolean","description":"Only show enabled attachments","default":true,"title":"Enabled Only"},"description":"Only show enabled attachments"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CharacterWorldBookResponse"},"title":"Response Get Character World Books Api V1 Characters  Character Id  World Books Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/{character_id}/world-books/{world_book_id}":{"delete":{"tags":["characters","World Books"],"summary":"Detach world book from character","description":"Detach a world book from a character.","operationId":"detach_world_book_from_character_api_v1_characters__character_id__world_books__world_book_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"Character ID","title":"Character Id"},"description":"Character ID"},{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"World book ID","title":"World Book Id"},"description":"World book ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeletionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/process":{"post":{"tags":["characters","World Books"],"summary":"Process text with world info","description":"Process text to find and inject relevant world info.","operationId":"process_context_with_world_info_api_v1_characters_world_books_process_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessContextRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessContextResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/import":{"post":{"tags":["characters","World Books"],"summary":"Import world book","description":"Import a world book from external format.","operationId":"import_world_book_api_v1_characters_world_books_import_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookImportRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookImportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/{world_book_id}/export":{"get":{"tags":["characters","World Books"],"summary":"Export world book","description":"Export a world book to external format.","operationId":"export_world_book_api_v1_characters_world_books__world_book_id__export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"World book ID","title":"World Book Id"},"description":"World book ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookExport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/{world_book_id}/statistics":{"get":{"tags":["characters","World Books"],"summary":"Get world book statistics","description":"Get statistics for a world book.","operationId":"get_world_book_statistics_api_v1_characters_world_books__world_book_id__statistics_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"world_book_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"World book ID","title":"World Book Id"},"description":"World book ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorldBookStatistics"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/world-books/entries/bulk":{"post":{"tags":["characters","World Books"],"summary":"Bulk operations on entries","description":"Perform bulk operations on world book entries.","operationId":"bulk_entry_operations_api_v1_characters_world_books_entries_bulk_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkEntryOperation"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkOperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/characters/{character_id}/export":{"get":{"tags":["characters","characters"],"summary":"Export character in various formats","description":"Export a character in various formats.\n\nArgs:\n    character_id: ID of character to export\n    format: Export format (v3 for Character Card V3, v2 for V2, json for raw)\n    include_world_books: Whether to include world book data\n    db: Database instance\n\nReturns:\n    Character data in requested format\n\nRaises:\n    HTTPException: 404 if character not found","operationId":"export_character_api_v1_characters__character_id__export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"integer","exclusiveMinimum":0,"description":"Character ID to export","title":"Character Id"},"description":"Character ID to export"},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"Export format (v3, v2, json)","default":"v3","title":"Format"},"description":"Export format (v3, v2, json)"},{"name":"include_world_books","in":"query","required":false,"schema":{"type":"boolean","description":"Include associated world books","default":false,"title":"Include World Books"},"description":"Include associated world books"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Export Character Api V1 Characters  Character Id  Export Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/":{"post":{"tags":["character-chat-sessions","Chat Sessions"],"summary":"Create a new chat session","description":"Create a new chat session with a character.\n\nArgs:\n    session_data: Chat session creation data\n    db: Database instance\n    current_user: Authenticated user\n\nNotes:\n    This API does not automatically create a first assistant message. Clients\n    should POST a first user/assistant message after chat creation. The library\n    helper `start_new_chat_session` can seed a first message when used directly.\n\nReturns:\n    Created chat session details\n\nRaises:\n    HTTPException: 404 if character not found, 429 if rate limited","operationId":"create_chat_session_api_v1_chats__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"seed_first_message","in":"query","required":false,"schema":{"type":"boolean","description":"If true, seed the chat with an initial assistant greeting","default":false,"title":"Seed First Message"},"description":"If true, seed the chat with an initial assistant greeting"},{"name":"greeting_strategy","in":"query","required":false,"schema":{"enum":["default","alternate_random","alternate_index"],"type":"string","description":"How to choose the initial assistant greeting when seeding","default":"default","title":"Greeting Strategy"},"description":"How to choose the initial assistant greeting when seeding"},{"name":"alternate_index","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"description":"Index for alternate greeting when greeting_strategy=alternate_index","title":"Alternate Index"},"description":"Index for alternate greeting when greeting_strategy=alternate_index"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["character-chat-sessions","Chat Sessions"],"summary":"List user's chat sessions","description":"List all chat sessions for the current user.\n\nArgs:\n    character_id: Optional character ID filter\n    limit: Maximum number of items to return\n    offset: Number of items to skip\n    db: Database instance\n    current_user: Authenticated user\n\nReturns:\n    List of chat sessions with pagination info","operationId":"list_chat_sessions_api_v1_chats__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"character_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by character ID","title":"Character Id"},"description":"Filter by character ID"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Number of items to return","default":50,"title":"Limit"},"description":"Number of items to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of items to skip","default":0,"title":"Offset"},"description":"Number of items to skip"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}":{"get":{"tags":["character-chat-sessions","Chat Sessions"],"summary":"Get chat session details","description":"Get details of a specific chat session.\n\nArgs:\n    chat_id: Chat session ID\n    db: Database instance\n    current_user: Authenticated user\n\nReturns:\n    Chat session details\n\nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized","operationId":"get_chat_session_api_v1_chats__chat_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["character-chat-sessions","Chat Sessions"],"summary":"Update chat session","description":"Update a chat session's metadata.\n\nArgs:\n    chat_id: Chat session ID\n    update_data: Update data\n    expected_version: Expected version for optimistic locking\n    db: Database instance\n    current_user: Authenticated user\n\nReturns:\n    Updated chat session details\n\nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized, 409 if version conflict","operationId":"update_chat_session_api_v1_chats__chat_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"expected_version","in":"query","required":true,"schema":{"type":"integer","description":"Expected version for optimistic locking","title":"Expected Version"},"description":"Expected version for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["character-chat-sessions","Chat Sessions"],"summary":"Delete chat session","description":"Soft delete a chat session.\n\nArgs:\n    chat_id: Chat session ID\n    expected_version: Expected version for optimistic locking\n    db: Database instance\n    current_user: Authenticated user\n\nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized, 409 if version conflict","operationId":"delete_chat_session_api_v1_chats__chat_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"expected_version","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Expected version for optimistic locking","title":"Expected Version"},"description":"Expected version for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/context":{"get":{"tags":["character-chat-sessions","Chat Sessions"],"summary":"Get chat context for completions","description":"Return chat context formatted for chat completions.","operationId":"get_chat_context_api_v1_chats__chat_id__context_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/complete":{"post":{"tags":["character-chat-sessions","Chat Sessions"],"summary":"Legacy completion endpoint with simple rate limit","description":"DEPRECATED: The request body for this endpoint is ignored and will be rejected in a future release. Call this endpoint without a body. Prefer /{chat_id}/completions or /{chat_id}/complete-v2.","operationId":"complete_chat_legacy_api_v1_chats__chat_id__complete_post","deprecated":true,"security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"type":"object","additionalProperties":true},{"type":"null"}],"description":"DEPRECATED: Request body is ignored. This parameter will be removed and non-empty bodies will be rejected (422) in a future release.","title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/completions":{"post":{"tags":["character-chat-sessions","Chat Sessions"],"summary":"Prepare messages for chat completion (rate-limited)","description":"Prepare chat messages for use with the main Chat API, enforcing per-minute completion limits.\n\nThis endpoint does not call an LLM. It returns messages formatted for\nPOST /api/v1/chat/completions and applies the per-minute completion limiter.","operationId":"prepare_chat_completion_api_v1_chats__chat_id__completions_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterChatCompletionPrepRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterChatCompletionPrepResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/complete-v2":{"post":{"tags":["character-chat-sessions","Chat Sessions"],"summary":"Character Chat completion (operational, rate-limited)","description":"Builds context from the chat and calls a provider.\n\nStreaming: when stream=true, response is sent as SSE and assistant content is NOT persisted, even if save_to_db=true. Use non-streaming to persist, or persist manually after streaming.","operationId":"character_chat_completion_api_v1_chats__chat_id__complete_v2_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterChatCompletionV2Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterChatCompletionV2Response"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/export":{"get":{"tags":["character-chat-sessions","Chat Export"],"summary":"Export chat history","description":"Export chat history in various formats.\n\nArgs:\n    chat_id: Chat session ID to export\n    format: Export format\n    include_metadata: Whether to include metadata\n    include_character: Whether to include character info\n    db: Database instance\n    current_user: Authenticated user\n\nReturns:\n    Chat history in requested format\n\nRaises:\n    HTTPException: 404 if chat not found, 403 if unauthorized","operationId":"export_chat_history_api_v1_chats__chat_id__export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"Export format (json, markdown, text)","default":"json","title":"Format"},"description":"Export format (json, markdown, text)"},{"name":"include_metadata","in":"query","required":false,"schema":{"type":"boolean","description":"Include chat metadata","default":true,"title":"Include Metadata"},"description":"Include chat metadata"},{"name":"include_character","in":"query","required":false,"schema":{"type":"boolean","description":"Include character info","default":true,"title":"Include Character"},"description":"Include character info"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/completions/persist":{"post":{"tags":["character-chat-sessions","Chat Sessions"],"summary":"Persist streamed assistant content","description":"Persist an assistant message after a streamed completion. Optionally links to a prior user_message_id and stores tool_calls metadata.","operationId":"persist_streamed_assistant_message_api_v1_chats__chat_id__completions_persist_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterChatStreamPersistRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CharacterChatStreamPersistResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/messages":{"post":{"tags":["character-messages","Messages"],"summary":"Send a message in a chat","description":"Add a new message to a chat session.\n\nArgs:\n    chat_id: Chat session ID\n    message_data: Message content and metadata\n    db: Database instance\n    current_user: Authenticated user\n\nReturns:\n    Created message details\n\nRaises:\n    HTTPException: 404 if chat not found, 403 if unauthorized, 429 if rate limited","operationId":"send_message_api_v1_chats__chat_id__messages_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__chat_session_schemas__MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["character-messages","Messages"],"summary":"Get messages in a chat","description":"Get messages from a chat session.\n\nArgs:\n    chat_id: Chat session ID\n    limit: Maximum number of messages to return\n    offset: Number of messages to skip\n    include_deleted: Whether to include soft-deleted messages\n    include_character_context: Include character personality as system message\n    format_for_completions: Return in format ready for /api/v1/chat/completions\n    db: Database instance\n    current_user: Authenticated user\n\nReturns:\n    List of messages with pagination info, or formatted for completions if requested\n\nRaises:\n    HTTPException: 404 if chat not found, 403 if unauthorized","operationId":"get_chat_messages_api_v1_chats__chat_id__messages_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Number of messages to return","default":50,"title":"Limit"},"description":"Number of messages to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of messages to skip","default":0,"title":"Offset"},"description":"Number of messages to skip"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include deleted messages","default":false,"title":"Include Deleted"},"description":"Include deleted messages"},{"name":"include_character_context","in":"query","required":false,"schema":{"type":"boolean","description":"Include character context for chat completions","default":false,"title":"Include Character Context"},"description":"Include character context for chat completions"},{"name":"format_for_completions","in":"query","required":false,"schema":{"type":"boolean","description":"Format messages for use with chat/completions endpoint","default":false,"title":"Format For Completions"},"description":"Format messages for use with chat/completions endpoint"},{"name":"include_tool_calls","in":"query","required":false,"schema":{"type":"boolean","description":"Include tool_calls metadata per message when available (standard format only)","default":false,"title":"Include Tool Calls"},"description":"Include tool_calls metadata per message when available (standard format only)"},{"name":"include_metadata","in":"query","required":false,"schema":{"type":"boolean","description":"Include stored message metadata.extra JSON where available","default":false,"title":"Include Metadata"},"description":"Include stored message metadata.extra JSON where available"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/messages/{message_id}":{"get":{"tags":["character-messages","Messages"],"summary":"Get a specific message","description":"Get details of a specific message.\n\nArgs:\n    message_id: Message ID\n    db: Database instance\n    current_user: Authenticated user\n\nReturns:\n    Message details\n\nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized","operationId":"get_message_api_v1_messages__message_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","description":"Message ID","title":"Message Id"},"description":"Message ID"},{"name":"include_tool_calls","in":"query","required":false,"schema":{"type":"boolean","description":"Include tool_calls metadata when available","default":false,"title":"Include Tool Calls"},"description":"Include tool_calls metadata when available"},{"name":"include_metadata","in":"query","required":false,"schema":{"type":"boolean","description":"Include stored message metadata.extra JSON where available","default":false,"title":"Include Metadata"},"description":"Include stored message metadata.extra JSON where available"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__chat_session_schemas__MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["character-messages","Messages"],"summary":"Edit a message","description":"Edit the content of a message.\n\nArgs:\n    message_id: Message ID to edit\n    update_data: New message content\n    expected_version: Expected version for optimistic locking\n    db: Database instance\n    current_user: Authenticated user\n\nReturns:\n    Updated message details\n\nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized, 409 if version conflict","operationId":"edit_message_api_v1_messages__message_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","description":"Message ID","title":"Message Id"},"description":"Message ID"},{"name":"expected_version","in":"query","required":true,"schema":{"type":"integer","description":"Expected version for optimistic locking","title":"Expected Version"},"description":"Expected version for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__chat_session_schemas__MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["character-messages","Messages"],"summary":"Delete a message","description":"Soft delete a message from a conversation.\n\nArgs:\n    message_id: Message ID to delete\n    expected_version: Expected version for optimistic locking\n    db: Database instance\n    current_user: Authenticated user\n\nRaises:\n    HTTPException: 404 if not found, 403 if unauthorized, 409 if version conflict","operationId":"delete_message_api_v1_messages__message_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","description":"Message ID","title":"Message Id"},"description":"Message ID"},{"name":"expected_version","in":"query","required":true,"schema":{"type":"integer","description":"Expected version for optimistic locking","title":"Expected Version"},"description":"Expected version for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chats/{chat_id}/messages/search":{"get":{"tags":["character-messages","Messages"],"summary":"Search messages in a chat","description":"Search for messages in a chat session.\n\nArgs:\n    chat_id: Chat session ID\n    query: Search query string\n    limit: Maximum number of results\n    db: Database instance\n    current_user: Authenticated user\n\nReturns:\n    List of matching messages\n\nRaises:\n    HTTPException: 404 if chat not found, 403 if unauthorized","operationId":"search_messages_api_v1_chats__chat_id__messages_search_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","description":"Chat session ID","title":"Chat Id"},"description":"Chat session ID"},{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search query","title":"Query"},"description":"Search query"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Maximum results","default":50,"title":"Limit"},"description":"Maximum results"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/metrics/text":{"get":{"tags":["metrics","metrics"],"summary":"Get metrics in Prometheus text format","description":"Export all metrics in Prometheus text format.\n\nThis endpoint provides metrics for monitoring the application's performance,\nincluding:\n- Request rates and latencies\n- LLM API usage and costs\n- Database operations\n- Chat-specific metrics\n- System resource usage\n\nThe format is compatible with Prometheus scrapers.","operationId":"get_prometheus_metrics_api_v1_metrics_text_get","responses":{"200":{"description":"Successful Response"}}}},"/api/v1/metrics/json":{"get":{"tags":["metrics","metrics"],"summary":"Get metrics in JSON format","description":"Get all metrics in JSON format.\n\nThis provides a more detailed view of metrics with statistics,\nuseful for debugging and custom monitoring solutions.","operationId":"get_json_metrics_api_v1_metrics_json_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Json Metrics Api V1 Metrics Json Get"}}}}}}},"/api/v1/metrics/health":{"get":{"tags":["metrics","metrics"],"summary":"Health check with metrics","description":"Health check endpoint with basic metrics.\n\nReturns the health status of the application along with\nkey operational metrics.","operationId":"health_check_with_metrics_api_v1_metrics_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Health Check With Metrics Api V1 Metrics Health Get"}}}}}}},"/api/v1/metrics/chat":{"get":{"tags":["metrics","metrics"],"summary":"Get chat-specific metrics","description":"Get detailed chat-specific metrics.\n\nThis endpoint provides metrics specifically related to the chat\nfunctionality, including:\n- Request counts by provider and model\n- Token usage and costs\n- Streaming statistics\n- Character and conversation metrics","operationId":"get_chat_metrics_endpoint_api_v1_metrics_chat_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Chat Metrics Endpoint Api V1 Metrics Chat Get"}}}}}}},"/api/v1/metrics/reset":{"post":{"tags":["metrics","metrics"],"summary":"Reset metrics (admin only)","description":"Reset all metrics to their initial state.\n\nWARNING: This will clear all historical metrics data.\nThis endpoint should be protected with admin authentication\nin production.","operationId":"reset_metrics_api_v1_metrics_reset_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Reset Metrics Api V1 Metrics Reset Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/chunk_text":{"post":{"tags":["chunking","Text Processing","Chunking"],"summary":"Chunks provided text content based on specified options.","description":"Accepts text content and chunking options in a JSON body.\nReturns the text divided into chunks with associated metadata.\n\n- **text_content**: The raw string data to be chunked.\n- **file_name**: (Optional) A nominal filename for context.\n- **options**: (Optional) A dictionary specifying chunking parameters:\n    - **method**: e.g., 'words', 'sentences', 'json', 'semantic', 'xml', 'ebook_chapters'.\n    - **max_size**: Max size for chunks (depends on method).\n    - **overlap**: Overlap between chunks.\n    - **language**: e.g., 'en'. Auto-detected if None.\n    - **adaptive**: (bool) For methods that support it.\n    - **multi_level**: (bool) For methods that support it.\n    - **custom_chapter_pattern**: (str) Regex for 'ebook_chapters' method.\n    *(Refer to ChunkingOptionsRequest schema for all parameters and defaults)*","operationId":"process_text_for_chunking_json_api_v1_chunking_chunk_text_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTextRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingResponse"}}}},"400":{"description":"Invalid input, options, or chunking error (e.g., invalid JSON in text for 'json' method)."},"422":{"description":"Validation error in request payload."},"500":{"description":"Internal server error during chunking."}}}},"/api/v1/chunking/chunk_file":{"post":{"tags":["chunking","Text Processing","Chunking"],"summary":"Uploads a file, chunks its content, and returns the chunks.","operationId":"process_file_for_chunking_api_v1_chunking_chunk_file_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_process_file_for_chunking_api_v1_chunking_chunk_file_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingResponse"}}}},"400":{"description":"No file uploaded, or chunking error."},"422":{"description":"Validation error in form parameters."},"500":{"description":"Internal server error during chunking."}}}},"/api/v1/chunking/capabilities":{"get":{"tags":["chunking","Text Processing","Chunking"],"summary":"List chunking methods and defaults","operationId":"get_chunking_capabilities_api_v1_chunking_capabilities_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingCapabilitiesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates/diagnostics":{"get":{"tags":["chunking-templates","chunking-templates"],"summary":"Diagnostics","description":"Diagnostics for chunking templates backend capabilities.","operationId":"diagnostics_api_v1_chunking_templates_diagnostics_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates":{"get":{"tags":["chunking-templates","chunking-templates"],"summary":"List Templates","description":"List all available chunking templates with optional filtering.\n\nReturns:\n    List of chunking templates matching the filter criteria","operationId":"list_templates_api_v1_chunking_templates_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"include_builtin","in":"query","required":false,"schema":{"type":"boolean","description":"Include built-in templates","default":true,"title":"Include Builtin"},"description":"Include built-in templates"},{"name":"include_custom","in":"query","required":false,"schema":{"type":"boolean","description":"Include custom templates","default":true,"title":"Include Custom"},"description":"Include custom templates"},{"name":"tags","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Filter by tags","title":"Tags"},"description":"Filter by tags"},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by user ID","title":"User Id"},"description":"Filter by user ID"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTemplateListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["chunking-templates","chunking-templates"],"summary":"Create Template","description":"Create a new chunking template.\n\nArgs:\n    template_data: Template configuration and metadata\n\nReturns:\n    The created chunking template\n\nRaises:\n    400: Invalid template configuration\n    409: Template with same name already exists","operationId":"create_template_api_v1_chunking_templates_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTemplateCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates/{template_name}":{"get":{"tags":["chunking-templates","chunking-templates"],"summary":"Get Template","description":"Get a specific chunking template by name.\n\nArgs:\n    template_name: Name of the template to retrieve\n\nReturns:\n    The requested chunking template\n\nRaises:\n    404: Template not found","operationId":"get_template_api_v1_chunking_templates__template_name__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_name","in":"path","required":true,"schema":{"type":"string","title":"Template Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["chunking-templates","chunking-templates"],"summary":"Update Template","description":"Update an existing chunking template.\n\nArgs:\n    template_name: Name of the template to update\n    template_update: Fields to update\n\nReturns:\n    The updated chunking template\n\nRaises:\n    400: Cannot modify built-in templates\n    404: Template not found","operationId":"update_template_api_v1_chunking_templates__template_name__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_name","in":"path","required":true,"schema":{"type":"string","title":"Template Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTemplateUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChunkingTemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chunking-templates","chunking-templates"],"summary":"Delete Template","description":"Delete a chunking template.\n\nArgs:\n    template_name: Name of the template to delete\n    hard_delete: If true, permanently delete; otherwise soft delete\n\nRaises:\n    400: Cannot delete built-in templates\n    404: Template not found","operationId":"delete_template_api_v1_chunking_templates__template_name__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_name","in":"path","required":true,"schema":{"type":"string","title":"Template Name"}},{"name":"hard_delete","in":"query","required":false,"schema":{"type":"boolean","description":"Permanently delete template","default":false,"title":"Hard Delete"},"description":"Permanently delete template"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates/apply":{"post":{"tags":["chunking-templates","chunking-templates"],"summary":"Apply Template","description":"Apply a chunking template to text.\n\nArgs:\n    request: Template name and text to chunk\n\nReturns:\n    The chunked text results\n\nRaises:\n    404: Template not found\n    400: Template application error","operationId":"apply_template_api_v1_chunking_templates_apply_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"include_metadata","in":"query","required":false,"schema":{"type":"boolean","description":"Return chunk metadata; if false, return only text list","default":false,"title":"Include Metadata"},"description":"Return chunk metadata; if false, return only text list"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyTemplateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyTemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates/validate":{"post":{"tags":["chunking-templates","chunking-templates"],"summary":"Validate Template","description":"Validate a template configuration without saving it.\n\nArgs:\n    template_config: Template configuration to validate\n\nReturns:\n    Validation results with any errors or warnings","operationId":"validate_template_api_v1_chunking_templates_validate_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Template Config","description":"Template configuration to validate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplateValidationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates/match":{"post":{"tags":["chunking-templates","chunking-templates"],"summary":"Match Templates","description":"Return templates ranked by a simple metadata-based score for auto-apply.","operationId":"match_templates_api_v1_chunking_templates_match_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Type"}},{"name":"title","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"}},{"name":"url","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"}},{"name":"filename","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chunking/templates/learn":{"post":{"tags":["chunking-templates","chunking-templates"],"summary":"Learn Template","description":"Learn a basic hierarchical boundary template from an example text and optionally save it.","operationId":"learn_template_api_v1_chunking_templates_learn_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LearnTemplateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/outputs/templates":{"get":{"tags":["outputs-templates","outputs-templates"],"summary":"List output templates","operationId":"list_output_templates_api_v1_outputs_templates_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional search query by name/description","title":"Q"},"description":"Optional search query by name/description"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputTemplateList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["outputs-templates","outputs-templates"],"summary":"Create output template","operationId":"create_output_template_api_v1_outputs_templates_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputTemplateCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputTemplate"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/outputs/templates/{template_id}":{"get":{"tags":["outputs-templates","outputs-templates"],"summary":"Get output template","operationId":"get_output_template_api_v1_outputs_templates__template_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Template Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputTemplate"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["outputs-templates","outputs-templates"],"summary":"Update output template","operationId":"update_output_template_api_v1_outputs_templates__template_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Template Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputTemplateUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputTemplate"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["outputs-templates","outputs-templates"],"summary":"Delete output template","operationId":"delete_output_template_api_v1_outputs_templates__template_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Template Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Output Template Api V1 Outputs Templates  Template Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/outputs/templates/{template_id}/preview":{"post":{"tags":["outputs-templates","outputs-templates"],"summary":"Preview template rendering","operationId":"preview_output_template_api_v1_outputs_templates__template_id__preview_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Template Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplatePreviewRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplatePreviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/outputs":{"get":{"tags":["outputs","outputs"],"summary":"List outputs with filters","operationId":"list_outputs_api_v1_outputs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Size"}},{"name":"job_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Job Id"}},{"name":"run_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Run Id"}},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["outputs","outputs"],"summary":"Generate and persist a rendered output artifact","operationId":"create_output_api_v1_outputs_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputArtifact"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/outputs/deleted":{"get":{"tags":["outputs","outputs"],"summary":"List only soft-deleted outputs","operationId":"list_deleted_outputs_api_v1_outputs_deleted_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/outputs/{output_id}":{"get":{"tags":["outputs","outputs"],"summary":"Get output metadata","operationId":"get_output_api_v1_outputs__output_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"output_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Output Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputArtifact"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["outputs","outputs"],"summary":"Delete output metadata (and file)","operationId":"delete_output_api_v1_outputs__output_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"output_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Output Id"}},{"name":"hard","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Hard"}},{"name":"delete_file","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Delete File"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["outputs","outputs"],"summary":"Rename/change format/update metadata for an output","operationId":"update_output_api_v1_outputs__output_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"output_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Output Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputArtifact"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/outputs/{output_id}/download":{"get":{"tags":["outputs","outputs"],"summary":"Download output artifact","operationId":"download_output_api_v1_outputs__output_id__download_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"output_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Output Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"head":{"tags":["outputs","outputs"],"summary":"Check output artifact availability","operationId":"head_download_output_api_v1_outputs__output_id__download_head","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"output_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Output Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/outputs/download/by-name":{"get":{"tags":["outputs","outputs"],"summary":"Download output artifact by title","operationId":"download_output_by_name_api_v1_outputs_download_by_name_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string","title":"Title"}},{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Format"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/outputs/purge":{"post":{"tags":["outputs","outputs"],"summary":"Purge expired and aged soft-deleted outputs","operationId":"purge_outputs_api_v1_outputs_purge_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutputsPurgeRequest","default":{"delete_files":false,"soft_deleted_grace_days":30,"include_retention":true}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/compactor/run":{"post":{"tags":["embeddings","embeddings"],"summary":"Run a one-shot vector compaction for a user (admin only)","operationId":"run_compactor_once_api_v1_embeddings_compactor_run_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompactorRunRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompactorRunResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/providers-config":{"get":{"tags":["embeddings","embeddings"],"summary":"List configured embedding providers and models","description":"Return enabled providers and their models from the simplified embeddings config.\n\nResponse:\n    {\n      \"default_provider\": str,\n      \"default_model\": str,\n      \"providers\": [ {\"name\": str, \"models\": [str, ...]}, ... ]\n    }","operationId":"get_embeddings_providers_config_api_v1_embeddings_providers_config_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings":{"post":{"tags":["embeddings","embeddings"],"summary":"Create embeddings (enhanced with circuit breaker)","description":"Create embeddings with circuit breaker protection and enhanced error recovery","operationId":"create_embedding_endpoint_api_v1_embeddings_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"x-provider","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Provider"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEmbeddingRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEmbeddingResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/batch":{"post":{"tags":["embeddings","embeddings"],"summary":"Create embeddings for a batch of texts","operationId":"create_embeddings_batch_endpoint_api_v1_embeddings_batch_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsBatchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsBatchResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/models":{"get":{"tags":["embeddings","embeddings"],"summary":"List available embedding models","description":"List configured/known models with allowlist status.","operationId":"list_embedding_models_api_v1_embeddings_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"}}}},"/api/v1/embeddings/models/{model_id}":{"get":{"tags":["embeddings","embeddings"],"summary":"Get embedding model metadata","operationId":"get_embedding_model_info_api_v1_embeddings_models__model_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"model_id","in":"path","required":true,"schema":{"type":"string","title":"Model Id"}},{"name":"provider","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Provider override","title":"Provider"},"description":"Provider override"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/tenant/quotas":{"get":{"tags":["embeddings","embeddings"],"summary":"Get current tenant quotas (if multi-tenant)","operationId":"get_tenant_quotas_api_v1_embeddings_tenant_quotas_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TenantQuotaResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/job/priority/bump":{"post":{"tags":["embeddings","embeddings"],"summary":"Override/bump job priority for routing into priority queues (best-effort)","operationId":"bump_job_priority_api_v1_embeddings_job_priority_bump_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriorityBumpRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Bump Job Priority Api V1 Embeddings Job Priority Bump Post"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/models/warmup":{"post":{"tags":["embeddings","embeddings"],"summary":"Warmup (preload) an embedding model (admin)","operationId":"warmup_model_api_v1_embeddings_models_warmup_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelActionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/models/download":{"post":{"tags":["embeddings","embeddings"],"summary":"Download/prepare a model (admin)","operationId":"download_model_api_v1_embeddings_models_download_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelActionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/cache":{"delete":{"tags":["embeddings","embeddings"],"summary":"Clear embedding cache (admin only)","description":"Clear the embedding cache - requires admin privileges","operationId":"clear_cache_api_v1_embeddings_cache_delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/collections":{"post":{"tags":["embeddings","embeddings"],"summary":"Create a ChromaDB collection","operationId":"create_collection_api_v1_embeddings_collections_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CollectionCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CollectionResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["embeddings","embeddings"],"summary":"List ChromaDB collections","operationId":"list_collections_api_v1_embeddings_collections_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CollectionResponse"},"title":"Response List Collections Api V1 Embeddings Collections Get"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/collections/{collection_name}":{"delete":{"tags":["embeddings","embeddings"],"summary":"Delete a ChromaDB collection","operationId":"delete_collection_api_v1_embeddings_collections__collection_name__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"collection_name","in":"path","required":true,"schema":{"type":"string","title":"Collection Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"204":{"description":"Successful Response"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/collections/{collection_name}/stats":{"get":{"tags":["embeddings","embeddings"],"summary":"Retrieve collection statistics","operationId":"get_collection_stats_api_v1_embeddings_collections__collection_name__stats_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"collection_name","in":"path","required":true,"schema":{"type":"string","title":"Collection Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CollectionStatsResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/health":{"get":{"tags":["embeddings","embeddings"],"summary":"Health check with circuit breaker status","description":"Enhanced health check with circuit breaker status","operationId":"health_check_api_v1_embeddings_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"}}}},"/api/v1/embeddings/circuit-breakers":{"get":{"tags":["embeddings","embeddings"],"summary":"Get circuit breaker status (admin only)","description":"Get detailed circuit breaker status - requires admin privileges","operationId":"get_circuit_breakers_api_v1_embeddings_circuit_breakers_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/circuit-breakers/{provider}/reset":{"post":{"tags":["embeddings","embeddings"],"summary":"Reset circuit breaker (admin only)","description":"Reset specific circuit breaker - requires admin privileges","operationId":"reset_circuit_breaker_api_v1_embeddings_circuit_breakers__provider__reset_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"provider","in":"path","required":true,"schema":{"type":"string","title":"Provider"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/metrics":{"get":{"tags":["embeddings","embeddings"],"summary":"Get service metrics (admin only)","description":"Get detailed service metrics - requires admin privileges","operationId":"get_metrics_api_v1_embeddings_metrics_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/dlq":{"get":{"tags":["embeddings","embeddings"],"summary":"List DLQ items for a stage (admin only)","operationId":"list_dlq_items_api_v1_embeddings_dlq_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"stage","in":"query","required":false,"schema":{"type":"string","description":"Stage: chunking|embedding|storage","default":"embedding","title":"Stage"},"description":"Stage: chunking|embedding|storage"},{"name":"count","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Max items to return","default":50,"title":"Count"},"description":"Max items to return"},{"name":"job_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional job_id to filter","title":"Job Id"},"description":"Optional job_id to filter"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/dlq/requeue":{"post":{"tags":["embeddings","embeddings"],"summary":"Requeue a DLQ item to its live stream (admin only)","operationId":"requeue_dlq_item_api_v1_embeddings_dlq_requeue_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DLQRequeueRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/dlq/requeue/bulk":{"post":{"tags":["embeddings","embeddings"],"summary":"Bulk requeue DLQ items to live stream (admin only)","operationId":"requeue_dlq_bulk_api_v1_embeddings_dlq_requeue_bulk_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DLQRequeueBulkRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/dlq/stats":{"get":{"tags":["embeddings","embeddings"],"summary":"DLQ and queue depths (admin only)","operationId":"get_dlq_stats_api_v1_embeddings_dlq_stats_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/dlq/state":{"post":{"tags":["embeddings","embeddings"],"summary":"Set DLQ quarantine state (admin only)","operationId":"set_dlq_state_api_v1_embeddings_dlq_state_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DLQStateSetRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/stage/status":{"get":{"tags":["embeddings","embeddings"],"summary":"Get per-stage pause/drain flags (admin only)","operationId":"get_stage_status_api_v1_embeddings_stage_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/stage/control":{"post":{"tags":["embeddings","embeddings"],"summary":"Pause/Resume/Drain a stage (admin only)","operationId":"control_stage_api_v1_embeddings_stage_control_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StageControlRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/job/skip":{"post":{"tags":["embeddings","embeddings"],"summary":"Mark a job_id as skipped (admin only)","operationId":"mark_job_skipped_api_v1_embeddings_job_skip_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobSkipRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/job/skip/status":{"get":{"tags":["embeddings","embeddings"],"summary":"Check if a job_id is marked as skipped (admin only)","operationId":"get_job_skip_status_api_v1_embeddings_job_skip_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"query","required":true,"schema":{"type":"string","description":"Job ID to check","title":"Job Id"},"description":"Job ID to check"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/ledger/status":{"get":{"tags":["embeddings","embeddings"],"summary":"Inspect ledger entries by idempotency_key/dedupe_key (admin only)","description":"Return current ledger values for provided keys.\n\nReads:\n  - embeddings:ledger:idemp:{idempotency_key}\n  - embeddings:ledger:dedupe:{dedupe_key}\nValues may be plain strings or JSON objects with {status, ts, job_id}.","operationId":"get_ledger_status_api_v1_embeddings_ledger_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"idempotency_key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency Key"}},{"name":"dedupe_key","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dedupe Key"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/reembed/schedule":{"post":{"tags":["embeddings","embeddings"],"summary":"Schedule a re-embed expansion job (admin only)","description":"Create a Jobs row for the re-embed expansion worker to process.\n\nDomain: embeddings, Queue: reembed (configurable via REEMBED_JOB_QUEUE), Job Type: expand_reembed.","operationId":"schedule_reembed_api_v1_embeddings_reembed_schedule_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReembedScheduleRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReembedScheduleResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/orchestrator/events":{"get":{"tags":["embeddings","embeddings"],"summary":"SSE: embeddings orchestrator live summary (admin only)","operationId":"orchestrator_events_api_v1_embeddings_orchestrator_events_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/embeddings/orchestrator/summary":{"get":{"tags":["embeddings","embeddings"],"summary":"Orchestrator summary for polling (admin only)","description":"Return a snapshot identical to the SSE payload.\n\nIncludes: queues, dlq, ages, stages, flags, ts","operationId":"orchestrator_summary_api_v1_embeddings_orchestrator_summary_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"429":{"description":"Rate limit exceeded"},"500":{"description":"Internal server error"},"503":{"description":"Service unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores":{"post":{"tags":["vector-stores","vector-stores"],"summary":"Create Vector Store","operationId":"create_vector_store_api_v1_vector_stores_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorStoreCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorStoreObject"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["vector-stores","vector-stores"],"summary":"List Vector Stores","description":"List vector stores for the current user.","operationId":"list_vector_stores_api_v1_vector_stores_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/admin/users":{"get":{"tags":["vector-stores","vector-stores"],"summary":"List Vector Store Users","operationId":"list_vector_store_users_api_v1_vector_stores_admin_users_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}":{"patch":{"tags":["vector-stores","vector-stores"],"summary":"Update Vector Store","operationId":"update_vector_store_api_v1_vector_stores__store_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorStoreUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorStoreObject"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["vector-stores","vector-stores"],"summary":"Delete Vector Store","operationId":"delete_vector_store_api_v1_vector_stores__store_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["vector-stores","vector-stores"],"summary":"Get Vector Store","description":"Fetch a single vector store by id.\n\nPlaced after batch/admin routes to avoid path shadowing of '/vector_stores/batches'.","operationId":"get_vector_store_api_v1_vector_stores__store_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VectorStoreObject"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/vectors":{"post":{"tags":["vector-stores","vector-stores"],"summary":"Upsert Vectors","operationId":"upsert_vectors_api_v1_vector_stores__store_id__vectors_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpsertVectorsRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["vector-stores","vector-stores"],"summary":"List Vectors","description":"List vectors in a store with pagination and optional filters/ordering.","operationId":"list_vectors_api_v1_vector_stores__store_id__vectors_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"exclusiveMinimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional JSON metadata filter","examples":{"simple":{"summary":"Simple equality","value":"{\"genre\":\"a\"}"},"and_numeric":{"summary":"AND with numeric","value":"{\"$and\":[{\"genre\":\"a\"},{\"score\":{\"$gte\":0.8}}]}"}},"title":"Filter"},"description":"Optional JSON metadata filter"},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Order field: 'id' or 'metadata.<key>'","examples":{"metadata":{"summary":"Order by metadata.score desc","value":"metadata.score"}},"default":"id","title":"Order By"},"description":"Order field: 'id' or 'metadata.<key>'"},{"name":"order_dir","in":"query","required":false,"schema":{"type":"string","pattern":"^(?i)(asc|desc)$","examples":{"desc":{"summary":"Descending","value":"desc"}},"default":"asc","title":"Order Dir"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/duplicate":{"post":{"tags":["vector-stores","vector-stores"],"summary":"Duplicate Vector Store","operationId":"duplicate_vector_store_api_v1_vector_stores__store_id__duplicate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DuplicateStoreRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/admin/index_info":{"get":{"tags":["vector-stores","vector-stores"],"summary":"Get Index Info","operationId":"get_index_info_api_v1_vector_stores__store_id__admin_index_info_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/admin/hnsw_ef_search":{"post":{"tags":["vector-stores","vector-stores"],"summary":"Set Hnsw Ef Search","operationId":"set_hnsw_ef_search_api_v1_vector_stores_admin_hnsw_ef_search_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HNSWEfSearchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/admin/rebuild_index":{"post":{"tags":["vector-stores","vector-stores"],"summary":"Rebuild Index","operationId":"rebuild_index_api_v1_vector_stores__store_id__admin_rebuild_index_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RebuildIndexRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/admin/delete_by_filter":{"post":{"tags":["vector-stores","vector-stores"],"summary":"Delete By Filter","operationId":"delete_by_filter_api_v1_vector_stores__store_id__admin_delete_by_filter_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteByFilterRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/admin/health":{"get":{"tags":["vector-stores","vector-stores"],"summary":"Vector Stores Health","operationId":"vector_stores_health_api_v1_vector_stores_admin_health_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/vectors/{vector_id}":{"delete":{"tags":["vector-stores","vector-stores"],"summary":"Delete Vector","operationId":"delete_vector_api_v1_vector_stores__store_id__vectors__vector_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"vector_id","in":"path","required":true,"schema":{"type":"string","title":"Vector Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/query":{"post":{"tags":["vector-stores","vector-stores"],"summary":"Query Vectors","operationId":"query_vectors_api_v1_vector_stores__store_id__query_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/vectors/batches":{"post":{"tags":["vector-stores","vector-stores"],"summary":"Upsert Vectors Batch","operationId":"upsert_vectors_batch_api_v1_vector_stores__store_id__vectors_batches_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpsertVectorsRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/{store_id}/vectors/batches/{batch_id}":{"get":{"tags":["vector-stores","vector-stores"],"summary":"Get Batch Status","operationId":"get_batch_status_api_v1_vector_stores__store_id__vectors_batches__batch_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"store_id","in":"path","required":true,"schema":{"type":"string","title":"Store Id"}},{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/batches":{"get":{"tags":["vector-stores","vector-stores"],"summary":"List Vector Batches","operationId":"list_vector_batches_api_v1_vector_stores_batches_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"exclusiveMinimum":0,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Admin-only: override user id to view their batches","title":"User Id"},"description":"Admin-only: override user id to view their batches"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vector_stores/create_from_media":{"post":{"tags":["vector-stores","vector-stores"],"summary":"Create Store From Media","operationId":"create_store_from_media_api_v1_vector_stores_create_from_media_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFromMediaRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/claims/status":{"get":{"tags":["claims"],"summary":"Claims Rebuild Status","description":"Return statistics about the claims rebuild worker. Admin only.","operationId":"claims_rebuild_status_api_v1_claims_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Claims Rebuild Status Api V1 Claims Status Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/claims/{media_id}":{"get":{"tags":["claims"],"summary":"List Claims","operationId":"list_claims_api_v1_claims__media_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","maximum":100000,"minimum":0,"default":0,"title":"Offset"}},{"name":"envelope","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Envelope"}},{"name":"absolute_links","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Absolute Links"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response List Claims Api V1 Claims  Media Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/claims/{media_id}/rebuild":{"post":{"tags":["claims"],"summary":"Rebuild Claims","operationId":"rebuild_claims_api_v1_claims__media_id__rebuild_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Rebuild Claims Api V1 Claims  Media Id  Rebuild Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/claims/rebuild/all":{"post":{"tags":["claims"],"summary":"Rebuild All Media","description":"Enqueue rebuild tasks for all media for the current user based on policy:\n- missing: media with no non-deleted claims\n- all: all media\n- stale: media where MAX(Claims.last_modified) < Media.last_modified","operationId":"rebuild_all_media_api_v1_claims_rebuild_all_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"policy","in":"query","required":false,"schema":{"type":"string","default":"missing","title":"Policy"}},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Rebuild All Media Api V1 Claims Rebuild All Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/claims/rebuild_fts":{"post":{"tags":["claims"],"summary":"Rebuild Claims Fts","description":"Rebuild claims_fts index from Claims content.","operationId":"rebuild_claims_fts_api_v1_claims_rebuild_fts_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Rebuild Claims Fts Api V1 Claims Rebuild Fts Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/embeddings/status":{"get":{"tags":["media-embeddings","media-embeddings"],"summary":"Get Embeddings Status","description":"Check if embeddings exist for a media item","operationId":"get_embeddings_status_api_v1_media__media_id__embeddings_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/{media_id}/embeddings":{"post":{"tags":["media-embeddings","media-embeddings"],"summary":"Generate Embeddings","description":"Generate embeddings for a media item","operationId":"generate_embeddings_api_v1_media__media_id__embeddings_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateEmbeddingsRequest","default":{"chunk_size":1000,"chunk_overlap":200,"force_regenerate":false}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateEmbeddingsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["media-embeddings","media-embeddings"],"summary":"Delete Embeddings","description":"Delete embeddings for a media item","operationId":"delete_embeddings_api_v1_media__media_id__embeddings_delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"media_id","in":"path","required":true,"schema":{"type":"integer","title":"Media Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Embeddings Api V1 Media  Media Id  Embeddings Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/embeddings/batch":{"post":{"tags":["media-embeddings","media-embeddings"],"summary":"Generate Embeddings Batch","description":"Launch embedding jobs for multiple media items.","operationId":"generate_embeddings_batch_api_v1_media_embeddings_batch_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchMediaEmbeddingsRequest"}}}},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchMediaEmbeddingsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/embeddings/search":{"post":{"tags":["media-embeddings","media-embeddings"],"summary":"Search Embeddings","description":"Search stored embeddings using the provided query text.","operationId":"search_embeddings_api_v1_media_embeddings_search_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsSearchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/embeddings/jobs/{job_id}":{"get":{"tags":["media-embeddings","media-embeddings"],"summary":"Get Media Embedding Job","operationId":"get_media_embedding_job_api_v1_media_embeddings_jobs__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/media/embeddings/jobs":{"get":{"tags":["media-embeddings","media-embeddings"],"summary":"List Media Embedding Jobs","operationId":"list_media_embedding_jobs_api_v1_media_embeddings_jobs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/items":{"get":{"tags":["items","items"],"summary":"Unified items list across origins","operationId":"list_items_api_v1_items_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Filter by item IDs","title":"Ids"},"description":"Filter by item IDs"},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search query (title/content)","title":"Q"},"description":"Search query (title/content)"},{"name":"tags","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Require these tags (names)","title":"Tags"},"description":"Require these tags (names)"},{"name":"domain","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by domain (hostname)","title":"Domain"},"description":"Filter by domain (hostname)"},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO start date inclusive","title":"Date From"},"description":"ISO start date inclusive"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO end date inclusive","title":"Date To"},"description":"ISO end date inclusive"},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Filter by status (e.g., saved, read)","title":"Status Filter"},"description":"Filter by status (e.g., saved, read)"},{"name":"favorite","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by favorite flag","title":"Favorite"},"description":"Filter by favorite flag"},{"name":"origin","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by origin (watchlist, reading, etc.)","title":"Origin"},"description":"Filter by origin (watchlist, reading, etc.)"},{"name":"job_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by job_id","title":"Job Id"},"description":"Filter by job_id"},{"name":"run_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by run_id","title":"Run Id"},"description":"Filter by run_id"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":20,"title":"Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reading/save":{"post":{"tags":["reading","reading"],"summary":"Save a URL into the reading list","operationId":"save_reading_item_api_v1_reading_save_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadingSaveRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadingItem"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reading/items":{"get":{"tags":["reading","reading"],"summary":"List reading items","operationId":"list_reading_items_api_v1_reading_items_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Status"}},{"name":"tags","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Tags"}},{"name":"favorite","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Favorite"}},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"domain","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Domain"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":20,"title":"Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadingItemsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reading/items/{item_id}":{"patch":{"tags":["reading","reading"],"summary":"Update reading item metadata","operationId":"update_reading_item_api_v1_reading_items__item_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadingUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReadingItem"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/sources":{"post":{"tags":["watchlists","watchlists"],"summary":"Create a source","operationId":"create_source_api_v1_watchlists_sources_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourceCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Source"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["watchlists","watchlists"],"summary":"List sources","operationId":"list_sources_api_v1_watchlists_sources_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"tags","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Filter by tag names (AND semantics)","title":"Tags"},"description":"Filter by tag names (AND semantics)"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourcesListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/sources/export":{"get":{"tags":["watchlists","watchlists"],"summary":"Export sources to OPML","operationId":"export_sources_opml_api_v1_watchlists_sources_export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tag","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Filter by tag(s)","title":"Tag"},"description":"Filter by tag(s)"},{"name":"group","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Filter by group id(s) (OR semantics)","title":"Group"},"description":"Filter by group id(s) (OR semantics)"},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by source_type (rss/site)","title":"Type"},"description":"Filter by source_type (rss/site)"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/sources/import":{"post":{"tags":["watchlists","watchlists"],"summary":"Import sources from OPML","operationId":"import_sources_opml_api_v1_watchlists_sources_import_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_sources_opml_api_v1_watchlists_sources_import_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourcesImportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/sources/{source_id}":{"get":{"tags":["watchlists","watchlists"],"summary":"Get source","operationId":"get_source_api_v1_watchlists_sources__source_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"source_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Source Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Source"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["watchlists","watchlists"],"summary":"Update source","operationId":"update_source_api_v1_watchlists_sources__source_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"source_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Source Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourceUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Source"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["watchlists","watchlists"],"summary":"Delete source","operationId":"delete_source_api_v1_watchlists_sources__source_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"source_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Source Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/sources/bulk":{"post":{"tags":["watchlists","watchlists"],"summary":"Bulk create sources with per-entry status","description":"Creates multiple sources and returns per-entry status. Each item is either created or returns an error with reason.\n\nValidation: When `source_type=\"rss\"` and the URL is a YouTube link, only canonical RSS feeds are accepted (e.g., https://www.youtube.com/feeds/videos.xml?channel_id=..., playlist_id=..., user=...). Non-feed YouTube URLs are rejected per-entry with error `invalid_youtube_rss_url`. Tags must be non-empty strings; invalid tags are rejected per-entry with `invalid_tag_names`.","operationId":"bulk_create_sources_api_v1_watchlists_sources_bulk_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourcesBulkCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourcesBulkCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/tags":{"get":{"tags":["watchlists","watchlists"],"summary":"List tags","operationId":"list_tags_api_v1_watchlists_tags_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TagsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/groups":{"post":{"tags":["watchlists","watchlists"],"summary":"Create group","operationId":"create_group_api_v1_watchlists_groups_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Group"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["watchlists","watchlists"],"summary":"List groups","operationId":"list_groups_api_v1_watchlists_groups_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/groups/{group_id}":{"patch":{"tags":["watchlists","watchlists"],"summary":"Update group","operationId":"update_group_api_v1_watchlists_groups__group_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Group Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GroupUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Group"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["watchlists","watchlists"],"summary":"Delete group","operationId":"delete_group_api_v1_watchlists_groups__group_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Group Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/settings":{"get":{"tags":["watchlists","watchlists"],"summary":"Get watchlists defaults","operationId":"get_watchlist_settings_api_v1_watchlists_settings_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/jobs":{"post":{"tags":["watchlists","watchlists"],"summary":"Create job","operationId":"create_job_api_v1_watchlists_jobs_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Job"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["watchlists","watchlists"],"summary":"List jobs","operationId":"list_jobs_api_v1_watchlists_jobs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/jobs/{job_id}/preview":{"post":{"tags":["watchlists","watchlists"],"summary":"Preview candidates and filter decisions without ingestion","operationId":"preview_job_api_v1_watchlists_jobs__job_id__preview_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Job Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Max candidates to return across all sources","default":20,"title":"Limit"},"description":"Max candidates to return across all sources"},{"name":"per_source","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Max candidates per source","default":10,"title":"Per Source"},"description":"Max candidates per source"},{"name":"include_content","in":"query","required":false,"schema":{"type":"boolean","description":"Reserved; previews return summary only for now","default":false,"title":"Include Content"},"description":"Reserved; previews return summary only for now"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/jobs/{job_id}":{"get":{"tags":["watchlists","watchlists"],"summary":"Get job","operationId":"get_job_api_v1_watchlists_jobs__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Job Id"}},{"name":"include_internal","in":"query","required":false,"schema":{"type":"boolean","description":"Admin-only: include scheduler linkage fields","default":false,"title":"Include Internal"},"description":"Admin-only: include scheduler linkage fields"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Job"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["watchlists","watchlists"],"summary":"Update job","operationId":"update_job_api_v1_watchlists_jobs__job_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Job"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["watchlists","watchlists"],"summary":"Delete job","operationId":"delete_job_api_v1_watchlists_jobs__job_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/jobs/{job_id}/filters":{"patch":{"tags":["watchlists","watchlists"],"summary":"Replace job filters","operationId":"replace_job_filters_api_v1_watchlists_jobs__job_id__filters_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistFiltersPayload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistFiltersPayload"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/jobs/{job_id}/filters:add":{"post":{"tags":["watchlists","watchlists"],"summary":"Append job filters","operationId":"append_job_filters_api_v1_watchlists_jobs__job_id__filters_add_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistFiltersPayload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistFiltersPayload"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/jobs/{job_id}/run":{"post":{"tags":["watchlists","watchlists"],"summary":"Trigger a run (executes pipeline)","operationId":"trigger_run_api_v1_watchlists_jobs__job_id__run_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Run"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/jobs/{job_id}/runs":{"get":{"tags":["watchlists","watchlists"],"summary":"List runs for a job","operationId":"list_runs_for_job_api_v1_watchlists_jobs__job_id__runs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Job Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/runs":{"get":{"tags":["watchlists","watchlists"],"summary":"List runs across all jobs","operationId":"list_runs_global_api_v1_watchlists_runs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by job name/description, run status, or run id (text)","title":"Q"},"description":"Filter by job name/description, run status, or run id (text)"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/runs/export.csv":{"get":{"tags":["watchlists","watchlists"],"summary":"Export runs as CSV (global or by job)","description":"Return a CSV export of runs with basic counters.\n\nColumns: id,job_id,status,started_at,finished_at,items_found,items_ingested,filters_include,filters_exclude,filters_flag","operationId":"export_runs_csv_api_v1_watchlists_runs_export_csv_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"scope","in":"query","required":false,"schema":{"type":"string","pattern":"^(global|job)$","default":"global","title":"Scope"}},{"name":"job_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"title":"Job Id"}},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":200,"title":"Size"}},{"name":"include_tallies","in":"query","required":false,"schema":{"type":"boolean","description":"When true, include a filter_tallies_json column per row","default":false,"title":"Include Tallies"},"description":"When true, include a filter_tallies_json column per row"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"text/plain":{"schema":{"type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/runs/{run_id}":{"get":{"tags":["watchlists","watchlists"],"summary":"Get a run","operationId":"get_run_api_v1_watchlists_runs__run_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Run Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Run"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/runs/{run_id}/details":{"get":{"tags":["watchlists","watchlists"],"summary":"Get run details with stats and logs","description":"Return a summarized view of run stats and logs.\n\nNote: Per-filter tallies are retained in the raw run stats (GET /watchlists/runs/{run_id})\nunder the key `filter_tallies` for detailed analysis. This detail view returns\nflattened totals (filters_include/exclude/flag) for quick inspection.","operationId":"get_run_details_api_v1_watchlists_runs__run_id__details_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Run Id"}},{"name":"include_tallies","in":"query","required":false,"schema":{"type":"boolean","description":"When true, include filter_tallies in the response","default":false,"title":"Include Tallies"},"description":"When true, include filter_tallies in the response"},{"name":"filtered_sample_max","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":0,"description":"Optional number of filtered items to include as a sample","default":5,"title":"Filtered Sample Max"},"description":"Optional number of filtered items to include as a sample"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/runs/{run_id}/tallies.csv":{"get":{"tags":["watchlists","watchlists"],"summary":"Export filter tallies for a run as CSV","operationId":"export_run_tallies_csv_api_v1_watchlists_runs__run_id__tallies_csv_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Run Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"text/plain":{"schema":{"type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/items":{"get":{"tags":["watchlists","watchlists"],"summary":"List scraped items across runs","operationId":"list_scraped_items_api_v1_watchlists_items_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Run Id"}},{"name":"job_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Job Id"}},{"name":"source_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Source Id"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"reviewed","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Reviewed"}},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by title/summary substring","title":"Q"},"description":"Search by title/summary substring"},{"name":"since","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO date filter (created_at >= since)","title":"Since"},"description":"ISO date filter (created_at >= since)"},{"name":"until","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO date filter (created_at <= until)","title":"Until"},"description":"ISO date filter (created_at <= until)"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapedItemsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/items/{item_id}":{"get":{"tags":["watchlists","watchlists"],"summary":"Get a scraped item","operationId":"get_scraped_item_api_v1_watchlists_items__item_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Item Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapedItem"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["watchlists","watchlists"],"summary":"Update item flags","operationId":"update_scraped_item_api_v1_watchlists_items__item_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Item Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapedItemUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScrapedItem"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/outputs":{"post":{"tags":["watchlists","watchlists"],"summary":"Generate an output from scraped items","operationId":"create_output_api_v1_watchlists_outputs_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistOutputCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["watchlists","watchlists"],"summary":"List generated outputs","operationId":"list_outputs_api_v1_watchlists_outputs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Run Id"}},{"name":"job_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Job Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistOutputsListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/outputs/{output_id}":{"get":{"tags":["watchlists","watchlists"],"summary":"Get output metadata","operationId":"get_output_api_v1_watchlists_outputs__output_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"output_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Output Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistOutput"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/outputs/{output_id}/download":{"get":{"tags":["watchlists","watchlists"],"summary":"Download rendered output","operationId":"download_output_api_v1_watchlists_outputs__output_id__download_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"output_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Output Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/templates":{"get":{"tags":["watchlists","watchlists"],"summary":"List available templates","operationId":"list_templates_api_v1_watchlists_templates_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistTemplateListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["watchlists","watchlists"],"summary":"Create or update a template","operationId":"create_template_api_v1_watchlists_templates_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistTemplateCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistTemplateDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/watchlists/templates/{template_name}":{"get":{"tags":["watchlists","watchlists"],"summary":"Fetch a template","operationId":"get_template_api_v1_watchlists_templates__template_name__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_name","in":"path","required":true,"schema":{"type":"string","title":"Template Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistTemplateDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["watchlists","watchlists"],"summary":"Delete a template","operationId":"delete_template_api_v1_watchlists_templates__template_name__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_name","in":"path","required":true,"schema":{"type":"string","title":"Template Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/graph":{"get":{"tags":["notes","notes","notes-graph"],"summary":"Fetch a graph of notes and related entities (stub)","description":"Returns a bounded subgraph of notes, tags, and sources based on filters.\n\n- Honors enum edge_types: manual, wikilink, backlink, tag_membership, source_membership.\n- Uses BFS with deterministic ordering; see Docs/Design/Graphing-Notes-PRD.md §21 for cursor details.\n\nExample response (default format) matches the NoteGraphResponse schema.\n\nCytoscape example (when format=cytoscape) is documented in Docs/Design/Graphing-Notes-PRD.md (§9, §14).","operationId":"get_notes_graph_api_v1_notes_graph_get","security":[{"OAuth2PasswordBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"center_note_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Center Note Id"}},{"name":"radius","in":"query","required":false,"schema":{"type":"integer","maximum":2,"minimum":1,"default":1,"title":"Radius"}},{"name":"tag","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tag"}},{"name":"source","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}},{"name":"time_range_field","in":"query","required":false,"schema":{"enum":["created_at","updated_at"],"type":"string","default":"updated_at","title":"Time Range Field"}},{"name":"max_nodes","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"title":"Max Nodes"}},{"name":"max_edges","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"title":"Max Edges"}},{"name":"max_degree","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"title":"Max Degree"}},{"name":"format","in":"query","required":false,"schema":{"$ref":"#/components/schemas/GraphFormat","default":"default"}},{"name":"cursor","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cursor"}},{"name":"allow_heavy","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Allow Heavy"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_get_notes_graph_api_v1_notes_graph_get"}}}},"responses":{"200":{"description":"Graph response (default format)","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteGraphResponse"},"example":{"nodes":[{"id":"note:123","type":"note","label":"My Note","created_at":"2025-01-01T12:00:00Z","degree":2,"tag_count":3,"primary_source_id":"source:yt:abcd"},{"id":"tag:ml","type":"tag","label":"ml"},{"id":"source:yt:abcd","type":"source","label":"YouTube: abcd"}],"edges":[{"id":"e:1","source":"note:123","target":"note:456","type":"manual","directed":false,"weight":1.0},{"id":"e:2","source":"note:123","target":"tag:ml","type":"tag_membership","directed":false}],"truncated":false,"truncated_by":[],"has_more":false,"limits":{"max_nodes":300,"max_edges":1200,"max_degree":40}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"bash","label":"curl","source":"curl -H 'Authorization: Bearer <token>' 'http://127.0.0.1:8000/api/v1/notes/graph?center_note_id=note:123&radius=1&edge_types=manual,wikilink,tag_membership&max_nodes=200'"},{"lang":"python","label":"httpx","source":"import httpx\nresp = httpx.get('http://127.0.0.1:8000/api/v1/notes/graph', params={'center_note_id':'note:123','radius':1,'edge_types':'manual,wikilink,tag_membership'})\nprint(resp.json())"}]}},"/api/v1/notes/{note_id}/neighbors":{"get":{"tags":["notes","notes","notes-graph"],"summary":"Fetch neighbors for a note (stub)","description":"Returns a radius=1 ego network for the given note. Uses the same filters, limits, and ordering as /graph.\nSee Docs/Design/Graphing-Notes-PRD.md (§9, §10, §21).","operationId":"get_note_neighbors_api_v1_notes__note_id__neighbors_get","security":[{"OAuth2PasswordBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"center_note_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Center Note Id"}},{"name":"radius","in":"query","required":false,"schema":{"type":"integer","maximum":2,"minimum":1,"default":1,"title":"Radius"}},{"name":"tag","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tag"}},{"name":"source","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source"}},{"name":"time_range_field","in":"query","required":false,"schema":{"enum":["created_at","updated_at"],"type":"string","default":"updated_at","title":"Time Range Field"}},{"name":"max_nodes","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"title":"Max Nodes"}},{"name":"max_edges","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"title":"Max Edges"}},{"name":"max_degree","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"title":"Max Degree"}},{"name":"format","in":"query","required":false,"schema":{"$ref":"#/components/schemas/GraphFormat","default":"default"}},{"name":"cursor","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cursor"}},{"name":"allow_heavy","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Allow Heavy"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_get_note_neighbors_api_v1_notes__note_id__neighbors_get"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteGraphResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"bash","label":"curl","source":"curl -H 'Authorization: Bearer <token>' 'http://127.0.0.1:8000/api/v1/notes/note:123/neighbors?edge_types=manual,backlink'"}]}},"/api/v1/notes/{note_id}/links":{"post":{"tags":["notes","notes","notes-graph"],"summary":"Create a manual link between notes (stub)","description":"Creates a manual link from the given note to another note. Undirected by default (directed=false).\nSee Docs/Design/Graphing-Notes-PRD.md (§8, §9, §10).","operationId":"create_manual_link_api_v1_notes__note_id__links_post","security":[{"OAuth2PasswordBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteLinkCreate"},"example":{"to_note_id":"note:456","directed":false,"weight":1.0}}}},"responses":{"200":{"description":"Creation result (stub)","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Create Manual Link Api V1 Notes  Note Id  Links Post"},"example":{"status":"stub","from":"note:123","to":"note:456"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"bash","label":"curl","source":"curl -X POST -H 'Authorization: Bearer <token>' -H 'Content-Type: application/json' \\\n+  -d '{\"to_note_id\":\"note:456\",\"directed\":false,\"weight\":1.0}' \\\n+  'http://127.0.0.1:8000/api/v1/notes/note:123/links'"}]}},"/api/v1/notes/links/{edge_id}":{"delete":{"tags":["notes","notes","notes-graph"],"summary":"Delete a manual link (stub)","description":"Deletes a manual link by id. Stub returns a placeholder payload.\nSee Docs/Design/Graphing-Notes-PRD.md (§9).","operationId":"delete_manual_link_api_v1_notes_links__edge_id__delete","security":[{"OAuth2PasswordBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"edge_id","in":"path","required":true,"schema":{"type":"string","title":"Edge Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Deletion result (stub)","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Manual Link Api V1 Notes Links  Edge Id  Delete"},"example":{"deleted":false,"edge_id":"e:1","status":"stub"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"x-codeSamples":[{"lang":"bash","label":"curl","source":"curl -X DELETE -H 'Authorization: Bearer <token>' 'http://127.0.0.1:8000/api/v1/notes/links/e:1'"}]}},"/api/v1/notes/health":{"get":{"tags":["notes","notes"],"summary":"Notes service health","description":"Lightweight health endpoint for the Notes subsystem, scoped to the current user.","operationId":"notes_health_api_v1_notes_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Notes Health Api V1 Notes Health Get"}}}}},"security":[]}},"/api/v1/notes/":{"post":{"tags":["notes","notes"],"summary":"Create a new note","operationId":"create_note_api_v1_notes__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["notes","notes"],"summary":"List all notes for the current user","description":"Always returns a consistent object with a `notes` array and pagination fields.","operationId":"list_notes_api_v1_notes__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Number of notes to return","default":100,"title":"Limit"},"description":"Number of notes to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Offset for pagination","default":0,"title":"Offset"},"description":"Offset for pagination"},{"name":"include_keywords","in":"query","required":false,"schema":{"type":"boolean","description":"If true, include linked keywords inline per note","default":false,"title":"Include Keywords"},"description":"If true, include linked keywords inline per note"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotesListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/{note_id}":{"get":{"tags":["notes","notes"],"summary":"Get a specific note by ID","operationId":"get_note_api_v1_notes__note_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["notes","notes"],"summary":"Update an existing note","operationId":"update_note_api_v1_notes__note_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"expected-version","in":"header","required":true,"schema":{"type":"integer","description":"The expected version of the note for optimistic locking","title":"Expected-Version"},"description":"The expected version of the note for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"409":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Conflict"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["notes","notes"],"summary":"Partially update an existing note","description":"PATCH variant that allows updates without an explicit expected-version header.\nIf header is not provided, it fetches current version and applies the update.","operationId":"patch_note_api_v1_notes__note_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"expected-version","in":"header","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Optional expected version for optimistic locking","title":"Expected-Version"},"description":"Optional expected version for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"409":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Conflict"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["notes","notes"],"summary":"Soft-delete a note","operationId":"delete_note_api_v1_notes__note_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"expected-version","in":"header","required":true,"schema":{"type":"integer","description":"The expected version of the note for optimistic locking","title":"Expected-Version"},"description":"The expected version of the note for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"204":{"description":"Successful Response"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"409":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Conflict"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/search/":{"get":{"tags":["notes","notes"],"summary":"Search notes for the current user","operationId":"search_notes_endpoint_api_v1_notes_search__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search term for notes","title":"Query"},"description":"Search term for notes"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of results to return","default":10,"title":"Limit"},"description":"Number of results to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Result offset for pagination","default":0,"title":"Offset"},"description":"Result offset for pagination"},{"name":"include_keywords","in":"query","required":false,"schema":{"type":"boolean","description":"If true, include linked keywords inline per note","default":false,"title":"Include Keywords"},"description":"If true, include linked keywords inline per note"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NoteResponse"},"title":"Response Search Notes Endpoint Api V1 Notes Search  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/export":{"get":{"tags":["notes","notes"],"summary":"Export notes as JSON","description":"Simple JSON export for notes. If `q` is provided, uses FTS search; otherwise lists notes.","operationId":"export_notes_api_v1_notes_export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional search query to filter notes","title":"Q"},"description":"Optional search query to filter notes"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"description":"Max notes to export","default":1000,"title":"Limit"},"description":"Max notes to export"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Offset for pagination","default":0,"title":"Offset"},"description":"Offset for pagination"},{"name":"include_keywords","in":"query","required":false,"schema":{"type":"boolean","description":"If true, include linked keywords inline per note","default":false,"title":"Include Keywords"},"description":"If true, include linked keywords inline per note"},{"name":"format","in":"query","required":false,"schema":{"type":"string","pattern":"^(json|csv)$","description":"Export format","default":"json","title":"Format"},"description":"Export format"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotesExportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["notes","notes"],"summary":"Export selected notes by ID","description":"Export notes by explicit IDs (parity with E2E scaffold).","operationId":"export_notes_post_api_v1_notes_export_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotesExportRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotesExportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/title/suggest":{"post":{"tags":["notes","notes"],"summary":"Suggest a title for provided content","operationId":"suggest_note_title_api_v1_notes_title_suggest_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TitleSuggestRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TitleSuggestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/bulk":{"post":{"tags":["notes","notes"],"summary":"Bulk create notes with optional keywords","operationId":"bulk_create_notes_api_v1_notes_bulk_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteBulkCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteBulkCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/keywords/":{"post":{"tags":["notes","Keywords (for Notes)"],"summary":"Create a new keyword","operationId":"create_keyword_api_v1_notes_keywords__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["notes","Keywords (for Notes)"],"summary":"List all keywords for the current user","operationId":"list_keywords_endpoint_api_v1_notes_keywords__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"},"title":"Response List Keywords Endpoint Api V1 Notes Keywords  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/keywords/{keyword_id}":{"get":{"tags":["notes","Keywords (for Notes)"],"summary":"Get a keyword by its ID","operationId":"get_keyword_api_v1_notes_keywords__keyword_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"keyword_id","in":"path","required":true,"schema":{"type":"integer","title":"Keyword Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["notes","Keywords (for Notes)"],"summary":"Soft-delete a keyword","operationId":"delete_keyword_api_v1_notes_keywords__keyword_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"keyword_id","in":"path","required":true,"schema":{"type":"integer","title":"Keyword Id"}},{"name":"expected-version","in":"header","required":true,"schema":{"type":"integer","description":"The expected version of the keyword for optimistic locking","title":"Expected-Version"},"description":"The expected version of the keyword for optimistic locking"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"204":{"description":"Successful Response"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"409":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Conflict"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/keywords/text/{keyword_text}":{"get":{"tags":["notes","Keywords (for Notes)"],"summary":"Get a keyword by its text content","operationId":"get_keyword_by_text_api_v1_notes_keywords_text__keyword_text__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"keyword_text","in":"path","required":true,"schema":{"type":"string","title":"Keyword Text"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/keywords/search/":{"get":{"tags":["notes","Keywords (for Notes)"],"summary":"Search keywords for the current user","operationId":"search_keywords_endpoint_api_v1_notes_keywords_search__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search term for keywords","title":"Query"},"description":"Search term for keywords"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"},"title":"Response Search Keywords Endpoint Api V1 Notes Keywords Search  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/{note_id}/keywords/{keyword_id}":{"post":{"tags":["notes","Notes Linking"],"summary":"Link a note to a keyword","operationId":"link_note_to_keyword_endpoint_api_v1_notes__note_id__keywords__keyword_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"keyword_id","in":"path","required":true,"schema":{"type":"integer","title":"Keyword Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteKeywordLinkResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["notes","Notes Linking"],"summary":"Unlink a note from a keyword","operationId":"unlink_note_from_keyword_endpoint_api_v1_notes__note_id__keywords__keyword_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"keyword_id","in":"path","required":true,"schema":{"type":"integer","title":"Keyword Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteKeywordLinkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/{note_id}/keywords/":{"get":{"tags":["notes","Notes Linking"],"summary":"Get all keywords linked to a note","operationId":"get_keywords_for_note_endpoint_api_v1_notes__note_id__keywords__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"note_id","in":"path","required":true,"schema":{"type":"string","title":"Note Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/KeywordsForNoteResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/notes/keywords/{keyword_id}/notes/":{"get":{"tags":["notes","Notes Linking"],"summary":"Get all notes linked to a keyword","operationId":"get_notes_for_keyword_endpoint_api_v1_notes_keywords__keyword_id__notes__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"keyword_id","in":"path","required":true,"schema":{"type":"integer","title":"Keyword Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotesForKeywordResponse"}}}},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/health":{"get":{"tags":["prompts","prompts"],"summary":"Prompts service health","description":"Lightweight health endpoint for the Prompts subsystem.","operationId":"prompts_health_api_v1_prompts_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/prompts/sync-log":{"get":{"tags":["prompts"],"summary":"Get sync log entries (admin/debug)","operationId":"get_sync_log_api_v1_prompts_sync_log_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"since_change_id","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Since Change Id"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":1000,"minimum":1},{"type":"null"}],"default":100,"title":"Limit"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SyncLogEntryResponse"},"title":"Response Get Sync Log Api V1 Prompts Sync Log Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/search":{"post":{"tags":["prompts"],"summary":"Search prompts","operationId":"search_all_prompts_api_v1_prompts_search_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"search_query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search term(s)","title":"Search Query"},"description":"Search term(s)"},{"name":"search_fields","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Fields to search: name, author, details, system_prompt, user_prompt, keywords","title":"Search Fields"},"description":"Fields to search: name, author, details, system_prompt, user_prompt, keywords"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Results Per Page"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/keywords/":{"post":{"tags":["prompts"],"summary":"Add a new keyword","operationId":"create_keyword_api_v1_prompts_keywords__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_schemas__KeywordCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_schemas__KeywordResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["prompts"],"summary":"List all active keywords","operationId":"list_all_keywords_api_v1_prompts_keywords__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"},"title":"Response List All Keywords Api V1 Prompts Keywords  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/keywords/{keyword_text}":{"delete":{"tags":["prompts"],"summary":"Soft delete a keyword","operationId":"delete_keyword_api_v1_prompts_keywords__keyword_text__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"keyword_text","in":"path","required":true,"schema":{"type":"string","title":"Keyword Text"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/export":{"get":{"tags":["prompts"],"summary":"Export prompts to CSV or Markdown (as base64 string)","operationId":"export_prompts_api_api_v1_prompts_export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"export_format","in":"query","required":false,"schema":{"type":"string","enum":["csv","markdown"],"default":"csv","title":"Export Format"}},{"name":"filter_keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Filter Keywords"}},{"name":"include_system","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include System"}},{"name":"include_user","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include User"}},{"name":"include_details","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include Details"}},{"name":"include_author","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include Author"}},{"name":"include_associated_keywords","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include Associated Keywords"}},{"name":"markdown_template_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"Basic Template","title":"Markdown Template Name"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/keywords/export-csv":{"get":{"tags":["prompts"],"summary":"Export all prompt keywords with associations to CSV (as base64 string)","operationId":"export_keywords_api_api_v1_prompts_keywords_export_csv_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/create":{"post":{"tags":["prompts"],"summary":"Create prompt (compatibility)","operationId":"create_prompt_compat_api_v1_prompts_create_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePromptCompatRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts":{"post":{"tags":["prompts"],"summary":"Create a new prompt [no-slash alias]","operationId":"create_prompt_api_v1_prompts_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_schemas__PromptCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["prompts"],"summary":"List all prompts (paginated) [no-slash alias]","operationId":"list_all_prompts_api_v1_prompts_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":10,"title":"Per Page"},"description":"Items per page"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include soft-deleted prompts","default":false,"title":"Include Deleted"},"description":"Include soft-deleted prompts"},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedPromptsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/":{"post":{"tags":["prompts"],"summary":"Create a new prompt","operationId":"create_prompt_api_v1_prompts__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_schemas__PromptCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["prompts"],"summary":"List all prompts (paginated)","operationId":"list_all_prompts_api_v1_prompts__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":10,"title":"Per Page"},"description":"Items per page"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include soft-deleted prompts","default":false,"title":"Include Deleted"},"description":"Include soft-deleted prompts"},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedPromptsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/{prompt_identifier}":{"get":{"tags":["prompts"],"summary":"Get a specific prompt by ID, UUID, or Name","operationId":"get_prompt_api_v1_prompts__prompt_identifier__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"prompt_identifier","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"string"}],"title":"Prompt Identifier"}},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include if soft-deleted","default":false,"title":"Include Deleted"},"description":"Include if soft-deleted"},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["prompts"],"summary":"Update an existing prompt (or create if name matches and overwrite=true logic used)","operationId":"update_prompt_api_v1_prompts__prompt_identifier__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"prompt_identifier","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"string"}],"title":"Prompt Identifier"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_schemas__PromptCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["prompts"],"summary":"Soft delete a prompt","operationId":"delete_prompt_api_v1_prompts__prompt_identifier__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"prompt_identifier","in":"path","required":true,"schema":{"anyOf":[{"type":"integer"},{"type":"string"}],"title":"Prompt Identifier"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/collections/create":{"post":{"tags":["prompts"],"summary":"Create a prompt collection (minimal)","operationId":"create_collection_api_v1_prompts_collections_create_post","parameters":[{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"type":"string","title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptCollectionCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompts/collections/{collection_id}":{"get":{"tags":["prompts"],"summary":"Get a prompt collection (minimal)","operationId":"get_collection_api_v1_prompts_collections__collection_id__get","parameters":[{"name":"collection_id","in":"path","required":true,"schema":{"type":"integer","title":"Collection Id"}},{"name":"Token","in":"header","required":false,"schema":{"type":"string","title":"Token"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"type":"string","title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reading/items/{item_id}/highlight":{"post":{"tags":["reading-highlights","reading-highlights"],"summary":"Create highlight for an item","operationId":"create_highlight_api_v1_reading_items__item_id__highlight_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Item Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HighlightCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Highlight"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reading/items/{item_id}/highlights":{"get":{"tags":["reading-highlights","reading-highlights"],"summary":"List highlights for an item","operationId":"list_highlights_for_item_api_v1_reading_items__item_id__highlights_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Item Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Highlight"},"title":"Response List Highlights For Item Api V1 Reading Items  Item Id  Highlights Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reading/highlights/{highlight_id}":{"patch":{"tags":["reading-highlights","reading-highlights"],"summary":"Update a highlight","operationId":"update_highlight_api_v1_reading_highlights__highlight_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"highlight_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Highlight Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HighlightUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Highlight"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["reading-highlights","reading-highlights"],"summary":"Delete a highlight","operationId":"delete_highlight_api_v1_reading_highlights__highlight_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"highlight_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Highlight Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Highlight Api V1 Reading Highlights  Highlight Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Create Project Simple","description":"Compatibility helper to support POST without trailing slash returning a plain project object.\nMirrors the pattern used by test-cases simple create.","operationId":"create_project_simple_api_v1_prompt_studio_projects_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Create Project Simple Api V1 Prompt Studio Projects Post"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["prompt-studio","prompt-studio"],"summary":"List Projects Simple","operationId":"list_projects_simple_api_v1_prompt_studio_projects_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Per Page"},"description":"Items per page"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include deleted projects","default":false,"title":"Include Deleted"},"description":"Include deleted projects"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in name and description","title":"Search"},"description":"Search in name and description"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Create Project","description":"Create a new Prompt Studio project.\n\nArgs:\n    project_data: Project creation data\n    user_context: Current user context\n    db: Database instance\n\nReturns:\n    Created project details","operationId":"create_project_api_v1_prompt_studio_projects__post","parameters":[{"name":"Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency-Key"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectCreate"},"examples":{"minimal":{"summary":"Create a project","value":{"name":"Demo Project","description":"Exploring prompt versions","status":"active"}}}}}},"responses":{"201":{"description":"Project created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"created":{"summary":"Project created response","value":{"success":true,"data":{"id":1,"uuid":"f9e3...","name":"Demo Project","description":"Exploring prompt versions","status":"active","created_at":"2024-09-20T10:00:00","updated_at":"2024-09-20T10:00:00"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["prompt-studio","prompt-studio"],"summary":"List Projects","description":"List projects for the current user.\n\nArgs:\n    page: Page number\n    per_page: Items per page\n    status: Filter by project status\n    include_deleted: Include soft-deleted projects\n    search: Search query\n    user_context: Current user context\n    db: Database instance\n\nReturns:\n    Paginated list of projects","operationId":"list_projects_api_v1_prompt_studio_projects__get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Per Page"},"description":"Items per page"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include deleted projects","default":false,"title":"Include Deleted"},"description":"Include deleted projects"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in name and description","title":"Search"},"description":"Search in name and description"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Project list","content":{"application/json":{"schema":{},"examples":{"list":{"summary":"List projects","value":{"success":true,"data":[{"id":1,"name":"Demo Project","status":"active"}],"metadata":{"page":1,"per_page":20,"total":1,"total_pages":1}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/get/{project_id}":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Get Project","description":"Get a specific project by ID.\n\nArgs:\n    project_id: Project ID\n    db: Database instance\n\nReturns:\n    Project details","operationId":"get_project_api_v1_prompt_studio_projects_get__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Project details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"get":{"summary":"Project","value":{"success":true,"data":{"id":1,"name":"Demo Project"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/{project_id}":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Get Project Simple","operationId":"get_project_simple_api_v1_prompt_studio_projects__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","description":"Project ID","title":"Project Id"},"description":"Project ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Project Simple Api V1 Prompt Studio Projects  Project Id  Get"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/update/{project_id}":{"put":{"tags":["prompt-studio","prompt-studio"],"summary":"Update Project","description":"Update a project.\n\nArgs:\n    project_id: Project ID\n    updates: Fields to update\n    db: Database instance\n    user_context: Current user context\n\nReturns:\n    Updated project details","operationId":"update_project_api_v1_prompt_studio_projects_update__project_id__put","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectUpdate"}}}},"responses":{"200":{"description":"Project updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"updated":{"summary":"Updated project","value":{"success":true,"data":{"id":1,"name":"Demo Project","status":"active","updated_at":"2024-09-21T12:00:00"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}},"400":{"description":"No fields to update"}}}},"/api/v1/prompt-studio/projects/delete/{project_id}":{"delete":{"tags":["prompt-studio","prompt-studio"],"summary":"Delete Project","description":"Delete a project (soft delete by default).\n\nArgs:\n    project_id: Project ID\n    permanent: If True, permanently delete the project\n    db: Database instance\n    user_context: Current user context\n\nReturns:\n    Success response","operationId":"delete_project_api_v1_prompt_studio_projects_delete__project_id__delete","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"permanent","in":"query","required":false,"schema":{"type":"boolean","description":"Permanently delete (cannot be undone)","default":false,"title":"Permanent"},"description":"Permanently delete (cannot be undone)"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"deleted":{"summary":"Deleted project","value":{"success":true,"data":{"message":"Project soft deleted"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/archive/{project_id}":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Archive Project","description":"Archive a project (set status to archived).\n\nArgs:\n    project_id: Project ID\n    db: Database instance\n    user_context: Current user context\n\nReturns:\n    Updated project details","operationId":"archive_project_api_v1_prompt_studio_projects_archive__project_id__post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Archived","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"archived":{"summary":"Project archived","value":{"success":true,"data":{"status":"archived"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/unarchive/{project_id}":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Unarchive Project","description":"Unarchive a project (set status to active).\n\nArgs:\n    project_id: Project ID\n    db: Database instance\n    user_context: Current user context\n\nReturns:\n    Updated project details","operationId":"unarchive_project_api_v1_prompt_studio_projects_unarchive__project_id__post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Unarchived","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"unarchived":{"summary":"Project unarchived","value":{"success":true,"data":{"status":"active"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/projects/stats/{project_id}":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Get Project Stats","description":"Get statistics for a project.\n\nArgs:\n    project_id: Project ID\n    db: Database instance\n\nReturns:\n    Project statistics","operationId":"get_project_stats_api_v1_prompt_studio_projects_stats__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Stats","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"stats":{"summary":"Counts","value":{"success":true,"data":{"prompt_count":3,"test_case_count":12}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Create Prompt Simple","operationId":"create_prompt_simple_api_v1_prompt_studio_prompts_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_studio_project__PromptCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Create Prompt Simple Api V1 Prompt Studio Prompts Post"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["prompt-studio","prompt-studio"],"summary":"List Prompts Simple","operationId":"list_prompts_simple_api_v1_prompt_studio_prompts_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Per Page"},"description":"Items per page"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include deleted prompts","default":false,"title":"Include Deleted"},"description":"Include deleted prompts"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/create":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Create Prompt","description":"Create a new prompt in a project.\n\nArgs:\n    prompt_data: Prompt creation data\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n\nReturns:\n    Created prompt details","operationId":"create_prompt_api_v1_prompt_studio_prompts_create_post","parameters":[{"name":"Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency-Key"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_studio_project__PromptCreate"},"examples":{"basic":{"summary":"Create a prompt","value":{"project_id":1,"name":"Summarizer","system_prompt":"Summarize the content clearly.","user_prompt":"{{text}}"}}}}}},"responses":{"201":{"description":"Prompt created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"created":{"summary":"Prompt created response","value":{"success":true,"data":{"id":12,"project_id":1,"name":"Summarizer","version_number":1,"system_prompt":"Summarize the content clearly.","user_prompt":"{{text}}","created_at":"2024-09-20T10:00:00"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/list/{project_id}":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"List Prompts","description":"List prompts in a project.\n\nArgs:\n    project_id: Project ID\n    page: Page number\n    per_page: Items per page\n    include_deleted: Include soft-deleted prompts\n    db: Database instance\n\nReturns:\n    Paginated list of prompts","operationId":"list_prompts_api_v1_prompt_studio_prompts_list__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Per Page"},"description":"Items per page"},{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","description":"Include deleted prompts","default":false,"title":"Include Deleted"},"description":"Include deleted prompts"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Prompts","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListResponse"},"examples":{"list":{"summary":"Prompt list","value":{"success":true,"data":[{"id":12,"name":"Summarizer","version_number":2}],"metadata":{"page":1,"per_page":20,"total":1,"total_pages":1}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/execute":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Execute Prompt Simple","operationId":"execute_prompt_simple_api_v1_prompt_studio_prompts_execute_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecutePromptSimpleRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Execute Prompt Simple Api V1 Prompt Studio Prompts Execute Post"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/get/{prompt_id}":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Get Prompt","description":"Get a specific prompt by ID.\n\nArgs:\n    prompt_id: Prompt ID\n    db: Database instance\n\nReturns:\n    Prompt details","operationId":"get_prompt_api_v1_prompt_studio_prompts_get__prompt_id__get","parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"integer","description":"Prompt ID","title":"Prompt Id"},"description":"Prompt ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Prompt","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"get":{"summary":"Prompt details","value":{"success":true,"data":{"id":12,"name":"Summarizer","version_number":2}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/update/{prompt_id}":{"put":{"tags":["prompt-studio","prompt-studio"],"summary":"Update Prompt","description":"Update a prompt (creates a new version).\n\nArgs:\n    prompt_id: Prompt ID\n    updates: Fields to update\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n\nReturns:\n    New prompt version details","operationId":"update_prompt_api_v1_prompt_studio_prompts_update__prompt_id__put","parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"integer","description":"Prompt ID","title":"Prompt Id"},"description":"Prompt ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromptUpdate"},"examples":{"revise":{"summary":"Revise prompt (new version)","value":{"system_prompt":"Summarize concisely.","change_description":"Tighten style"}}}}}},"responses":{"200":{"description":"New prompt version created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"versioned":{"summary":"New version response","value":{"success":true,"data":{"id":13,"project_id":1,"name":"Summarizer","version_number":2,"system_prompt":"Summarize concisely.","created_at":"2024-09-21T10:00:00"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/history/{prompt_id}":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Get Prompt History","description":"Get version history for a prompt.\n\nArgs:\n    prompt_id: Prompt ID\n    db: Database instance\n\nReturns:\n    List of prompt versions","operationId":"get_prompt_history_api_v1_prompt_studio_prompts_history__prompt_id__get","parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"integer","description":"Prompt ID","title":"Prompt Id"},"description":"Prompt ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"History","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"history":{"summary":"Versions","value":{"success":true,"data":[{"id":12,"version_number":1},{"id":13,"version_number":2}]}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/prompts/revert/{prompt_id}/{version}":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Revert Prompt","description":"Revert a prompt to a previous version (creates a new version).\n\nArgs:\n    prompt_id: Current prompt ID\n    version: Version number to revert to\n    db: Database instance\n    user_context: Current user context\n\nReturns:\n    New prompt version details","operationId":"revert_prompt_api_v1_prompt_studio_prompts_revert__prompt_id___version__post","parameters":[{"name":"prompt_id","in":"path","required":true,"schema":{"type":"integer","description":"Current prompt ID","title":"Prompt Id"},"description":"Current prompt ID"},{"name":"version","in":"path","required":true,"schema":{"type":"integer","description":"Version number to revert to","title":"Version"},"description":"Version number to revert to"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Reverted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"reverted":{"summary":"New version","value":{"success":true,"data":{"id":14,"version_number":3}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases":{"post":{"tags":["prompt-studio","Prompt Studio"],"summary":"Create Test Case Simple","operationId":"create_test_case_simple_api_v1_prompt_studio_test_cases_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestCaseCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Create Test Case Simple Api V1 Prompt Studio Test Cases Post"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/create":{"post":{"tags":["prompt-studio","Prompt Studio"],"summary":"Create Test Case","description":"Create a new test case.\n\nArgs:\n    test_case_data: Test case creation data\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n\nReturns:\n    Created test case details","operationId":"create_test_case_api_v1_prompt_studio_test_cases_create_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestCaseCreate"},"examples":{"single":{"summary":"Create a test case","value":{"project_id":1,"name":"Short text","inputs":{"text":"Hello world"},"expected_outputs":{"summary":"Hello world."},"tags":["smoke"],"is_golden":true}}}}}},"responses":{"201":{"description":"Test case created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"created":{"summary":"Created test case","value":{"success":true,"data":{"id":101,"project_id":1,"name":"Short text","is_golden":true,"created_at":"2024-09-20T10:00:00"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/bulk":{"post":{"tags":["prompt-studio","Prompt Studio"],"summary":"Create Bulk Test Cases","description":"Create multiple test cases at once.\n\nArgs:\n    bulk_data: Bulk test case creation data\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n\nReturns:\n    List of created test cases","operationId":"create_bulk_test_cases_api_v1_prompt_studio_test_cases_bulk_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestCaseBulkCreate"},"examples":{"bulk":{"summary":"Bulk create","value":{"project_id":1,"test_cases":[{"name":"Short","inputs":{"text":"Hi"},"expected_outputs":{"summary":"Hi."}},{"name":"Long","inputs":{"text":"..."}}]}}}}}},"responses":{"201":{"description":"Bulk created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"created":{"summary":"Bulk response","value":{"success":true,"data":[{"id":102},{"id":103}]}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/list/{project_id}":{"get":{"tags":["prompt-studio","Prompt Studio"],"summary":"List Test Cases","description":"List test cases in a project.\n\nArgs:\n    project_id: Project ID\n    page: Page number\n    per_page: Items per page\n    is_golden: Filter by golden status\n    tags: Filter by tags\n    search: Search query\n    signature_id: Filter by signature\n    db: Database instance\n\nReturns:\n    Paginated list of test cases","operationId":"list_test_cases_api_v1_prompt_studio_test_cases_list__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Per Page"},"description":"Items per page"},{"name":"is_golden","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by golden status","title":"Is Golden"},"description":"Filter by golden status"},{"name":"tags","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated tags to filter","title":"Tags"},"description":"Comma-separated tags to filter"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in name and description","title":"Search"},"description":"Search in name and description"},{"name":"signature_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by signature","title":"Signature Id"},"description":"Filter by signature"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Test cases","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListResponse"},"examples":{"list":{"summary":"Cases","value":{"success":true,"data":[{"id":101,"name":"Short text"}],"metadata":{"page":1,"per_page":20,"total":1,"total_pages":1}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/get/{test_case_id}":{"get":{"tags":["prompt-studio","Prompt Studio"],"summary":"Get Test Case","description":"Get a specific test case by ID.\n\nArgs:\n    test_case_id: Test case ID\n    db: Database instance\n\nReturns:\n    Test case details","operationId":"get_test_case_api_v1_prompt_studio_test_cases_get__test_case_id__get","parameters":[{"name":"test_case_id","in":"path","required":true,"schema":{"type":"integer","description":"Test case ID","title":"Test Case Id"},"description":"Test case ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Test case","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"get":{"summary":"Case","value":{"success":true,"data":{"id":101,"name":"Short text","is_golden":true}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/update/{test_case_id}":{"put":{"tags":["prompt-studio","Prompt Studio"],"summary":"Update Test Case","description":"Update a test case.\n\nArgs:\n    test_case_id: Test case ID\n    updates: Fields to update\n    db: Database instance\n    user_context: Current user context\n\nReturns:\n    Updated test case details","operationId":"update_test_case_api_v1_prompt_studio_test_cases_update__test_case_id__put","parameters":[{"name":"test_case_id","in":"path","required":true,"schema":{"type":"integer","description":"Test case ID","title":"Test Case Id"},"description":"Test case ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestCaseUpdate"}}}},"responses":{"200":{"description":"Test case updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"updated":{"summary":"Updated case","value":{"success":true,"data":{"id":101,"name":"Short text (v2)","is_golden":true}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/delete/{test_case_id}":{"delete":{"tags":["prompt-studio","Prompt Studio"],"summary":"Delete Test Case","description":"Delete a test case.\n\nArgs:\n    test_case_id: Test case ID\n    permanent: If True, permanently delete\n    db: Database instance\n    user_context: Current user context\n\nReturns:\n    Success response","operationId":"delete_test_case_api_v1_prompt_studio_test_cases_delete__test_case_id__delete","parameters":[{"name":"test_case_id","in":"path","required":true,"schema":{"type":"integer","description":"Test case ID","title":"Test Case Id"},"description":"Test case ID"},{"name":"permanent","in":"query","required":false,"schema":{"type":"boolean","description":"Permanently delete","default":false,"title":"Permanent"},"description":"Permanently delete"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Deleted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"deleted":{"value":{"success":true,"data":{"message":"Test case soft deleted"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/import":{"post":{"tags":["prompt-studio","Prompt Studio"],"summary":"Import Test Cases","description":"Import test cases from CSV or JSON.\n\nArgs:\n    import_data: Import request data\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n\nReturns:\n    Import results","operationId":"import_test_cases_api_v1_prompt_studio_test_cases_import_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestCaseImportRequest"},"examples":{"json":{"summary":"Import from JSON","value":{"project_id":1,"format":"json","data":"[{\"name\":\"Short\",\"inputs\":{\"text\":\"Hi\"}}]","auto_generate_names":true}},"csv":{"summary":"Import from CSV (inline string)","value":{"project_id":1,"format":"csv","data":"name,inputs,expected_outputs\nShort,\"{\"\"text\"\":\"\"Hi\"\"}\",\"{\"\"summary\"\":\"\"Hi.\"\"}\""}}}}}},"responses":{"200":{"description":"Import result","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"result":{"summary":"Imported count","value":{"success":true,"data":{"imported":2,"errors":[],"total_test_cases":10}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/import/csv-upload":{"post":{"tags":["prompt-studio","Prompt Studio"],"summary":"Import Test Cases Csv Upload","description":"Import test cases from a CSV file upload (multipart/form-data).","operationId":"import_test_cases_csv_upload_api_v1_prompt_studio_test_cases_import_csv_upload_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_test_cases_csv_upload_api_v1_prompt_studio_test_cases_import_csv_upload_post","type":"object","properties":{"project_id":{"type":"integer"},"signature_id":{"type":"integer"},"auto_generate_names":{"type":"boolean"},"file":{"type":"string","format":"binary"}},"required":["project_id","file"]}}}},"responses":{"200":{"description":"Import result","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"result":{"summary":"CSV Import","value":{"success":true,"data":{"imported":3,"errors":[],"total_test_cases":15}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/import/template":{"get":{"tags":["prompt-studio","Prompt Studio"],"summary":"Get Csv Import Template","description":"Download a CSV template for test case import.\n\nIf a signature_id is provided, the template will include input.* and expected.*\ncolumns derived from the signature schemas. Otherwise, a minimal template is returned.","operationId":"get_csv_import_template_api_v1_prompt_studio_test_cases_import_template_get","parameters":[{"name":"signature_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Optional signature id to derive input/output columns","title":"Signature Id"},"description":"Optional signature id to derive input/output columns"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"CSV template","content":{"text/csv":{"examples":{"template":{"summary":"CSV template example","value":"name,description,input.text,expected.summary,tags,is_golden\n"}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/run":{"post":{"tags":["prompt-studio","Prompt Studio"],"summary":"Run Test Cases Simple","operationId":"run_test_cases_simple_api_v1_prompt_studio_test_cases_run_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunTestCasesSimpleRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Run Test Cases Simple Api V1 Prompt Studio Test Cases Run Post"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/export/{project_id}":{"post":{"tags":["prompt-studio","Prompt Studio"],"summary":"Export Test Cases","description":"Export test cases to CSV or JSON.\n\nArgs:\n    project_id: Project ID\n    export_request: Export configuration\n    db: Database instance\n\nReturns:\n    Exported data","operationId":"export_test_cases_api_v1_prompt_studio_test_cases_export__project_id__post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","description":"Project ID","title":"Project Id"},"description":"Project ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestCaseExportRequest"},"examples":{"json":{"summary":"Export as JSON","value":{"format":"json","include_golden_only":false,"tag_filter":["smoke"]}}}}}},"responses":{"200":{"description":"Export payload","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"json":{"summary":"JSON export","value":{"success":true,"data":{"format":"json","data":[{"name":"Short"}]}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/test-cases/generate":{"post":{"tags":["prompt-studio","Prompt Studio"],"summary":" Rl Generate","operationId":"_rl_generate_api_v1_prompt_studio_test_cases_generate_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Generated test cases","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"generated":{"summary":"Generated examples","value":{"success":true,"data":[{"id":110,"is_generated":true}]}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"requestBody":{"content":{"application/json":{"examples":{"diverse":{"summary":"Generate cases (diverse)","value":{"project_id":1,"signature_id":2,"num_cases":5,"generation_strategy":"diverse"}}}}}}}},"/api/v1/prompt-studio/optimizations":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Create Optimization Simple","operationId":"create_optimization_simple_api_v1_prompt_studio_optimizations_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizationSimpleCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Create Optimization Simple Api V1 Prompt Studio Optimizations Post"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/create":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Create Optimization","description":"Create and start a new optimization.\n\nArgs:\n    optimization_data: Optimization configuration\n    background_tasks: Background task manager\n    db: Database instance\n    security_config: Security configuration\n    user_context: Current user context\n\nReturns:\n    Created optimization details","operationId":"create_optimization_api_v1_prompt_studio_optimizations_create_post","parameters":[{"name":"Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency-Key"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizationCreate"},"examples":{"iterative":{"summary":"Create optimization job","value":{"project_id":1,"initial_prompt_id":12,"optimization_config":{"optimizer_type":"iterative","max_iterations":20,"target_metric":"accuracy","early_stopping":true},"test_case_ids":[1,2,3],"name":"Refine Summarizer"}},"mcts":{"summary":"Create MCTS sequence optimization job","value":{"project_id":1,"initial_prompt_id":12,"optimization_config":{"optimizer_type":"mcts","max_iterations":20,"target_metric":"accuracy","strategy_params":{"mcts_simulations":20,"mcts_max_depth":4,"mcts_exploration_c":1.4,"prompt_candidates_per_node":3,"score_dedup_bin":0.1,"early_stop_no_improve":5,"token_budget":50000}},"test_case_ids":[1,2,3],"name":"MCTS Sequence Optimization"}},"mcts_with_program_evaluator":{"summary":"MCTS with Program Evaluator (feature flag)","description":"Enable code execution evaluator via PROMPT_STUDIO_ENABLE_CODE_EVAL=true and use test cases with runner=\"python\". See Prompt Studio README for safety and runner spec.","value":{"project_id":1,"initial_prompt_id":12,"optimization_config":{"optimizer_type":"mcts","max_iterations":10,"target_metric":"accuracy","strategy_params":{"mcts_simulations":10,"mcts_max_depth":3,"mcts_exploration_c":1.4,"prompt_candidates_per_node":2,"token_budget":20000,"ws_throttle_every":2}},"test_case_ids":[101,102],"name":"MCTS + Program Evaluator"}}}}}},"responses":{"201":{"description":"Optimization created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"created":{"summary":"Created optimization","value":{"success":true,"data":{"id":701,"status":"pending","job_id":9001}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/list/{project_id}":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"List Optimizations","description":"List optimizations for a project.\n\nArgs:\n    project_id: Project ID\n    page: Page number\n    per_page: Items per page\n    status: Optional status filter\n    db: Database instance\n\nReturns:\n    Paginated list of optimizations","operationId":"list_optimizations_api_v1_prompt_studio_optimizations_list__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Per Page"},"description":"Items per page"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by status","title":"Status"},"description":"Filter by status"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Optimizations","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListResponse"},"examples":{"list":{"summary":"Optimization list","value":{"success":true,"data":[{"id":701,"name":"Refine Summarizer","status":"pending"}],"metadata":{"page":1,"per_page":20,"total":1,"total_pages":1}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/get/{optimization_id}":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Get Optimization","description":"Get optimization details.\n\nArgs:\n    optimization_id: Optimization ID\n    db: Database instance\n\nReturns:\n    Optimization details","operationId":"get_optimization_api_v1_prompt_studio_optimizations_get__optimization_id__get","parameters":[{"name":"optimization_id","in":"path","required":true,"schema":{"type":"integer","description":"Optimization ID","title":"Optimization Id"},"description":"Optimization ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Optimization details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"get":{"summary":"Optimization","value":{"success":true,"data":{"id":701,"optimizer_type":"iterative","status":"running"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/{job_id}":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Get Optimization Job Status","operationId":"get_optimization_job_status_api_v1_prompt_studio_optimizations__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Optimization Job Status Api V1 Prompt Studio Optimizations  Job Id  Get"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/cancel/{optimization_id}":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Cancel Optimization","description":"Cancel a running optimization.\n\nArgs:\n    optimization_id: Optimization ID\n    reason: Optional cancellation reason\n    db: Database instance\n    user_context: Current user context\n\nReturns:\n    Success response","operationId":"cancel_optimization_api_v1_prompt_studio_optimizations_cancel__optimization_id__post","parameters":[{"name":"optimization_id","in":"path","required":true,"schema":{"type":"integer","description":"Optimization ID","title":"Optimization Id"},"description":"Optimization ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"string","description":"Cancellation reason","title":"Reason"}}}},"responses":{"200":{"description":"Cancelled","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"cancelled":{"value":{"success":true,"data":{"message":"Optimization cancelled"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}},"400":{"description":"Invalid state"}}}},"/api/v1/prompt-studio/optimizations/strategies":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Get Optimization Strategies","description":"Get available optimization strategies.\n\nReturns:\n    List of available strategies with descriptions","operationId":"get_optimization_strategies_api_v1_prompt_studio_optimizations_strategies_get","responses":{"200":{"description":"Strategies","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"list":{"summary":"Available strategies","value":{"success":true,"data":[{"name":"iterative","display_name":"Iterative Refinement"}]}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"}}}},"/api/v1/prompt-studio/optimizations/history/{optimization_id}":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Get Optimization History","description":"Fetch optimization status and recent job history for UI progress.\n\nReturns the optimization row, latest job entry (if any), and\nlightweight progress fields.","operationId":"get_optimization_history_api_v1_prompt_studio_optimizations_history__optimization_id__get","parameters":[{"name":"optimization_id","in":"path","required":true,"schema":{"type":"integer","description":"Optimization ID","title":"Optimization Id"},"description":"Optimization ID"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Optimization history and progress","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"history":{"summary":"Recent job and progress","value":{"success":true,"data":{"optimization":{"id":701,"status":"running","iterations_completed":3,"max_iterations":20},"job":{"id":9001,"status":"processing"},"progress":{"iterations_completed":3,"max_iterations":20,"status":"running"},"timeline":[{"event":"queued","job_id":9001,"at":"2024-09-21T10:00:00"},{"event":"processing","job_id":9001,"at":"2024-09-21T10:00:05"}]}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/iterations/{optimization_id}":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Add Optimization Iteration","description":"Persist a single optimization iteration event.","operationId":"add_optimization_iteration_api_v1_prompt_studio_optimizations_iterations__optimization_id__post","parameters":[{"name":"optimization_id","in":"path","required":true,"schema":{"type":"integer","title":"Optimization Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizationIterationCreate"},"examples":{"iteration":{"summary":"Record iteration","value":{"iteration_number":4,"metrics":{"accuracy":0.82},"tokens_used":1400,"cost":0.08}}}}}},"responses":{"200":{"description":"Iteration persisted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"ok":{"value":{"success":true,"data":{"id":1001}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["prompt-studio","prompt-studio"],"summary":"List Optimization Iterations","description":"List persisted iterations for an optimization.","operationId":"list_optimization_iterations_api_v1_prompt_studio_optimizations_iterations__optimization_id__get","parameters":[{"name":"optimization_id","in":"path","required":true,"schema":{"type":"integer","title":"Optimization Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Per Page"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Iteration list","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"list":{"value":{"success":true,"data":[{"iteration_number":1,"metrics":{"accuracy":0.7}}],"metadata":{"page":1,"per_page":50,"total":1,"total_pages":1}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/compare":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Compare Strategies","description":"Compare multiple optimization strategies.\n\nReturns:\n    Comparison job details","operationId":"compare_strategies_api_v1_prompt_studio_optimizations_compare_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompareStrategiesRequest"},"examples":{"compare":{"summary":"Compare optimization strategies","value":{"prompt_id":12,"test_case_ids":[1,2,3],"strategies":["iterative","bayesian"],"model_configuration":{"model_name":"gpt-4o-mini","temperature":0.3}}}}}}},"responses":{"200":{"description":"Comparison jobs created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/optimizations/compare-strategies":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Compare Strategies","description":"Compare multiple optimization strategies.\n\nReturns:\n    Comparison job details","operationId":"compare_strategies_api_v1_prompt_studio_optimizations_compare_strategies_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompareStrategiesRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"429":{"description":"Rate limit exceeded"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/status":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Get Prompt Studio Status","description":"Return queue depth, processing count, and lease health stats.","operationId":"get_prompt_studio_status_api_v1_prompt_studio_status_get","parameters":[{"name":"warn_seconds","in":"query","required":false,"schema":{"type":"integer","maximum":3600,"minimum":1,"description":"Threshold for expiring leases","default":30,"title":"Warn Seconds"},"description":"Threshold for expiring leases"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Prompt Studio queue health and status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardResponse"},"examples":{"ok":{"summary":"Queue health","value":{"success":true,"data":{"queue_depth":0,"processing":0,"leases":{"active":0,"expiring_soon":0,"stale_processing":0},"by_status":{"queued":0,"processing":0},"by_type":{"optimization":0},"avg_processing_time_seconds":0,"success_rate":100.0}}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/evaluations":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Create Evaluation","description":"Create a new evaluation for a prompt.\n\nArgs:\n    evaluation: Evaluation configuration\n    background_tasks: FastAPI background tasks\n    db: Database instance\n    user_context: Current user context\n\nReturns:\n    Created evaluation response","operationId":"create_evaluation_api_v1_prompt_studio_evaluations_post","parameters":[{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluationCreate"},"examples":{"basic":{"summary":"Create an evaluation","value":{"project_id":1,"prompt_id":12,"name":"Baseline Eval","test_case_ids":[1,2,3],"model_configs":[{"model_name":"gpt-4o-mini","temperature":0.2,"max_tokens":256}]}},"with_program_evaluator":{"summary":"Evaluation with Program Evaluator (feature flag)","description":"Enable PROMPT_STUDIO_ENABLE_CODE_EVAL=true and use test cases with runner=\"python\". See Prompt Studio README for safety and runner spec.","value":{"project_id":1,"prompt_id":12,"name":"Code Eval","test_case_ids":[101,102],"model_configs":[{"model_name":"gpt-4o-mini","temperature":0.2,"max_tokens":256}]}}}}}},"responses":{"200":{"description":"Evaluation created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_studio_schemas__EvaluationResponse"},"examples":{"created":{"summary":"Created evaluation","value":{"id":501,"uuid":"e1b2...","project_id":1,"prompt_id":12,"status":"running","created_at":"2024-09-21T10:00:00"}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["prompt-studio","prompt-studio"],"summary":"List Evaluations","description":"List evaluations for a project.\n\nArgs:\n    project_id: Project ID\n    prompt_id: Optional prompt ID filter\n    limit: Maximum results\n    offset: Pagination offset\n    db: Database instance\n    user_context: Current user context\n\nReturns:\n    List of evaluations","operationId":"list_evaluations_api_v1_prompt_studio_evaluations_get","parameters":[{"name":"project_id","in":"query","required":true,"schema":{"type":"integer","description":"Project ID","title":"Project Id"},"description":"Project ID"},{"name":"prompt_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by prompt ID","title":"Prompt Id"},"description":"Filter by prompt ID"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Evaluations","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluationList"},"examples":{"list":{"summary":"Eval list","value":[{"id":501,"project_id":1,"prompt_id":12,"status":"running"}]}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/evaluations/{evaluation_id}":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Get Evaluation","description":"Get a specific evaluation.\n\nArgs:\n    evaluation_id: Evaluation ID\n    db: Database instance\n    user_context: Current user context\n\nReturns:\n    Evaluation details","operationId":"get_evaluation_api_v1_prompt_studio_evaluations__evaluation_id__get","parameters":[{"name":"evaluation_id","in":"path","required":true,"schema":{"type":"integer","title":"Evaluation Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Evaluation","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_studio_schemas__EvaluationResponse"},"examples":{"get":{"summary":"Evaluation details","value":{"id":501,"project_id":1,"prompt_id":12,"status":"completed"}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["prompt-studio","prompt-studio"],"summary":"Delete Evaluation","description":"Delete an evaluation (soft delete).\n\nArgs:\n    evaluation_id: Evaluation ID\n    db: Database instance\n    user_context: Current user context\n\nReturns:\n    Success message","operationId":"delete_evaluation_api_v1_prompt_studio_evaluations__evaluation_id__delete","parameters":[{"name":"evaluation_id","in":"path","required":true,"schema":{"type":"integer","title":"Evaluation Id"}},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"Deleted","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Delete Evaluation Api V1 Prompt Studio Evaluations  Evaluation Id  Delete"},"examples":{"deleted":{"value":{"message":"Evaluation 123 deleted successfully"}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/prompt-studio/background/ping":{"post":{"tags":["prompt-studio","prompt-studio"],"summary":"Background Ping","description":"Schedule a trivial background task to verify background execution works.","operationId":"background_ping_api_v1_prompt_studio_background_ping_post","responses":{"200":{"description":"Ping scheduled","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Background Ping Api V1 Prompt Studio Background Ping Post"},"examples":{"scheduled":{"value":{"id":"abc123","status":"processing","created_at":"2024-09-21T12:00:00"}}}}}}}}},"/api/v1/prompt-studio/background/pings/{ping_id}":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Get Ping Status","operationId":"get_ping_status_api_v1_prompt_studio_background_pings__ping_id__get","parameters":[{"name":"ping_id","in":"path","required":true,"schema":{"type":"string","title":"Ping Id"}}],"responses":{"200":{"description":"Ping status","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Ping Status Api V1 Prompt Studio Background Pings  Ping Id  Get"},"examples":{"done":{"value":{"id":"abc123","status":"completed","completed_at":"2024-09-21T12:00:01"}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}},"404":{"description":"Not found"}}}},"/api/v1/prompt-studio/ws":{"get":{"tags":["prompt-studio","prompt-studio"],"summary":"Sse Endpoint Route","operationId":"sse_endpoint_route_api_v1_prompt_studio_ws_get","parameters":[{"name":"client_id","in":"query","required":true,"schema":{"type":"string","description":"Client ID","title":"Client Id"},"description":"Client ID"},{"name":"project_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Project ID to subscribe to","title":"Project Id"},"description":"Project ID to subscribe to"},{"name":"x-client-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Client-Id"}}],"responses":{"200":{"description":"SSE stream","content":{"text/event-stream":{"examples":{"heartbeat":{"summary":"Heartbeat event","value":"data: {\"type\": \"heartbeat\", \"timestamp\": \"2024-09-21T12:00:00\"}\\n\\n"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/health":{"get":{"tags":["rag-health","rag-health"],"summary":"RAG service health check","description":"Comprehensive health check for RAG service.\n\nReturns health status of all components.","operationId":"health_check_api_v1_rag_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Health Check Api V1 Rag Health Get"}}}}}}},"/api/v1/rag/health/live":{"get":{"tags":["rag-health","rag-health"],"summary":"Simple liveness check","description":"Simple liveness check for container orchestration.\n\nReturns 200 if service is alive.","operationId":"liveness_check_api_v1_rag_health_live_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Liveness Check Api V1 Rag Health Live Get"}}}}}}},"/api/v1/rag/health/ready":{"get":{"tags":["rag-health","rag-health"],"summary":"Readiness check","description":"Readiness check for container orchestration.\n\nReturns 200 if service is ready to handle requests.","operationId":"readiness_check_api_v1_rag_health_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Readiness Check Api V1 Rag Health Ready Get"}}}}}}},"/api/v1/rag/cache/stats":{"get":{"tags":["rag-health","rag-health"],"summary":"Get cache statistics","description":"Get detailed cache statistics.\n\nReturns cache performance metrics and status.","operationId":"get_cache_statistics_api_v1_rag_cache_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Cache Statistics Api V1 Rag Cache Stats Get"}}}}}}},"/api/v1/rag/cache/clear":{"post":{"tags":["rag-health","rag-health"],"summary":"Clear cache","description":"Clear all cache entries.\n\nWARNING: This will impact performance until cache is rebuilt.","operationId":"clear_cache_api_v1_rag_cache_clear_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Clear Cache Api V1 Rag Cache Clear Post"}}}}}}},"/api/v1/rag/cache/warm":{"get":{"tags":["rag-health","rag-health"],"summary":"Get cache warming status","description":"Get status of cache warming operations.","operationId":"get_cache_warming_status_api_v1_rag_cache_warm_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Cache Warming Status Api V1 Rag Cache Warm Get"}}}}}}},"/api/v1/rag/metrics/summary":{"get":{"tags":["rag-health","rag-health"],"summary":"Get metrics summary","description":"Get summary of RAG pipeline metrics.","operationId":"get_metrics_summary_api_v1_rag_metrics_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Metrics Summary Api V1 Rag Metrics Summary Get"}}}}}}},"/api/v1/rag/costs/summary":{"get":{"tags":["rag-health","rag-health"],"summary":"Get cost tracking summary","description":"Get summary of LLM API costs.","operationId":"get_cost_summary_api_v1_rag_costs_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Cost Summary Api V1 Rag Costs Summary Get"}}}}}}},"/api/v1/rag/batch/jobs":{"get":{"tags":["rag-health","rag-health"],"summary":"Get batch job statuses","description":"Get status of all batch processing jobs.","operationId":"get_batch_jobs_api_v1_rag_batch_jobs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Batch Jobs Api V1 Rag Batch Jobs Get"}}}}}}},"/api/v1/rag/ablate":{"post":{"tags":["rag-unified","rag-unified"],"summary":"Run RAG ablations (baseline, +rerank, +agentic, +agentic strict)","description":"Compare retrieval/generation across baseline vs reranked vs agentic vs agentic(stricter extractive).","operationId":"rag_ablate_api_v1_rag_ablate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AblationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/capabilities":{"get":{"tags":["rag-unified","rag-unified"],"summary":"Capabilities","description":"List RAG pipeline features and defaults available to the current user","operationId":"get_capabilities_api_v1_rag_capabilities_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/rag/vlm/backends":{"get":{"tags":["rag-unified","rag-unified"],"summary":"VLM Backends","description":"List VLM (Vision-Language) backends and their availability","operationId":"list_vlm_backends_api_v1_rag_vlm_backends_get","responses":{"200":{"description":"Backend availability map","content":{"application/json":{"schema":{}}}}}}},"/api/v1/rag/search":{"post":{"tags":["rag-unified","rag-unified"],"summary":"Unified RAG Search","description":"The unified RAG search endpoint with ALL features accessible via parameters.\n\n    **Key Features:**\n    - No configuration files needed\n    - Every feature is a direct parameter\n    - Mix and match any features\n    - Transparent execution\n\n    **Available Features:**\n    - Query expansion (acronym, synonym, domain, entity)\n    - Semantic caching with adaptive thresholds\n    - Multi-database search (media, notes, characters, chats)\n    - Security filtering and PII detection\n    - Citation generation (APA, MLA, Chicago, Harvard)\n    - Answer generation from context\n    - Document reranking (FlashRank, Cross-Encoder, Hybrid)\n    - Table processing and extraction\n    - Enhanced chunking with parent context\n    - User feedback collection\n    - Performance monitoring and observability\n    - Batch processing support\n    - Resilience features (retries, circuit breakers)\n\n    Simply set any feature parameter to enable it. All parameters are optional\n    except the query itself.","operationId":"unified_search_endpoint_api_v1_rag_search_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnifiedRAGRequest"}}}},"responses":{"200":{"description":"Search results with all requested features applied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnifiedRAGResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/feedback/implicit":{"post":{"tags":["rag-unified","rag-unified"],"summary":"Record implicit RAG feedback","description":"Capture click/expand/copy signals from the WebUI for learning-to-rank and personalization.","operationId":"rag_implicit_feedback_api_v1_rag_feedback_implicit_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImplicitFeedbackEvent"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/batch":{"post":{"tags":["rag-unified","rag-unified"],"summary":"Batch RAG Search","description":"Process multiple queries concurrently using the unified pipeline.\n\n    All parameters from the single search endpoint are available and will\n    be applied to all queries in the batch.","operationId":"unified_batch_endpoint_api_v1_rag_batch_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnifiedBatchRequest"}}}},"responses":{"200":{"description":"Batch processing results","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnifiedBatchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/simple":{"get":{"tags":["rag-unified","rag-unified"],"summary":"Simple Search","description":"Simplified search endpoint for basic use cases.\n\n    Uses sensible defaults:\n    - Caching enabled\n    - Reranking enabled\n    - No query expansion","operationId":"simple_search_endpoint_api_v1_rag_simple_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}},{"name":"top_k","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Top K"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Search results","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/search/stream":{"post":{"tags":["rag-unified","rag-unified"],"summary":"Unified RAG Streaming Search","description":"Stream generated answer chunks with optional incremental claim overlay events (NDJSON)","operationId":"unified_search_stream_endpoint_api_v1_rag_search_stream_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnifiedRAGRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/advanced":{"get":{"tags":["rag-unified","rag-unified"],"summary":"Advanced Search","description":"Advanced search with commonly used features enabled.\n\n    Automatically enables:\n    - Query expansion\n    - Citations\n    - Answer generation\n    - Table processing\n    - Performance analysis","operationId":"advanced_search_endpoint_api_v1_rag_advanced_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}},{"name":"with_citations","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"With Citations"}},{"name":"with_answer","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"With Answer"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Full search results with analysis","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rag/features":{"get":{"tags":["rag-unified","rag-unified"],"summary":"List Available Features","description":"Get a list of all available features in the unified pipeline","operationId":"list_features_api_v1_rag_features_get","responses":{"200":{"description":"Feature list with descriptions","content":{"application/json":{"schema":{}}}}}}},"/api/v1/rag/health/simple":{"get":{"tags":["rag-unified","rag-unified"],"summary":"Unified Health (Simple)","description":"Lightweight health check for the unified RAG pipeline","operationId":"unified_health_simple_api_v1_rag_health_simple_get","responses":{"200":{"description":"Health status","content":{"application/json":{"schema":{}}}}}}},"/api/v1/research/arxiv-search":{"get":{"tags":["research","Research Tools - arXiv"],"summary":"DEPRECATED: Use /api/v1/paper-search/arxiv","description":"Searches the arXiv repository based on query, author, and year.\nReturns a paginated list of matching papers.","operationId":"arxiv_search_endpoint_api_v1_research_arxiv_search_get","deprecated":true,"security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-Token","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Token"}},{"name":"query","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search query for title, abstract, etc.","title":"Query"},"description":"Search query for title, abstract, etc."},{"name":"author","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by author name.","title":"Author"},"description":"Filter by author name."},{"name":"year","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by submission year (e.g., '2023').","title":"Year"},"description":"Filter by submission year (e.g., '2023')."},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number for pagination.","default":1,"title":"Page"},"description":"Page number for pagination."},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of results per page.","default":10,"title":"Results Per Page"},"description":"Number of results per page."},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArxivSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/research/semantic-scholar-search":{"get":{"tags":["research","Research Tools - Semantic Scholar"],"summary":"DEPRECATED: Use /api/v1/paper-search/semantic-scholar","description":"Searches the Semantic Scholar database for papers based on various criteria.","operationId":"semantic_scholar_search_endpoint_api_v1_research_semantic_scholar_search_get","deprecated":true,"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search query (e.g., paper title, keywords, author name).","title":"Query"},"description":"Search query (e.g., paper title, keywords, author name)."},{"name":"fields_of_study","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of fields of study. Choices include: Computer Science, Medicine, Chemistry, Biology, Materials Science, etc.","title":"Fields Of Study"},"description":"Comma-separated list of fields of study. Choices include: Computer Science, Medicine, Chemistry, Biology, Materials Science, etc."},{"name":"publication_types","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of publication types. Choices include: Review, JournalArticle, CaseReport, ClinicalTrial, Conference, etc.","title":"Publication Types"},"description":"Comma-separated list of publication types. Choices include: Review, JournalArticle, CaseReport, ClinicalTrial, Conference, etc."},{"name":"year_range","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by publication year or range (e.g., '2020' or '2019-2021').","title":"Year Range"},"description":"Filter by publication year or range (e.g., '2020' or '2019-2021')."},{"name":"venue","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of publication venues (e.g., 'Nature,CVPR').","title":"Venue"},"description":"Comma-separated list of publication venues (e.g., 'Nature,CVPR')."},{"name":"min_citations","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"description":"Minimum number of citations.","title":"Min Citations"},"description":"Minimum number of citations."},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number for pagination (1-indexed).","default":1,"title":"Page"},"description":"Page number for pagination (1-indexed)."},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of results per page.","default":10,"title":"Results Per Page"},"description":"Number of results per page."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SemanticScholarSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/research/websearch":{"post":{"tags":["research","research"],"summary":"Web search across providers with optional aggregation","description":"Runs the websearch pipeline: optional subqueries + provider search. If aggregate=True,\nruns relevance evaluation and generates a final answer.","operationId":"websearch_endpoint_api_v1_research_websearch_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebSearchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/WebSearchRawResponse"},{"$ref":"#/components/schemas/WebSearchAggregateResponse"}],"title":"Response Websearch Endpoint Api V1 Research Websearch Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/arxiv":{"get":{"tags":["paper-search","paper-search"],"summary":"Search arXiv papers","description":"Provider-specific search for arXiv papers with pagination.","operationId":"paper_search_arxiv_api_v1_paper_search_arxiv_get","parameters":[{"name":"X-Token","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Token"}},{"name":"query","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search query for title, abstract, etc.","title":"Query"},"description":"Search query for title, abstract, etc."},{"name":"author","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by author name.","title":"Author"},"description":"Filter by author name."},{"name":"year","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by submission year (e.g., '2023').","title":"Year"},"description":"Filter by submission year (e.g., '2023')."},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number for pagination.","default":1,"title":"Page"},"description":"Page number for pagination."},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of results per page.","default":10,"title":"Results Per Page"},"description":"Number of results per page."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArxivSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv":{"get":{"tags":["paper-search","paper-search"],"summary":"Search BioRxiv/MedRxiv papers","description":"Provider-specific search for BioRxiv/MedRxiv with pagination.","operationId":"paper_search_biorxiv_api_v1_paper_search_biorxiv_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Keyword query to search titles/abstracts.","title":"Q"},"description":"Keyword query to search titles/abstracts."},{"name":"server","in":"query","required":false,"schema":{"type":"string","description":"Source server: biorxiv or medrxiv","default":"biorxiv","title":"Server"},"description":"Source server: biorxiv or medrxiv"},{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date YYYY-MM-DD. Defaults to last 30 days if omitted.","title":"From Date"},"description":"Start date YYYY-MM-DD. Defaults to last 30 days if omitted."},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date YYYY-MM-DD. Defaults to today if omitted.","title":"To Date"},"description":"End date YYYY-MM-DD. Defaults to today if omitted."},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional subject category to filter.","title":"Category"},"description":"Optional subject category to filter."},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Use most recent N days (alternative to date range).","title":"Recent Days"},"description":"Use most recent N days (alternative to date range)."},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Use most recent N posts (alternative to date range).","title":"Recent Count"},"description":"Use most recent N posts (alternative to date range)."},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number (1-indexed).","default":1,"title":"Page"},"description":"Page number (1-indexed)."},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Results per page (max 100).","default":10,"title":"Results Per Page"},"description":"Results per page (max 100)."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BioRxivSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/medrxiv":{"get":{"tags":["paper-search","paper-search"],"summary":"Search MedRxiv papers","operationId":"paper_search_medrxiv_api_v1_paper_search_medrxiv_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Keyword query to search titles/abstracts.","title":"Q"},"description":"Keyword query to search titles/abstracts."},{"name":"server","in":"query","required":false,"schema":{"type":"string","description":"Source server: biorxiv or medrxiv","default":"biorxiv","title":"Server"},"description":"Source server: biorxiv or medrxiv"},{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Start date YYYY-MM-DD. Defaults to last 30 days if omitted.","title":"From Date"},"description":"Start date YYYY-MM-DD. Defaults to last 30 days if omitted."},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"End date YYYY-MM-DD. Defaults to today if omitted.","title":"To Date"},"description":"End date YYYY-MM-DD. Defaults to today if omitted."},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional subject category to filter.","title":"Category"},"description":"Optional subject category to filter."},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Use most recent N days (alternative to date range).","title":"Recent Days"},"description":"Use most recent N days (alternative to date range)."},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Use most recent N posts (alternative to date range).","title":"Recent Count"},"description":"Use most recent N posts (alternative to date range)."},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number (1-indexed).","default":1,"title":"Page"},"description":"Page number (1-indexed)."},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Results per page (max 100).","default":10,"title":"Results Per Page"},"description":"Results per page (max 100)."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BioRxivSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/medrxiv/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get MedRxiv paper by DOI","operationId":"paper_search_medrxiv_by_doi_api_v1_paper_search_medrxiv_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","description":"MedRxiv DOI, e.g., 10.1101/2020.03.24.20042964","title":"Doi"},"description":"MedRxiv DOI, e.g., 10.1101/2020.03.24.20042964"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BioRxivPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/medrxiv/raw/details":{"get":{"tags":["paper-search","paper-search"],"summary":"Raw passthrough for MedRxiv details endpoint (json|xml|html)","operationId":"medrxiv_raw_details_api_v1_paper_search_medrxiv_raw_details_get","parameters":[{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Date"}},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Date"}},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Days"}},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Count"}},{"name":"doi","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doi"}},{"name":"cursor","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Cursor"}},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"json|xml|html","default":"json","title":"Format"},"description":"json|xml|html"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/medrxiv/raw/pubs":{"get":{"tags":["paper-search","paper-search"],"summary":"Raw passthrough for MedRxiv pubs endpoint (json|csv)","operationId":"medrxiv_raw_pubs_api_v1_paper_search_medrxiv_raw_pubs_get","parameters":[{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Date"}},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Date"}},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Days"}},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Count"}},{"name":"doi","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doi"}},{"name":"cursor","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Cursor"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"json|csv","default":"json","title":"Format"},"description":"json|csv"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/medrxiv/raw/pub":{"get":{"tags":["paper-search","paper-search"],"summary":"Raw passthrough for MedRxiv pub endpoint (json|csv)","operationId":"medrxiv_raw_pub_api_v1_paper_search_medrxiv_raw_pub_get","parameters":[{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Date"}},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Date"}},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Days"}},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Count"}},{"name":"cursor","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Cursor"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"json|csv","default":"json","title":"Format"},"description":"json|csv"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/pmc-oai/identify":{"get":{"tags":["paper-search","paper-search"],"summary":"PMC OAI-PMH Identify","operationId":"pmc_oai_identify_api_v1_paper_search_pmc_oai_identify_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PMCOAIIdentifyResponse"}}}}}}},"/api/v1/paper-search/pmc-oai/list-sets":{"get":{"tags":["paper-search","paper-search"],"summary":"PMC OAI-PMH ListSets","operationId":"pmc_oai_list_sets_api_v1_paper_search_pmc_oai_list_sets_get","parameters":[{"name":"resumptionToken","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resumptiontoken"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PMCOAIListSetsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/pmc-oai/list-identifiers":{"get":{"tags":["paper-search","paper-search"],"summary":"PMC OAI-PMH ListIdentifiers","operationId":"pmc_oai_list_identifiers_api_v1_paper_search_pmc_oai_list_identifiers_get","parameters":[{"name":"metadataPrefix","in":"query","required":false,"schema":{"type":"string","default":"oai_dc","title":"Metadataprefix"}},{"name":"from","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From"}},{"name":"until","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Until"}},{"name":"set","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Set"}},{"name":"resumptionToken","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resumptiontoken"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PMCOAIIdentifiersResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/pmc-oai/list-records":{"get":{"tags":["paper-search","paper-search"],"summary":"PMC OAI-PMH ListRecords","operationId":"pmc_oai_list_records_api_v1_paper_search_pmc_oai_list_records_get","parameters":[{"name":"metadataPrefix","in":"query","required":false,"schema":{"type":"string","default":"oai_dc","title":"Metadataprefix"}},{"name":"from","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From"}},{"name":"until","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Until"}},{"name":"set","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Set"}},{"name":"resumptionToken","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resumptiontoken"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PMCOAIListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/pmc-oai/get-record":{"get":{"tags":["paper-search","paper-search"],"summary":"PMC OAI-PMH GetRecord","operationId":"pmc_oai_get_record_api_v1_paper_search_pmc_oai_get_record_get","parameters":[{"name":"identifier","in":"query","required":true,"schema":{"type":"string","title":"Identifier"}},{"name":"metadataPrefix","in":"query","required":false,"schema":{"type":"string","default":"oai_dc","title":"Metadataprefix"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PMCOAIRecord"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/pmc-oa/identify":{"get":{"tags":["paper-search","paper-search"],"summary":"PMC OA Web Service identification","operationId":"pmc_oa_identify_api_v1_paper_search_pmc_oa_identify_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PMCOAIdentifyResponse"}}}}}}},"/api/v1/paper-search/pmc-oa/query":{"get":{"tags":["paper-search","paper-search"],"summary":"PMC OA Web Service query with resumption","operationId":"pmc_oa_query_api_v1_paper_search_pmc_oa_query_get","parameters":[{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD","title":"From Date"},"description":"YYYY-MM-DD"},{"name":"until_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD","title":"Until Date"},"description":"YYYY-MM-DD"},{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"'pdf' or 'tgz'","title":"Format"},"description":"'pdf' or 'tgz'"},{"name":"resumptionToken","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resumptiontoken"}},{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"PMC ID like PMC5334499","title":"Id"},"description":"PMC ID like PMC5334499"},{"name":"pdf_only","in":"query","required":false,"schema":{"type":"boolean","description":"Filter results to those with PDF links","default":false,"title":"Pdf Only"},"description":"Filter results to those with PDF links"},{"name":"license_contains","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Case-insensitive substring match on license","title":"License Contains"},"description":"Case-insensitive substring match on license"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PMCOAQueryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/pmc-oa/fetch-pdf":{"get":{"tags":["paper-search","paper-search"],"summary":"Fetch PMC PDF by PMCID and return as attachment","operationId":"pmc_oa_fetch_pdf_api_v1_paper_search_pmc_oa_fetch_pdf_get","parameters":[{"name":"pmcid","in":"query","required":true,"schema":{"type":"string","description":"PMCID numeric or with 'PMC' prefix","title":"Pmcid"},"description":"PMCID numeric or with 'PMC' prefix"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/pmc-oa/ingest-pdf":{"post":{"tags":["paper-search","paper-search"],"summary":"Download PMC PDF by PMCID, process, and persist to DB","description":"Convenience endpoint: fetch PMC PDF and ingest into user's Media DB.","operationId":"pmc_oa_ingest_pdf_api_v1_paper_search_pmc_oa_ingest_pdf_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"pmcid","in":"query","required":true,"schema":{"type":"string","description":"PMCID numeric or with 'PMC' prefix","title":"Pmcid"},"description":"PMCID numeric or with 'PMC' prefix"},{"name":"title","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional title override","title":"Title"},"description":"Optional title override"},{"name":"author","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional author override","title":"Author"},"description":"Optional author override"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional comma-separated keywords","title":"Keywords"},"description":"Optional comma-separated keywords"},{"name":"perform_chunking","in":"query","required":false,"schema":{"type":"boolean","description":"Enable chunking during processing","default":true,"title":"Perform Chunking"},"description":"Enable chunking during processing"},{"name":"parser","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"PDF parsing backend","default":"pymupdf4llm","title":"Parser"},"description":"PDF parsing backend"},{"name":"api_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"LLM API name for analysis","title":"Api Name"},"description":"LLM API name for analysis"},{"name":"custom_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Custom prompt for analysis","title":"Custom Prompt"},"description":"Custom prompt for analysis"},{"name":"system_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"System prompt for analysis","title":"System Prompt"},"description":"System prompt for analysis"},{"name":"enable_ocr","in":"query","required":false,"schema":{"type":"boolean","description":"Enable OCR for scanned PDFs","default":false,"title":"Enable Ocr"},"description":"Enable OCR for scanned PDFs"},{"name":"ocr_backend","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"OCR backend (e.g., 'tesseract', 'auto')","title":"Ocr Backend"},"description":"OCR backend (e.g., 'tesseract', 'auto')"},{"name":"ocr_lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"OCR language code","default":"eng","title":"Ocr Lang"},"description":"OCR language code"},{"name":"ocr_dpi","in":"query","required":false,"schema":{"type":"integer","maximum":600,"minimum":72,"description":"OCR render DPI","default":300,"title":"Ocr Dpi"},"description":"OCR render DPI"},{"name":"ocr_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"OCR mode: 'always' or 'fallback'","default":"fallback","title":"Ocr Mode"},"description":"OCR mode: 'always' or 'fallback'"},{"name":"ocr_min_page_text_chars","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"description":"Min text chars/page to skip OCR","default":40,"title":"Ocr Min Page Text Chars"},"description":"Min text chars/page to skip OCR"},{"name":"chunk_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Chunking method (e.g., 'sentences', 'semantic')","title":"Chunk Method"},"description":"Chunking method (e.g., 'sentences', 'semantic')"},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","maximum":4000,"minimum":50,"description":"Target chunk size","default":500,"title":"Chunk Size"},"description":"Target chunk size"},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":0,"description":"Chunk overlap","default":200,"title":"Chunk Overlap"},"description":"Chunk overlap"},{"name":"perform_analysis","in":"query","required":false,"schema":{"type":"boolean","description":"Run analysis/summarization","default":true,"title":"Perform Analysis"},"description":"Run analysis/summarization"},{"name":"summarize_recursively","in":"query","required":false,"schema":{"type":"boolean","description":"Enable recursive summarization","default":false,"title":"Summarize Recursively"},"description":"Enable recursive summarization"},{"name":"enrich_metadata","in":"query","required":false,"schema":{"type":"boolean","description":"Enrich with PMC OAI-PMH oai_dc metadata","default":true,"title":"Enrich Metadata"},"description":"Enrich with PMC OAI-PMH oai_dc metadata"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/arxiv/ingest":{"post":{"tags":["paper-search","paper-search"],"summary":"Download arXiv PDF by arXiv ID, process, and persist","operationId":"arxiv_ingest_api_v1_paper_search_arxiv_ingest_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"arxiv_id","in":"query","required":true,"schema":{"type":"string","description":"arXiv ID, e.g., 1706.03762","title":"Arxiv Id"},"description":"arXiv ID, e.g., 1706.03762"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated keywords","title":"Keywords"},"description":"Comma-separated keywords"},{"name":"perform_chunking","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Chunking"}},{"name":"parser","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"pymupdf4llm","title":"Parser"}},{"name":"chunk_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"}},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","maximum":4000,"minimum":50,"default":500,"title":"Chunk Size"}},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":0,"default":200,"title":"Chunk Overlap"}},{"name":"perform_analysis","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Analysis"}},{"name":"custom_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"}},{"name":"system_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"}},{"name":"api_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"}},{"name":"enable_ocr","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enable Ocr"}},{"name":"ocr_backend","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend"}},{"name":"ocr_lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"eng","title":"Ocr Lang"}},{"name":"ocr_dpi","in":"query","required":false,"schema":{"type":"integer","maximum":600,"minimum":72,"default":300,"title":"Ocr Dpi"}},{"name":"ocr_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"fallback","title":"Ocr Mode"}},{"name":"ocr_min_page_text_chars","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"default":40,"title":"Ocr Min Page Text Chars"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/earthrxiv/ingest":{"post":{"tags":["paper-search","paper-search"],"summary":"Download EarthArXiv PDF by OSF ID, process, and persist","description":"Download an EarthArXiv PDF by OSF ID, process, and persist to the Media DB.","operationId":"eartharxiv_ingest_api_v1_paper_search_earthrxiv_ingest_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"osf_id","in":"query","required":true,"schema":{"type":"string","description":"EarthArXiv OSF ID (e.g., 12345)","title":"Osf Id"},"description":"EarthArXiv OSF ID (e.g., 12345)"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated keywords","title":"Keywords"},"description":"Comma-separated keywords"},{"name":"perform_chunking","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Chunking"}},{"name":"parser","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"pymupdf4llm","title":"Parser"}},{"name":"chunk_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"}},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","maximum":4000,"minimum":50,"default":500,"title":"Chunk Size"}},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":0,"default":200,"title":"Chunk Overlap"}},{"name":"perform_analysis","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Analysis"}},{"name":"custom_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"}},{"name":"system_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"}},{"name":"api_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"}},{"name":"enable_ocr","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enable Ocr"}},{"name":"ocr_backend","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend"}},{"name":"ocr_lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"eng","title":"Ocr Lang"}},{"name":"ocr_dpi","in":"query","required":false,"schema":{"type":"integer","maximum":600,"minimum":72,"default":300,"title":"Ocr Dpi"}},{"name":"ocr_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"fallback","title":"Ocr Mode"}},{"name":"ocr_min_page_text_chars","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"default":40,"title":"Ocr Min Page Text Chars"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/pubmed/ingest":{"post":{"tags":["paper-search","paper-search"],"summary":"Download PubMed-linked PMC PDF by PMID, process, and persist","operationId":"pubmed_ingest_api_v1_paper_search_pubmed_ingest_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"pmid","in":"query","required":true,"schema":{"type":"string","description":"PubMed PMID","title":"Pmid"},"description":"PubMed PMID"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Keywords"}},{"name":"perform_chunking","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Chunking"}},{"name":"parser","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"pymupdf4llm","title":"Parser"}},{"name":"chunk_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"}},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","maximum":4000,"minimum":50,"default":500,"title":"Chunk Size"}},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":0,"default":200,"title":"Chunk Overlap"}},{"name":"perform_analysis","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Analysis"}},{"name":"custom_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"}},{"name":"system_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"}},{"name":"api_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"}},{"name":"enable_ocr","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enable Ocr"}},{"name":"ocr_backend","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend"}},{"name":"ocr_lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"eng","title":"Ocr Lang"}},{"name":"ocr_dpi","in":"query","required":false,"schema":{"type":"integer","maximum":600,"minimum":72,"default":300,"title":"Ocr Dpi"}},{"name":"ocr_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"fallback","title":"Ocr Mode"}},{"name":"ocr_min_page_text_chars","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"default":40,"title":"Ocr Min Page Text Chars"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/semantic-scholar/ingest":{"post":{"tags":["paper-search","paper-search"],"summary":"Download Semantic Scholar open-access PDF by paperId, process, and persist","operationId":"s2_ingest_api_v1_paper_search_semantic_scholar_ingest_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"paper_id","in":"query","required":true,"schema":{"type":"string","description":"Semantic Scholar paperId","title":"Paper Id"},"description":"Semantic Scholar paperId"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Keywords"}},{"name":"perform_chunking","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Chunking"}},{"name":"parser","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"pymupdf4llm","title":"Parser"}},{"name":"chunk_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"}},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","maximum":4000,"minimum":50,"default":500,"title":"Chunk Size"}},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":0,"default":200,"title":"Chunk Overlap"}},{"name":"perform_analysis","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Analysis"}},{"name":"custom_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"}},{"name":"system_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"}},{"name":"api_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"}},{"name":"enable_ocr","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enable Ocr"}},{"name":"ocr_backend","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend"}},{"name":"ocr_lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"eng","title":"Ocr Lang"}},{"name":"ocr_dpi","in":"query","required":false,"schema":{"type":"integer","maximum":600,"minimum":72,"default":300,"title":"Ocr Dpi"}},{"name":"ocr_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"fallback","title":"Ocr Mode"}},{"name":"ocr_min_page_text_chars","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"default":40,"title":"Ocr Min Page Text Chars"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get BioRxiv/MedRxiv paper by DOI","description":"Fetch a single preprint by DOI.","operationId":"paper_search_biorxiv_by_doi_api_v1_paper_search_biorxiv_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","description":"Preprint DOI (e.g., 10.1101/2021.11.09.467936)","title":"Doi"},"description":"Preprint DOI (e.g., 10.1101/2021.11.09.467936)"},{"name":"server","in":"query","required":false,"schema":{"type":"string","description":"Server: biorxiv or medrxiv","default":"biorxiv","title":"Server"},"description":"Server: biorxiv or medrxiv"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BioRxivPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/semantic-scholar":{"get":{"tags":["paper-search","paper-search"],"summary":"Search Semantic Scholar","description":"Thin wrapper routing to existing Semantic Scholar adapter with consistent envelope.","operationId":"paper_search_semantic_scholar_api_v1_paper_search_semantic_scholar_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search query (e.g., paper title, keywords, author name).","title":"Query"},"description":"Search query (e.g., paper title, keywords, author name)."},{"name":"fields_of_study","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of fields of study. Choices include: Computer Science, Medicine, Chemistry, Biology, Materials Science, etc.","title":"Fields Of Study"},"description":"Comma-separated list of fields of study. Choices include: Computer Science, Medicine, Chemistry, Biology, Materials Science, etc."},{"name":"publication_types","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of publication types. Choices include: Review, JournalArticle, CaseReport, ClinicalTrial, Conference, etc.","title":"Publication Types"},"description":"Comma-separated list of publication types. Choices include: Review, JournalArticle, CaseReport, ClinicalTrial, Conference, etc."},{"name":"year_range","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by publication year or range (e.g., '2020' or '2019-2021').","title":"Year Range"},"description":"Filter by publication year or range (e.g., '2020' or '2019-2021')."},{"name":"venue","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated list of publication venues (e.g., 'Nature,CVPR').","title":"Venue"},"description":"Comma-separated list of publication venues (e.g., 'Nature,CVPR')."},{"name":"min_citations","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"description":"Minimum number of citations.","title":"Min Citations"},"description":"Minimum number of citations."},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number for pagination (1-indexed).","default":1,"title":"Page"},"description":"Page number for pagination (1-indexed)."},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of results per page.","default":10,"title":"Results Per Page"},"description":"Number of results per page."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SemanticScholarSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv-pubs":{"get":{"tags":["paper-search","paper-search"],"summary":"Search published article metadata (bioRxiv/medRxiv)","operationId":"paper_search_biorxiv_pubs_api_v1_paper_search_biorxiv_pubs_get","parameters":[{"name":"server","in":"query","required":false,"schema":{"type":"string","description":"Server: biorxiv or medrxiv","default":"biorxiv","title":"Server"},"description":"Server: biorxiv or medrxiv"},{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD start (if recent params omitted)","title":"From Date"},"description":"YYYY-MM-DD start (if recent params omitted)"},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD end (if recent params omitted)","title":"To Date"},"description":"YYYY-MM-DD end (if recent params omitted)"},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Use most recent N days.","title":"Recent Days"},"description":"Use most recent N days."},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Use most recent N posts.","title":"Recent Count"},"description":"Use most recent N posts."},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Client-side filter over title/abstract/authors","title":"Q"},"description":"Client-side filter over title/abstract/authors"},{"name":"include_abstracts","in":"query","required":false,"schema":{"type":"boolean","description":"Include preprint_abstract field in results","default":true,"title":"Include Abstracts"},"description":"Include preprint_abstract field in results"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BioRxivPubsSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/pubmed":{"get":{"tags":["paper-search","paper-search"],"summary":"Search PubMed","description":"Provider-specific search for PubMed with pagination via E-utilities.","operationId":"paper_search_pubmed_api_v1_paper_search_pubmed_get","parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"PubMed search query (supports normal PubMed syntax).","title":"Q"},"description":"PubMed search query (supports normal PubMed syntax)."},{"name":"from_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":2100,"minimum":1800},{"type":"null"}],"description":"Filter by publication year start (YYYY).","title":"From Year"},"description":"Filter by publication year start (YYYY)."},{"name":"to_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":2100,"minimum":1800},{"type":"null"}],"description":"Filter by publication year end (YYYY).","title":"To Year"},"description":"Filter by publication year end (YYYY)."},{"name":"free_full_text","in":"query","required":false,"schema":{"type":"boolean","description":"Restrict to 'Free full text' articles.","default":false,"title":"Free Full Text"},"description":"Restrict to 'Free full text' articles."},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number (1-indexed).","default":1,"title":"Page"},"description":"Page number (1-indexed)."},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Results per page (max 100).","default":10,"title":"Results Per Page"},"description":"Results per page (max 100)."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PubMedSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv-pubs/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get published metadata by DOI (bioRxiv/medRxiv)","operationId":"paper_search_biorxiv_pubs_by_doi_api_v1_paper_search_biorxiv_pubs_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","description":"Preprint or published DOI","title":"Doi"},"description":"Preprint or published DOI"},{"name":"server","in":"query","required":false,"schema":{"type":"string","description":"Server: biorxiv or medrxiv","default":"biorxiv","title":"Server"},"description":"Server: biorxiv or medrxiv"},{"name":"include_abstracts","in":"query","required":false,"schema":{"type":"boolean","description":"Include preprint_abstract field in result","default":true,"title":"Include Abstracts"},"description":"Include preprint_abstract field in result"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BioRxivPublishedRecord"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv/publisher":{"get":{"tags":["paper-search","paper-search"],"summary":"Search bioRxiv publisher mapping (pubs) by publisher prefix","operationId":"paper_search_biorxiv_publisher_api_v1_paper_search_biorxiv_publisher_get","parameters":[{"name":"publisher_prefix","in":"query","required":true,"schema":{"type":"string","minLength":4,"description":"Publisher DOI prefix, e.g., '10.15252'","title":"Publisher Prefix"},"description":"Publisher DOI prefix, e.g., '10.15252'"},{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD start","title":"From Date"},"description":"YYYY-MM-DD start"},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD end","title":"To Date"},"description":"YYYY-MM-DD end"},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Most recent N days","title":"Recent Days"},"description":"Most recent N days"},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Most recent N articles","title":"Recent Count"},"description":"Most recent N articles"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BioRxivPubsSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv/pub":{"get":{"tags":["paper-search","paper-search"],"summary":"Search bioRxiv published article detail (pub)","operationId":"paper_search_biorxiv_pub_api_v1_paper_search_biorxiv_pub_get","parameters":[{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD start","title":"From Date"},"description":"YYYY-MM-DD start"},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD end","title":"To Date"},"description":"YYYY-MM-DD end"},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Most recent N days","title":"Recent Days"},"description":"Most recent N days"},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Most recent N articles","title":"Recent Count"},"description":"Most recent N articles"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BioRxivPubsSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv/funder":{"get":{"tags":["paper-search","paper-search"],"summary":"Search bioRxiv/medRxiv by funder ROR ID","operationId":"paper_search_biorxiv_funder_api_v1_paper_search_biorxiv_funder_get","parameters":[{"name":"server","in":"query","required":false,"schema":{"type":"string","description":"Server: biorxiv or medrxiv","default":"biorxiv","title":"Server"},"description":"Server: biorxiv or medrxiv"},{"name":"ror_id","in":"query","required":true,"schema":{"type":"string","minLength":5,"description":"Funder ROR ID (final 9-char segment)","title":"Ror Id"},"description":"Funder ROR ID (final 9-char segment)"},{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD start","title":"From Date"},"description":"YYYY-MM-DD start"},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD end","title":"To Date"},"description":"YYYY-MM-DD end"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional category filter","title":"Category"},"description":"Optional category filter"},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Most recent N days","title":"Recent Days"},"description":"Most recent N days"},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Most recent N posts","title":"Recent Count"},"description":"Most recent N posts"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BioRxivFunderSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv/reports/summary":{"get":{"tags":["paper-search","paper-search"],"summary":"Content summary statistics (bioRxiv)","operationId":"paper_search_biorxiv_summary_api_v1_paper_search_biorxiv_reports_summary_get","parameters":[{"name":"interval","in":"query","required":false,"schema":{"type":"string","description":"Interval: m (monthly) or y (yearly)","default":"m","title":"Interval"},"description":"Interval: m (monthly) or y (yearly)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BioRxivSummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv/reports/usage":{"get":{"tags":["paper-search","paper-search"],"summary":"Usage summary statistics (bioRxiv)","operationId":"paper_search_biorxiv_usage_api_v1_paper_search_biorxiv_reports_usage_get","parameters":[{"name":"interval","in":"query","required":false,"schema":{"type":"string","description":"Interval: m (monthly) or y (yearly)","default":"m","title":"Interval"},"description":"Interval: m (monthly) or y (yearly)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BioRxivUsageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv/raw/details":{"get":{"tags":["paper-search","paper-search"],"summary":"Raw passthrough for BioRxiv details endpoint (supports json/xml/html)","operationId":"biorxiv_raw_details_api_v1_paper_search_biorxiv_raw_details_get","parameters":[{"name":"server","in":"query","required":false,"schema":{"type":"string","default":"biorxiv","title":"Server"}},{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Date"}},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Date"}},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Days"}},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Count"}},{"name":"doi","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doi"}},{"name":"cursor","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Cursor"}},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"json|xml|html","default":"json","title":"Format"},"description":"json|xml|html"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv/raw/pubs":{"get":{"tags":["paper-search","paper-search"],"summary":"Raw passthrough for BioRxiv pubs endpoint (supports json/csv)","operationId":"biorxiv_raw_pubs_api_v1_paper_search_biorxiv_raw_pubs_get","parameters":[{"name":"server","in":"query","required":false,"schema":{"type":"string","default":"biorxiv","title":"Server"}},{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Date"}},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Date"}},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Days"}},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Count"}},{"name":"doi","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doi"}},{"name":"cursor","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Cursor"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"json|csv","default":"json","title":"Format"},"description":"json|csv"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv/raw/pub":{"get":{"tags":["paper-search","paper-search"],"summary":"Raw passthrough for BioRxiv pub endpoint (supports json/csv)","operationId":"biorxiv_raw_pub_api_v1_paper_search_biorxiv_raw_pub_get","parameters":[{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Date"}},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Date"}},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Days"}},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Count"}},{"name":"cursor","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Cursor"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"json|csv","default":"json","title":"Format"},"description":"json|csv"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv/raw/funder":{"get":{"tags":["paper-search","paper-search"],"summary":"Raw passthrough for BioRxiv funder endpoint (supports json/xml)","operationId":"biorxiv_raw_funder_api_v1_paper_search_biorxiv_raw_funder_get","parameters":[{"name":"server","in":"query","required":false,"schema":{"type":"string","default":"biorxiv","title":"Server"}},{"name":"ror_id","in":"query","required":true,"schema":{"type":"string","title":"Ror Id"}},{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Date"}},{"name":"to_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Date"}},{"name":"recent_days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Days"}},{"name":"recent_count","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recent Count"}},{"name":"cursor","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Cursor"}},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"json|xml","default":"json","title":"Format"},"description":"json|xml"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv/raw/reports/summary":{"get":{"tags":["paper-search","paper-search"],"summary":"Raw passthrough for BioRxiv summary (supports json/csv)","operationId":"biorxiv_raw_summary_api_v1_paper_search_biorxiv_raw_reports_summary_get","parameters":[{"name":"interval","in":"query","required":false,"schema":{"type":"string","default":"m","title":"Interval"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"json|csv","default":"json","title":"Format"},"description":"json|csv"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/biorxiv/raw/reports/usage":{"get":{"tags":["paper-search","paper-search"],"summary":"Raw passthrough for BioRxiv usage (supports json/csv)","operationId":"biorxiv_raw_usage_api_v1_paper_search_biorxiv_raw_reports_usage_get","parameters":[{"name":"interval","in":"query","required":false,"schema":{"type":"string","default":"m","title":"Interval"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","description":"json|csv","default":"json","title":"Format"},"description":"json|csv"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/repec/by-handle":{"get":{"tags":["paper-search","paper-search"],"summary":"Get RePEc record by handle (IDEAS getref)","description":"Lookup a RePEc item by its handle via IDEAS API.\n\nRequires `REPEC_API_CODE` to be configured in the environment.","operationId":"repec_by_handle_api_v1_paper_search_repec_by_handle_get","parameters":[{"name":"handle","in":"query","required":true,"schema":{"type":"string","minLength":8,"title":"Handle"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/repec/citations":{"get":{"tags":["paper-search","paper-search"],"summary":"Get CitEc citation summary for a RePEc handle","operationId":"repec_citations_api_v1_paper_search_repec_citations_get","parameters":[{"name":"handle","in":"query","required":true,"schema":{"type":"string","minLength":8,"title":"Handle"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepecCitationsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/ieee":{"get":{"tags":["paper-search","paper-search"],"summary":"Search IEEE Xplore (scaffold)","operationId":"paper_search_ieee_api_v1_paper_search_ieee_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Keyword query","title":"Q"},"description":"Keyword query"},{"name":"from_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":2100,"minimum":1800},{"type":"null"}],"title":"From Year"}},{"name":"to_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":2100,"minimum":1800},{"type":"null"}],"title":"To Year"}},{"name":"publication_title","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"IEEE publication title filter","title":"Publication Title"},"description":"IEEE publication title filter"},{"name":"authors","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Author name(s)","title":"Authors"},"description":"Author name(s)"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/ieee/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get IEEE Xplore by DOI (scaffold)","operationId":"paper_search_ieee_by_doi_api_v1_paper_search_ieee_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Doi"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/ieee/by-id":{"get":{"tags":["paper-search","paper-search"],"summary":"Get IEEE Xplore by article number (scaffold)","operationId":"paper_search_ieee_by_id_api_v1_paper_search_ieee_by_id_get","parameters":[{"name":"article_number","in":"query","required":true,"schema":{"type":"string","title":"Article Number"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/springer":{"get":{"tags":["paper-search","paper-search"],"summary":"Search Springer Nature (scaffold)","operationId":"paper_search_springer_api_v1_paper_search_springer_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Keyword query","title":"Q"},"description":"Keyword query"},{"name":"venue","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Venue or journal name filter","title":"Venue"},"description":"Venue or journal name filter"},{"name":"from_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":2100,"minimum":1800},{"type":"null"}],"title":"From Year"}},{"name":"to_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":2100,"minimum":1800},{"type":"null"}],"title":"To Year"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/springer/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get Springer Nature by DOI (scaffold)","operationId":"paper_search_springer_by_doi_api_v1_paper_search_springer_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Doi"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/scopus":{"get":{"tags":["paper-search","paper-search"],"summary":"Search Elsevier Scopus (scaffold)","operationId":"paper_search_scopus_api_v1_paper_search_scopus_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"from_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":2100,"minimum":1800},{"type":"null"}],"title":"From Year"}},{"name":"to_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":2100,"minimum":1800},{"type":"null"}],"title":"To Year"}},{"name":"open_access_only","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Open Access Only"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/scopus/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get Scopus by DOI (scaffold)","operationId":"paper_search_scopus_by_doi_api_v1_paper_search_scopus_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Doi"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/acm":{"get":{"tags":["paper-search","paper-search"],"summary":"Search ACM Digital Library via aggregators (scaffold)","operationId":"paper_search_acm_api_v1_paper_search_acm_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Keyword query","title":"Q"},"description":"Keyword query"},{"name":"venue","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Venue or journal name filter","title":"Venue"},"description":"Venue or journal name filter"},{"name":"from_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":2100,"minimum":1800},{"type":"null"}],"title":"From Year"}},{"name":"to_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":2100,"minimum":1800},{"type":"null"}],"title":"To Year"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/acm/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get ACM via Crossref/OpenAlex by DOI (scaffold)","operationId":"paper_search_acm_by_doi_api_v1_paper_search_acm_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Doi"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/wiley":{"get":{"tags":["paper-search","paper-search"],"summary":"Search Wiley via aggregators (scaffold)","operationId":"paper_search_wiley_api_v1_paper_search_wiley_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Keyword query","title":"Q"},"description":"Keyword query"},{"name":"venue","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Venue or journal name filter","title":"Venue"},"description":"Venue or journal name filter"},{"name":"from_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":2100,"minimum":1800},{"type":"null"}],"title":"From Year"}},{"name":"to_year","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":2100,"minimum":1800},{"type":"null"}],"title":"To Year"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/wiley/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get Wiley via Crossref/OpenAlex by DOI (scaffold)","operationId":"paper_search_wiley_by_doi_api_v1_paper_search_wiley_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Doi"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/ingest/by-doi":{"post":{"tags":["paper-search","paper-search"],"summary":"Resolve OA by DOI via Unpaywall, download PDF, process, and persist","description":"Best-effort OA ingestion using Unpaywall DOI resolution.\n\nIf OA PDF cannot be resolved, returns 404 with a helpful message.","operationId":"ingest_by_doi_api_v1_paper_search_ingest_by_doi_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","description":"DOI to ingest via OA when available","title":"Doi"},"description":"DOI to ingest via OA when available"},{"name":"title","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional title override","title":"Title"},"description":"Optional title override"},{"name":"author","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional author override","title":"Author"},"description":"Optional author override"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional comma-separated keywords","title":"Keywords"},"description":"Optional comma-separated keywords"},{"name":"perform_chunking","in":"query","required":false,"schema":{"type":"boolean","description":"Enable chunking during processing","default":true,"title":"Perform Chunking"},"description":"Enable chunking during processing"},{"name":"parser","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"PDF parsing backend","default":"pymupdf4llm","title":"Parser"},"description":"PDF parsing backend"},{"name":"api_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"LLM API name for analysis","title":"Api Name"},"description":"LLM API name for analysis"},{"name":"custom_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Custom prompt for analysis","title":"Custom Prompt"},"description":"Custom prompt for analysis"},{"name":"system_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"System prompt for analysis","title":"System Prompt"},"description":"System prompt for analysis"},{"name":"enable_ocr","in":"query","required":false,"schema":{"type":"boolean","description":"Enable OCR for scanned PDFs","default":false,"title":"Enable Ocr"},"description":"Enable OCR for scanned PDFs"},{"name":"ocr_backend","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"OCR backend","title":"Ocr Backend"},"description":"OCR backend"},{"name":"ocr_lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"OCR language code","default":"eng","title":"Ocr Lang"},"description":"OCR language code"},{"name":"ocr_dpi","in":"query","required":false,"schema":{"type":"integer","maximum":600,"minimum":72,"description":"OCR render DPI","default":300,"title":"Ocr Dpi"},"description":"OCR render DPI"},{"name":"ocr_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"OCR mode: 'always' or 'fallback'","default":"fallback","title":"Ocr Mode"},"description":"OCR mode: 'always' or 'fallback'"},{"name":"ocr_min_page_text_chars","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"description":"Min text chars/page to skip OCR","default":40,"title":"Ocr Min Page Text Chars"},"description":"Min text chars/page to skip OCR"},{"name":"chunk_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Chunking method (e.g., 'sentences', 'semantic')","title":"Chunk Method"},"description":"Chunking method (e.g., 'sentences', 'semantic')"},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","maximum":4000,"minimum":50,"description":"Target chunk size","default":500,"title":"Chunk Size"},"description":"Target chunk size"},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":0,"description":"Chunk overlap","default":200,"title":"Chunk Overlap"},"description":"Chunk overlap"},{"name":"perform_analysis","in":"query","required":false,"schema":{"type":"boolean","description":"Run analysis/summarization","default":true,"title":"Perform Analysis"},"description":"Run analysis/summarization"},{"name":"summarize_recursively","in":"query","required":false,"schema":{"type":"boolean","description":"Enable recursive summarization","default":false,"title":"Summarize Recursively"},"description":"Enable recursive summarization"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/ingest/batch":{"post":{"tags":["paper-search","paper-search"],"summary":"Batch ingest PDFs by pdf_url, DOI (OA), PMCID, or arXiv ID","operationId":"ingest_batch_api_v1_paper_search_ingest_batch_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestBatchRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IngestBatchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/chemrxiv/items":{"get":{"tags":["paper-search","paper-search"],"summary":"Search ChemRxiv items","operationId":"chemrxiv_items_api_v1_paper_search_chemrxiv_items_get","parameters":[{"name":"term","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search term","title":"Term"},"description":"Search term"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Offset for results","default":0,"title":"Skip"},"description":"Offset for results"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"description":"Results per page (max 50)","default":10,"title":"Limit"},"description":"Results per page (max 50)"},{"name":"sort","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort order (ChemRxiv enum)","default":"PUBLISHED_DATE_DESC","title":"Sort"},"description":"Sort order (ChemRxiv enum)"},{"name":"author","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Author filter","title":"Author"},"description":"Author filter"},{"name":"searchDateFrom","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD or ISO","title":"Searchdatefrom"},"description":"YYYY-MM-DD or ISO"},{"name":"searchDateTo","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"YYYY-MM-DD or ISO","title":"Searchdateto"},"description":"YYYY-MM-DD or ISO"},{"name":"searchLicense","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"License filter","title":"Searchlicense"},"description":"License filter"},{"name":"categoryIds","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated category IDs","title":"Categoryids"},"description":"Comma-separated category IDs"},{"name":"subjectIds","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated subject IDs","title":"Subjectids"},"description":"Comma-separated subject IDs"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/chemrxiv/items/by-id":{"get":{"tags":["paper-search","paper-search"],"summary":"Get ChemRxiv item by ID","operationId":"chemrxiv_item_by_id_api_v1_paper_search_chemrxiv_items_by_id_get","parameters":[{"name":"itemId","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Itemid"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/chemrxiv/items/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get ChemRxiv item by DOI","operationId":"chemrxiv_item_by_doi_api_v1_paper_search_chemrxiv_items_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Doi"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/chemrxiv/categories":{"get":{"tags":["paper-search","paper-search"],"summary":"Get ChemRxiv categories","operationId":"chemrxiv_categories_api_v1_paper_search_chemrxiv_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/paper-search/chemrxiv/licenses":{"get":{"tags":["paper-search","paper-search"],"summary":"Get ChemRxiv licenses","operationId":"chemrxiv_licenses_api_v1_paper_search_chemrxiv_licenses_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/paper-search/chemrxiv/version":{"get":{"tags":["paper-search","paper-search"],"summary":"Get ChemRxiv API version","operationId":"chemrxiv_version_api_v1_paper_search_chemrxiv_version_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/paper-search/chemrxiv/oai":{"get":{"tags":["paper-search","paper-search"],"summary":"ChemRxiv OAI-PMH passthrough (XML)","operationId":"chemrxiv_oai_api_v1_paper_search_chemrxiv_oai_get","parameters":[{"name":"verb","in":"query","required":true,"schema":{"type":"string","description":"OAI verb","title":"Verb"},"description":"OAI verb"},{"name":"identifier","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Identifier"}},{"name":"metadataPrefix","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metadataprefix"}},{"name":"from","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From"}},{"name":"until","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Until"}},{"name":"resumptionToken","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resumptiontoken"}},{"name":"set","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Set"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/iacr/conf":{"get":{"tags":["paper-search","paper-search"],"summary":"IACR conference metadata (by venue + year)","operationId":"iacr_conf_api_v1_paper_search_iacr_conf_get","parameters":[{"name":"venue","in":"query","required":true,"schema":{"type":"string","description":"crypto|eurocrypt|asiacrypt|fse|ches|tcc|pkc","title":"Venue"},"description":"crypto|eurocrypt|asiacrypt|fse|ches|tcc|pkc"},{"name":"year","in":"query","required":true,"schema":{"type":"integer","maximum":2100,"minimum":1970,"title":"Year"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IacrConferenceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/iacr/conf/raw":{"get":{"tags":["paper-search","paper-search"],"summary":"IACR conference metadata raw (download)","operationId":"iacr_conf_raw_api_v1_paper_search_iacr_conf_raw_get","parameters":[{"name":"venue","in":"query","required":true,"schema":{"type":"string","description":"crypto|eurocrypt|asiacrypt|fse|ches|tcc|pkc","title":"Venue"},"description":"crypto|eurocrypt|asiacrypt|fse|ches|tcc|pkc"},{"name":"year","in":"query","required":true,"schema":{"type":"integer","maximum":2100,"minimum":1970,"title":"Year"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/earthrxiv":{"get":{"tags":["paper-search","paper-search"],"summary":"Search EarthArXiv (OSF) preprints","operationId":"earthrxiv_search_api_v1_paper_search_earthrxiv_get","parameters":[{"name":"term","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search query (OSF 'q' parameter)","title":"Term"},"description":"Search query (OSF 'q' parameter)"},{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by date_created >= YYYY-MM-DD","title":"From Date"},"description":"Filter by date_created >= YYYY-MM-DD"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/earthrxiv/by-id":{"get":{"tags":["paper-search","paper-search"],"summary":"Get EarthArXiv item by OSF ID","operationId":"earthrxiv_by_id_api_v1_paper_search_earthrxiv_by_id_get","parameters":[{"name":"osf_id","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Osf Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/earthrxiv/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get EarthArXiv item by DOI","operationId":"earthrxiv_by_doi_api_v1_paper_search_earthrxiv_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Doi"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/osf":{"get":{"tags":["paper-search","paper-search"],"summary":"Search OSF preprints (all providers or a specific provider)","operationId":"osf_search_api_v1_paper_search_osf_get","parameters":[{"name":"term","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search text (OSF 'q')","title":"Term"},"description":"Search text (OSF 'q')"},{"name":"provider","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Preprints provider key (e.g., 'osf', 'eartharxiv', 'socarxiv')","title":"Provider"},"description":"Preprints provider key (e.g., 'osf', 'eartharxiv', 'socarxiv')"},{"name":"from_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by created date >= YYYY-MM-DD","title":"From Date"},"description":"Filter by created date >= YYYY-MM-DD"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/osf/by-id":{"get":{"tags":["paper-search","paper-search"],"summary":"Get OSF preprint by ID","operationId":"osf_by_id_api_v1_paper_search_osf_by_id_get","parameters":[{"name":"osf_id","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Osf Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/osf/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get OSF preprint by DOI","operationId":"osf_by_doi_api_v1_paper_search_osf_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Doi"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/osf/ingest":{"post":{"tags":["paper-search","paper-search"],"summary":"Download OSF preprint primary-file PDF by OSF ID, process, and persist","operationId":"osf_ingest_api_v1_paper_search_osf_ingest_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"osf_id","in":"query","required":true,"schema":{"type":"string","description":"OSF preprint ID","title":"Osf Id"},"description":"OSF preprint ID"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated keywords","title":"Keywords"},"description":"Comma-separated keywords"},{"name":"perform_chunking","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Chunking"}},{"name":"parser","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"pymupdf4llm","title":"Parser"}},{"name":"chunk_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"}},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","maximum":4000,"minimum":50,"default":500,"title":"Chunk Size"}},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":0,"default":200,"title":"Chunk Overlap"}},{"name":"perform_analysis","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Analysis"}},{"name":"custom_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"}},{"name":"system_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"}},{"name":"api_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"}},{"name":"enable_ocr","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enable Ocr"}},{"name":"ocr_backend","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend"}},{"name":"ocr_lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"eng","title":"Ocr Lang"}},{"name":"ocr_dpi","in":"query","required":false,"schema":{"type":"integer","maximum":600,"minimum":72,"default":300,"title":"Ocr Dpi"}},{"name":"ocr_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"fallback","title":"Ocr Mode"}},{"name":"ocr_min_page_text_chars","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"default":40,"title":"Ocr Min Page Text Chars"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/osf/raw":{"get":{"tags":["paper-search","paper-search"],"summary":"Raw passthrough for OSF preprints list (JSON)","operationId":"osf_raw_api_v1_paper_search_osf_raw_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"filter[provider]","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filter[Provider]"}},{"name":"filter[date_created][gte]","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filter[Date Created][Gte]"}},{"name":"page[size]","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Page[Size]"}},{"name":"page[number]","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Page[Number]"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/osf/raw/by-id":{"get":{"tags":["paper-search","paper-search"],"summary":"Raw passthrough for a single OSF preprint (JSON)","operationId":"osf_raw_by_id_api_v1_paper_search_osf_raw_by_id_get","parameters":[{"name":"osf_id","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Osf Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/zenodo":{"get":{"tags":["paper-search","paper-search"],"summary":"Search Zenodo published records","operationId":"zenodo_search_api_v1_paper_search_zenodo_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search query","title":"Q"},"description":"Search query"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Results Per Page"}},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by type (Publication, Dataset, Software, etc.)","title":"Type"},"description":"Filter by type (Publication, Dataset, Software, etc.)"},{"name":"subtype","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Subtype (Journal article, Preprint, etc.)","title":"Subtype"},"description":"Subtype (Journal article, Preprint, etc.)"},{"name":"communities","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Community identifier","title":"Communities"},"description":"Community identifier"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/zenodo/by-id":{"get":{"tags":["paper-search","paper-search"],"summary":"Get Zenodo record by ID","operationId":"zenodo_by_id_api_v1_paper_search_zenodo_by_id_get","parameters":[{"name":"record_id","in":"query","required":true,"schema":{"type":"string","minLength":1,"title":"Record Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/zenodo/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get Zenodo record by DOI","operationId":"zenodo_by_doi_api_v1_paper_search_zenodo_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Doi"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/zenodo/oai":{"get":{"tags":["paper-search","paper-search"],"summary":"Zenodo OAI-PMH passthrough (XML)","operationId":"zenodo_oai_api_v1_paper_search_zenodo_oai_get","parameters":[{"name":"verb","in":"query","required":true,"schema":{"type":"string","description":"OAI verb","title":"Verb"},"description":"OAI verb"},{"name":"identifier","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Identifier"}},{"name":"metadataPrefix","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metadataprefix"}},{"name":"from","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From"}},{"name":"until","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Until"}},{"name":"resumptionToken","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resumptiontoken"}},{"name":"set","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Set"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/zenodo/ingest":{"post":{"tags":["paper-search","paper-search"],"summary":"Download Zenodo PDF by record ID, process, and persist","description":"Download a PDF from a Zenodo record (if available), process, and persist.\n\nNotes:\n  - Not all Zenodo records have PDFs; if no PDF is found in files, returns 404.","operationId":"zenodo_ingest_api_v1_paper_search_zenodo_ingest_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"record_id","in":"query","required":true,"schema":{"type":"string","description":"Zenodo record ID (e.g., 1234567)","title":"Record Id"},"description":"Zenodo record ID (e.g., 1234567)"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated keywords","title":"Keywords"},"description":"Comma-separated keywords"},{"name":"perform_chunking","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Chunking"}},{"name":"parser","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"pymupdf4llm","title":"Parser"}},{"name":"chunk_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"}},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","maximum":4000,"minimum":50,"default":500,"title":"Chunk Size"}},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":0,"default":200,"title":"Chunk Overlap"}},{"name":"perform_analysis","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Analysis"}},{"name":"custom_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"}},{"name":"system_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"}},{"name":"api_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"}},{"name":"enable_ocr","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enable Ocr"}},{"name":"ocr_backend","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend"}},{"name":"ocr_lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"eng","title":"Ocr Lang"}},{"name":"ocr_dpi","in":"query","required":false,"schema":{"type":"integer","maximum":600,"minimum":72,"default":300,"title":"Ocr Dpi"}},{"name":"ocr_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"fallback","title":"Ocr Mode"}},{"name":"ocr_min_page_text_chars","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"default":40,"title":"Ocr Min Page Text Chars"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/figshare":{"get":{"tags":["paper-search","paper-search"],"summary":"Search Figshare records","operationId":"figshare_search_api_v1_paper_search_figshare_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Free text to search in metadata","title":"Q"},"description":"Free text to search in metadata"},{"name":"search_for","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Advanced fielded search string, e.g., :title: frog","title":"Search For"},"description":"Advanced fielded search string, e.g., :title: frog"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":10,"title":"Results Per Page"}},{"name":"order","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort key, e.g., published_date","title":"Order"},"description":"Sort key, e.g., published_date"},{"name":"order_direction","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"asc|desc","default":"desc","title":"Order Direction"},"description":"asc|desc"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/figshare/by-id":{"get":{"tags":["paper-search","paper-search"],"summary":"Get Figshare item by article ID","operationId":"figshare_by_id_api_v1_paper_search_figshare_by_id_get","parameters":[{"name":"article_id","in":"query","required":true,"schema":{"type":"string","minLength":1,"title":"Article Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/figshare/by-doi":{"get":{"tags":["paper-search","paper-search"],"summary":"Get Figshare item by DOI (best-effort)","operationId":"figshare_by_doi_api_v1_paper_search_figshare_by_doi_get","parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","minLength":3,"title":"Doi"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/figshare/oai":{"get":{"tags":["paper-search","paper-search"],"summary":"Figshare OAI-PMH passthrough (XML)","operationId":"figshare_oai_api_v1_paper_search_figshare_oai_get","parameters":[{"name":"verb","in":"query","required":true,"schema":{"type":"string","description":"OAI verb","title":"Verb"},"description":"OAI verb"},{"name":"identifier","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Identifier"}},{"name":"metadataPrefix","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metadataprefix"}},{"name":"from","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From"}},{"name":"until","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Until"}},{"name":"resumptionToken","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resumptiontoken"}},{"name":"set","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Set"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/figshare/ingest":{"post":{"tags":["paper-search","paper-search"],"summary":"Download a Figshare PDF by Article ID, process, and persist","operationId":"figshare_ingest_api_v1_paper_search_figshare_ingest_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"article_id","in":"query","required":true,"schema":{"type":"string","description":"Figshare article ID (numeric)","title":"Article Id"},"description":"Figshare article ID (numeric)"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated keywords","title":"Keywords"},"description":"Comma-separated keywords"},{"name":"perform_chunking","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Chunking"}},{"name":"parser","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"pymupdf4llm","title":"Parser"}},{"name":"chunk_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"}},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","maximum":4000,"minimum":50,"default":500,"title":"Chunk Size"}},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":0,"default":200,"title":"Chunk Overlap"}},{"name":"perform_analysis","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Analysis"}},{"name":"custom_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"}},{"name":"system_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"}},{"name":"api_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"}},{"name":"enable_ocr","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enable Ocr"}},{"name":"ocr_backend","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend"}},{"name":"ocr_lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"eng","title":"Ocr Lang"}},{"name":"ocr_dpi","in":"query","required":false,"schema":{"type":"integer","maximum":600,"minimum":72,"default":300,"title":"Ocr Dpi"}},{"name":"ocr_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"fallback","title":"Ocr Mode"}},{"name":"ocr_min_page_text_chars","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"default":40,"title":"Ocr Min Page Text Chars"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/figshare/ingest-by-doi":{"post":{"tags":["paper-search","paper-search"],"summary":"Resolve Figshare record by DOI and ingest PDF","description":"Convenience endpoint: resolves DOI to Figshare article, downloads its PDF, and ingests it.","operationId":"figshare_ingest_by_doi_api_v1_paper_search_figshare_ingest_by_doi_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"doi","in":"query","required":true,"schema":{"type":"string","description":"DOI, e.g., 10.6084/m9.figshare.5616409.v3","title":"Doi"},"description":"DOI, e.g., 10.6084/m9.figshare.5616409.v3"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated keywords","title":"Keywords"},"description":"Comma-separated keywords"},{"name":"perform_chunking","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Chunking"}},{"name":"parser","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"pymupdf4llm","title":"Parser"}},{"name":"chunk_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"}},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","maximum":4000,"minimum":50,"default":500,"title":"Chunk Size"}},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":0,"default":200,"title":"Chunk Overlap"}},{"name":"perform_analysis","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Analysis"}},{"name":"custom_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"}},{"name":"system_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"}},{"name":"api_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"}},{"name":"enable_ocr","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enable Ocr"}},{"name":"ocr_backend","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend"}},{"name":"ocr_lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"eng","title":"Ocr Lang"}},{"name":"ocr_dpi","in":"query","required":false,"schema":{"type":"integer","maximum":600,"minimum":72,"default":300,"title":"Ocr Dpi"}},{"name":"ocr_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"fallback","title":"Ocr Mode"}},{"name":"ocr_min_page_text_chars","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"default":40,"title":"Ocr Min Page Text Chars"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/hal":{"get":{"tags":["paper-search","paper-search"],"summary":"Search HAL (Solr-like)","operationId":"hal_search_api_v1_paper_search_hal_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"type":"string","description":"Solr-like query (e.g., title_t:japon)","default":"*:*","title":"Q"},"description":"Solr-like query (e.g., title_t:japon)"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":10,"title":"Results Per Page"}},{"name":"fl","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Fields list (fl=...)","title":"Fl"},"description":"Fields list (fl=...)"},{"name":"fq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter query (repeat with &fq=...)","title":"Fq"},"description":"Filter query (repeat with &fq=...)"},{"name":"sort","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort (e.g., docid asc)","title":"Sort"},"description":"Sort (e.g., docid asc)"},{"name":"scope","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Portal or COLLECTION scope segment, e.g., 'tel' or 'FRANCE-GRILLES'","title":"Scope"},"description":"Portal or COLLECTION scope segment, e.g., 'tel' or 'FRANCE-GRILLES'"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/hal/raw":{"get":{"tags":["paper-search","paper-search"],"summary":"HAL raw passthrough (wt=json|xml|xml-tei|csv|bibtex|endnote|atom|rss)","operationId":"hal_raw_api_v1_paper_search_hal_raw_get","parameters":[{"name":"q","in":"query","required":false,"schema":{"type":"string","default":"*:*","title":"Q"}},{"name":"wt","in":"query","required":false,"schema":{"type":"string","default":"json","title":"Wt"}},{"name":"fl","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fl"}},{"name":"rows","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":0,"default":10,"title":"Rows"}},{"name":"start","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Start"}},{"name":"fq","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fq"}},{"name":"sort","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sort"}},{"name":"indent","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Indent"}},{"name":"scope","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Portal or COLLECTION scope segment","title":"Scope"},"description":"Portal or COLLECTION scope segment"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/hal/by-id":{"get":{"tags":["paper-search","paper-search"],"summary":"Get HAL document by docid","operationId":"hal_by_id_api_v1_paper_search_hal_by_id_get","parameters":[{"name":"docid","in":"query","required":true,"schema":{"type":"string","minLength":1,"title":"Docid"}},{"name":"scope","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scope"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/hal/ingest":{"post":{"tags":["paper-search","paper-search"],"summary":"Download a HAL PDF by docid, process, and persist","operationId":"hal_ingest_api_v1_paper_search_hal_ingest_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"docid","in":"query","required":true,"schema":{"type":"string","description":"HAL docid","title":"Docid"},"description":"HAL docid"},{"name":"scope","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Portal or COLLECTION scope segment","title":"Scope"},"description":"Portal or COLLECTION scope segment"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Keywords"}},{"name":"perform_chunking","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Chunking"}},{"name":"parser","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"pymupdf4llm","title":"Parser"}},{"name":"chunk_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"}},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","maximum":4000,"minimum":50,"default":500,"title":"Chunk Size"}},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":0,"default":200,"title":"Chunk Overlap"}},{"name":"perform_analysis","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Analysis"}},{"name":"custom_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"}},{"name":"system_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"}},{"name":"api_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"}},{"name":"enable_ocr","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enable Ocr"}},{"name":"ocr_backend","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend"}},{"name":"ocr_lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"eng","title":"Ocr Lang"}},{"name":"ocr_dpi","in":"query","required":false,"schema":{"type":"integer","maximum":600,"minimum":72,"default":300,"title":"Ocr Dpi"}},{"name":"ocr_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"fallback","title":"Ocr Mode"}},{"name":"ocr_min_page_text_chars","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"default":40,"title":"Ocr Min Page Text Chars"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/vixra/by-id":{"get":{"tags":["paper-search","paper-search"],"summary":"Resolve a viXra ID to minimal metadata and PDF when possible","operationId":"vixra_by_id_api_v1_paper_search_vixra_by_id_get","parameters":[{"name":"vid","in":"query","required":true,"schema":{"type":"string","description":"viXra ID, e.g., 1901.0001","title":"Vid"},"description":"viXra ID, e.g., 1901.0001"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/vixra/ingest":{"post":{"tags":["paper-search","paper-search"],"summary":"Download viXra PDF by ID, process, and persist","operationId":"vixra_ingest_api_v1_paper_search_vixra_ingest_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"vid","in":"query","required":true,"schema":{"type":"string","description":"viXra ID, e.g., 1901.0001","title":"Vid"},"description":"viXra ID, e.g., 1901.0001"},{"name":"keywords","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Keywords"}},{"name":"perform_chunking","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Chunking"}},{"name":"parser","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"pymupdf4llm","title":"Parser"}},{"name":"chunk_method","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"}},{"name":"chunk_size","in":"query","required":false,"schema":{"type":"integer","maximum":4000,"minimum":50,"default":500,"title":"Chunk Size"}},{"name":"chunk_overlap","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":0,"default":200,"title":"Chunk Overlap"}},{"name":"perform_analysis","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Perform Analysis"}},{"name":"custom_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"}},{"name":"system_prompt","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"}},{"name":"api_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"}},{"name":"enable_ocr","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enable Ocr"}},{"name":"ocr_backend","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend"}},{"name":"ocr_lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"eng","title":"Ocr Lang"}},{"name":"ocr_dpi","in":"query","required":false,"schema":{"type":"integer","maximum":600,"minimum":72,"default":300,"title":"Ocr Dpi"}},{"name":"ocr_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"fallback","title":"Ocr Mode"}},{"name":"ocr_min_page_text_chars","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"default":40,"title":"Ocr Min Page Text Chars"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/vixra/search":{"get":{"tags":["paper-search","paper-search"],"summary":"Best-effort viXra search (HTML scrape)","operationId":"vixra_search_api_v1_paper_search_vixra_search_get","parameters":[{"name":"term","in":"query","required":true,"schema":{"type":"string","minLength":2,"description":"Search term","title":"Term"},"description":"Search term"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"results_per_page","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"default":10,"title":"Results Per Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/arxiv/by-id":{"get":{"tags":["paper-search","paper-search"],"summary":"Get arXiv paper by arXiv ID","operationId":"paper_search_arxiv_by_id_api_v1_paper_search_arxiv_by_id_get","parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","description":"arXiv ID, e.g., 1706.03762","title":"Id"},"description":"arXiv ID, e.g., 1706.03762"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArxivPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/semantic-scholar/by-id":{"get":{"tags":["paper-search","paper-search"],"summary":"Get Semantic Scholar paper by paperId","operationId":"paper_search_semantic_scholar_by_id_api_v1_paper_search_semantic_scholar_by_id_get","parameters":[{"name":"paper_id","in":"query","required":true,"schema":{"type":"string","description":"Semantic Scholar paperId","title":"Paper Id"},"description":"Semantic Scholar paperId"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SemanticScholarPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paper-search/pubmed/by-id":{"get":{"tags":["paper-search","paper-search"],"summary":"Get PubMed record by PMID (with abstract)","operationId":"paper_search_pubmed_by_id_api_v1_paper_search_pubmed_by_id_get","parameters":[{"name":"pmid","in":"query","required":true,"schema":{"type":"string","description":"PubMed PMID, e.g., 12345678","title":"Pmid"},"description":"PubMed PMID, e.g., 12345678"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PubMedPaper"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/health":{"get":{"tags":["evaluations","evaluations"],"summary":"Health Check","description":"Check evaluation service health","operationId":"health_check_api_v1_evaluations_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthCheckResponse"}}}}}}},"/api/v1/evaluations/metrics":{"get":{"tags":["evaluations","evaluations"],"summary":"Get Metrics","description":"Get Prometheus metrics","operationId":"get_metrics_api_v1_evaluations_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/evaluations/admin/idempotency/cleanup":{"post":{"tags":["evaluations","evaluations"],"summary":"Admin Cleanup Idempotency","description":"Admin-only: purge stale idempotency keys in Evaluations DBs on-demand.\n\nReturns a summary of deleted rows per user and total.","operationId":"admin_cleanup_idempotency_api_v1_evaluations_admin_idempotency_cleanup_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"ttl_hours","in":"query","required":false,"schema":{"type":"integer","maximum":720,"minimum":1,"description":"Delete idempotency keys older than this TTL (hours)","default":72,"title":"Ttl Hours"},"description":"Delete idempotency keys older than this TTL (hours)"},{"name":"target_user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"If provided, only clean this user's evaluations DB","title":"Target User Id"},"description":"If provided, only clean this user's evaluations DB"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest":{"post":{"tags":["evaluations","evaluations"],"summary":"Create Embeddings Abtest","operationId":"create_embeddings_abtest_api_v1_evaluations_embeddings_abtest_post","security":[{"HTTPBearer":[]},{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency-Key"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsABTestCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsABTestCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest/{test_id}/run":{"post":{"tags":["evaluations","evaluations"],"summary":"Run Embeddings Abtest","operationId":"run_embeddings_abtest_api_v1_evaluations_embeddings_abtest__test_id__run_post","security":[{"HTTPBearer":[]},{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency-Key"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsABTestRunRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsABTestStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest/{test_id}":{"get":{"tags":["evaluations","evaluations"],"summary":"Get Embeddings Abtest Status","operationId":"get_embeddings_abtest_status_api_v1_evaluations_embeddings_abtest__test_id__get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsABTestResultSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["evaluations","evaluations"],"summary":"Delete Embeddings Abtest","description":"Cancel/cleanup an embeddings A/B test (stub).","operationId":"delete_embeddings_abtest_api_v1_evaluations_embeddings_abtest__test_id__delete","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency-Key"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest/{test_id}/results":{"get":{"tags":["evaluations","evaluations"],"summary":"Get Embeddings Abtest Results","operationId":"get_embeddings_abtest_results_api_v1_evaluations_embeddings_abtest__test_id__results_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":50,"title":"Page Size"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmbeddingsABTestResultsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest/{test_id}/significance":{"get":{"tags":["evaluations","evaluations"],"summary":"Get Embeddings Abtest Significance","operationId":"get_embeddings_abtest_significance_api_v1_evaluations_embeddings_abtest__test_id__significance_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"metric","in":"query","required":false,"schema":{"type":"string","default":"ndcg","title":"Metric"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest/{test_id}/events":{"get":{"tags":["evaluations","evaluations"],"summary":"Stream Embeddings Abtest Events","description":"SSE stream of progress and updates for an A/B test, using SSEStream for heartbeats and metrics.","operationId":"stream_embeddings_abtest_events_api_v1_evaluations_embeddings_abtest__test_id__events_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/embeddings/abtest/{test_id}/export":{"get":{"tags":["evaluations","evaluations"],"summary":"Export Embeddings Abtest","description":"Export AB test results (JSON or CSV). Admin-only.","operationId":"export_embeddings_abtest_api_v1_evaluations_embeddings_abtest__test_id__export_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"test_id","in":"path","required":true,"schema":{"type":"string","title":"Test Id"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","pattern":"^(json|csv)$","default":"json","title":"Format"}},{"name":"Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency-Key"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/rate-limits":{"get":{"tags":["evaluations","evaluations"],"summary":"Get Rate Limit Status","description":"Get current rate limit status for the authenticated user","operationId":"get_rate_limit_status_api_v1_evaluations_rate_limits_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RateLimitStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/rag/pipeline/presets":{"post":{"tags":["evaluations","evaluations"],"summary":"Create Or Update Pipeline Preset","operationId":"create_or_update_pipeline_preset_api_v1_evaluations_rag_pipeline_presets_post","security":[{"HTTPBearer":[]},{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelinePresetCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelinePresetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["evaluations","evaluations"],"summary":"List Pipeline Presets","operationId":"list_pipeline_presets_api_v1_evaluations_rag_pipeline_presets_get","security":[{"HTTPBearer":[]},{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelinePresetListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/rag/pipeline/presets/{name}":{"get":{"tags":["evaluations","evaluations"],"summary":"Get Pipeline Preset","operationId":"get_pipeline_preset_api_v1_evaluations_rag_pipeline_presets__name__get","security":[{"HTTPBearer":[]},{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelinePresetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["evaluations","evaluations"],"summary":"Delete Pipeline Preset","operationId":"delete_pipeline_preset_api_v1_evaluations_rag_pipeline_presets__name__delete","security":[{"HTTPBearer":[]},{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/rag/pipeline/cleanup":{"post":{"tags":["evaluations","evaluations"],"summary":"Cleanup Ephemeral Collections","description":"Delete expired ephemeral collections according to TTL registry.","operationId":"cleanup_ephemeral_collections_api_v1_evaluations_rag_pipeline_cleanup_post","security":[{"HTTPBearer":[]},{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelineCleanupResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/datasets":{"post":{"tags":["evaluations","evaluations"],"summary":"Create Dataset","description":"Create a new dataset","operationId":"create_dataset_api_v1_evaluations_datasets_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency-Key"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDatasetRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DatasetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["evaluations","evaluations"],"summary":"List Datasets","description":"List datasets with pagination","operationId":"list_datasets_api_v1_evaluations_datasets_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"after","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"After"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DatasetListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/datasets/{dataset_id}":{"get":{"tags":["evaluations","evaluations"],"summary":"Get Dataset","description":"Get dataset by ID","operationId":"get_dataset_api_v1_evaluations_datasets__dataset_id__get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dataset_id","in":"path","required":true,"schema":{"type":"string","title":"Dataset Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DatasetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["evaluations","evaluations"],"summary":"Delete Dataset","description":"Delete a dataset","operationId":"delete_dataset_api_v1_evaluations_datasets__dataset_id__delete","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"dataset_id","in":"path","required":true,"schema":{"type":"string","title":"Dataset Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/webhooks":{"post":{"tags":["evaluations","evaluations"],"summary":"Register Webhook","operationId":"register_webhook_api_v1_evaluations_webhooks_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRegistrationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRegistrationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["evaluations","evaluations"],"summary":"List Webhooks","operationId":"list_webhooks_api_v1_evaluations_webhooks_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WebhookStatusResponse"},"title":"Response List Webhooks Api V1 Evaluations Webhooks Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["evaluations","evaluations"],"summary":"Unregister Webhook","operationId":"unregister_webhook_api_v1_evaluations_webhooks_delete","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"webhook_id","in":"query","required":true,"schema":{"type":"string","title":"Webhook Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/webhooks/test":{"post":{"tags":["evaluations","evaluations"],"summary":"Test Webhook","operationId":"test_webhook_api_v1_evaluations_webhooks_test_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookTestRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookTestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/":{"post":{"tags":["evaluations","evaluations"],"summary":"Create Evaluation","operationId":"create_evaluation_api_v1_evaluations__post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency-Key"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEvaluationRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__evaluation_schemas_unified__EvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["evaluations","evaluations"],"summary":"List Evaluations","operationId":"list_evaluations_api_v1_evaluations__get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"after","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"After"}},{"name":"eval_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Eval Type"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluationListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/{eval_id}":{"get":{"tags":["evaluations","evaluations"],"summary":"Get Evaluation","description":"Get evaluation by ID","operationId":"get_evaluation_api_v1_evaluations__eval_id__get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"eval_id","in":"path","required":true,"schema":{"type":"string","title":"Eval Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__evaluation_schemas_unified__EvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["evaluations","evaluations"],"summary":"Update Evaluation","description":"Update evaluation definition","operationId":"update_evaluation_api_v1_evaluations__eval_id__patch","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"eval_id","in":"path","required":true,"schema":{"type":"string","title":"Eval Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEvaluationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__evaluation_schemas_unified__EvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["evaluations","evaluations"],"summary":"Delete Evaluation","description":"Delete an evaluation","operationId":"delete_evaluation_api_v1_evaluations__eval_id__delete","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"eval_id","in":"path","required":true,"schema":{"type":"string","title":"Eval Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/{eval_id}/runs":{"post":{"tags":["evaluations","evaluations"],"summary":"Create Run","description":"Create and start an evaluation run","operationId":"create_run_api_v1_evaluations__eval_id__runs_post","security":[{"HTTPBearer":[]},{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"eval_id","in":"path","required":true,"schema":{"type":"string","title":"Eval Id"}},{"name":"Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency-Key"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRunRequest"}}}},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["evaluations","evaluations"],"summary":"List Runs","description":"List runs for an evaluation","operationId":"list_runs_api_v1_evaluations__eval_id__runs_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"eval_id","in":"path","required":true,"schema":{"type":"string","title":"Eval Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"after","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"After"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/runs/{run_id}":{"get":{"tags":["evaluations","evaluations"],"summary":"Get Run","description":"Get run status and details","operationId":"get_run_api_v1_evaluations_runs__run_id__get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RunResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/runs/{run_id}/cancel":{"post":{"tags":["evaluations","evaluations"],"summary":"Cancel Run","description":"Cancel a running evaluation","operationId":"cancel_run_api_v1_evaluations_runs__run_id__cancel_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"run_id","in":"path","required":true,"schema":{"type":"string","title":"Run Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations":{"post":{"tags":["evaluations","evaluations"],"summary":"Create Evaluation Root","description":"Alias for POST /api/v1/evaluations without trailing slash.\n\nMirrors the CRUD create endpoint to avoid 307 redirects in clients/tests\nthat use the non-slash form.","operationId":"create_evaluation_root_api_v1_evaluations_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency-Key"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEvaluationRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__evaluation_schemas_unified__EvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["evaluations","evaluations"],"summary":"List Evaluations Root","description":"Alias for GET /api/v1/evaluations without trailing slash.\n\nMirrors the CRUD list endpoint to avoid 307 redirects.","operationId":"list_evaluations_root_api_v1_evaluations_get","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"after","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"After"}},{"name":"eval_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Eval Type"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluationListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/geval":{"post":{"tags":["evaluations","evaluations"],"summary":"Evaluate Geval","description":"Evaluate a summary using G-Eval metrics.\n\nG-Eval evaluates summaries on fluency, consistency, relevance, and coherence.","operationId":"evaluate_geval_api_v1_evaluations_geval_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GEvalRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GEvalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/rag":{"post":{"tags":["evaluations","evaluations"],"summary":"Evaluate Rag","description":"Evaluate RAG system performance.\n\nEvaluates relevance, faithfulness, answer similarity, and context precision.","operationId":"evaluate_rag_api_v1_evaluations_rag_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGEvaluationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGEvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/response-quality":{"post":{"tags":["evaluations","evaluations"],"summary":"Evaluate Response Quality","description":"Evaluate the quality of a generated response.\n\nChecks relevance, completeness, accuracy, and format compliance.","operationId":"evaluate_response_quality_api_v1_evaluations_response_quality_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseQualityRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseQualityResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/propositions":{"post":{"tags":["evaluations","evaluations"],"summary":"Evaluate Propositions Endpoint","description":"Evaluate proposition extraction quality.\nComputes precision/recall/F1 with semantic or Jaccard matching and density metrics.","operationId":"evaluate_propositions_endpoint_api_v1_evaluations_propositions_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropositionEvaluationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PropositionEvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/batch":{"post":{"tags":["evaluations","evaluations"],"summary":"Batch Evaluate","description":"Run multiple evaluations in batch.\n\nSupports running multiple evaluation types with configurable parallelism.","operationId":"batch_evaluate_api_v1_evaluations_batch_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchEvaluationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchEvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/ocr":{"post":{"tags":["evaluations","evaluations"],"summary":"Evaluate Ocr Endpoint","description":"Evaluate OCR effectiveness on provided items (text-to-text comparison).\n\nNote: This endpoint currently expects pre-extracted text per item.\nPDF-based OCR execution can be added in future if needed.","operationId":"evaluate_ocr_endpoint_api_v1_evaluations_ocr_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OCREvaluationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OCREvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/ocr-pdf":{"post":{"tags":["evaluations","evaluations"],"summary":"Evaluate Ocr Pdf Endpoint","description":"Evaluate OCR by running OCR on uploaded PDFs and comparing to provided ground-truths.","operationId":"evaluate_ocr_pdf_endpoint_api_v1_evaluations_ocr_pdf_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_evaluate_ocr_pdf_endpoint_api_v1_evaluations_ocr_pdf_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OCREvaluationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/evaluations/history":{"post":{"tags":["evaluations","evaluations"],"summary":"Get Evaluation History","description":"Retrieve evaluation history for a user.\n\nSupports filtering by date range, evaluation type, and pagination.","operationId":"get_evaluation_history_api_v1_evaluations_history_post","security":[{"HTTPBearer":[]},{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluationHistoryRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EvaluationHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ocr/backends":{"get":{"tags":["ocr","ocr"],"summary":"List Ocr Backends","description":"List available OCR backends with lightweight health information.","operationId":"list_ocr_backends_api_v1_ocr_backends_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response List Ocr Backends Api V1 Ocr Backends Get"}}}}}}},"/api/v1/ocr/points/preload":{"post":{"tags":["ocr","ocr"],"summary":"Preload Points Transformers","description":"Preload POINTS transformers model to surface errors early.","operationId":"preload_points_transformers_api_v1_ocr_points_preload_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Preload Points Transformers Api V1 Ocr Points Preload Post"}}}}}}},"/api/v1/vlm/backends":{"get":{"tags":["vlm","vlm"],"summary":"List Vlm Backends","description":"List available VLM backends with lightweight health information.","operationId":"list_vlm_backends_api_v1_vlm_backends_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response List Vlm Backends Api V1 Vlm Backends Get"}}}}}}},"/api/v1/setup/status":{"get":{"tags":["setup","setup"],"summary":"Get Setup Status","description":"Return setup availability and placeholder diagnostics.","operationId":"get_setup_status_api_v1_setup_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Setup Status Api V1 Setup Status Get"}}}}},"security":[]}},"/api/v1/setup/config":{"get":{"tags":["setup","setup"],"summary":"Get Setup Config","description":"Return the current configuration grouped by section for the setup UI.","operationId":"get_setup_config_api_v1_setup_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Setup Config Api V1 Setup Config Get"}}}}},"security":[]},"post":{"tags":["setup","setup"],"summary":"Update Setup Config","description":"Persist configuration updates coming from the setup UI.","operationId":"update_setup_config_api_v1_setup_config_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigUpdates"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Update Setup Config Api V1 Setup Config Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[]}},"/api/v1/setup/install-status":{"get":{"tags":["setup","setup"],"summary":"Get Install Status","description":"Return the current installation plan progress if available.","operationId":"get_install_status_api_v1_setup_install_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Install Status Api V1 Setup Install Status Get"}}}}},"security":[]}},"/api/v1/setup/complete":{"post":{"tags":["setup","setup"],"summary":"Mark Setup Complete","description":"Mark the setup workflow as complete and optionally disable future prompts.","operationId":"mark_setup_complete_api_v1_setup_complete_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetupCompleteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Mark Setup Complete Api V1 Setup Complete Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[]}},"/api/v1/setup/assistant":{"post":{"tags":["setup","setup"],"summary":"Ask Setup Assistant","description":"Provide contextual help for setup questions using local configuration knowledge.","operationId":"ask_setup_assistant_api_v1_setup_assistant_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssistantQuestion"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Ask Setup Assistant Api V1 Setup Assistant Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[]}},"/api/v1/setup/reset":{"post":{"tags":["setup","setup"],"summary":"Reset first-time setup flags (admin)","description":"Admin-only recovery endpoint to re-enable the guided setup flow by setting enable_first_time_setup=true and setup_completed=false. Requires server restart.","operationId":"reset_setup_flags_api_v1_setup_reset_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reset Setup Flags Api V1 Setup Reset Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/setup/self-verify":{"post":{"tags":["setup","setup"],"summary":"Mark current user as verified (initial setup)","description":"Local-only helper to mark the authenticated user as verified during initial setup. Requires that the setup wizard is still enabled and not completed. Accepts either Bearer JWT (Authorization header) or X-API-KEY for multi-user SQLite setups.","operationId":"setup_self_verify_api_v1_setup_self_verify_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Setup Self Verify Api V1 Setup Self Verify Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/config/docs-info":{"get":{"tags":["config"],"summary":"Get Documentation Config","description":"Get configuration information suitable for auto-populating documentation.\n\nThis endpoint returns non-sensitive configuration that can be used to:\n- Auto-populate API keys in documentation (single-user mode only)\n- Show which LLM providers are configured\n- Provide the correct base URL for examples\n\nReturns:\n    Dict with configuration information safe for documentation","operationId":"get_documentation_config_api_v1_config_docs_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/config/flashcards-import-limits":{"get":{"tags":["config"],"summary":"Get Flashcards Import Limits","description":"Expose current flashcards import limits derived from environment or defaults.\nThese reflect server-enforced caps; per-request overrides can only lower these values.","operationId":"get_flashcards_import_limits_api_v1_config_flashcards_import_limits_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/config/tokenizer":{"get":{"tags":["config"],"summary":"Get Tokenizer Config","operationId":"get_tokenizer_config_api_v1_config_tokenizer_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenizerConfig"}}}}}},"put":{"tags":["config"],"summary":"Update Tokenizer Config","operationId":"update_tokenizer_config_api_v1_config_tokenizer_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenizerUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenizerConfig"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/config/jobs":{"get":{"tags":["config"],"summary":"Get Jobs Config Info","description":"Expose non-sensitive Jobs backend configuration and tuning flags.\n\nReturns current backend selection (sqlite|postgres) and key lease/backoff parameters. Does not expose DSN.","operationId":"get_jobs_config_info_api_v1_config_jobs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/config/quickstart":{"get":{"tags":["config"],"summary":"Get Quickstart Redirect","description":"Redirect to a Quickstart URL defined in config.txt or environment.\n\nPrecedence:\n1) Environment variable QUICKSTART_URL\n2) Config [WebUI] quickstart_url\n3) Config [Docs] quickstart_url\n4) Default: /webui/\n\nBehavior:\n- If the target starts with http(s)://, redirect there.\n- If the target starts with '/', redirect to that path (same origin).\n- Otherwise, treat as WebUI-relative file and redirect to /webui/<target>.","operationId":"get_quickstart_redirect_api_v1_config_quickstart_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/resource-governor/policy":{"get":{"tags":["resource-governor"],"summary":"Get Resource Governor Policy","description":"Return current Resource Governor policy snapshot metadata.\n\n- include=ids → include policy IDs list\n- include=full → include full policies and tenant payloads (use with caution)","operationId":"get_resource_governor_policy_api_v1_resource_governor_policy_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"include","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Include extra data: 'ids' or 'full'","title":"Include"},"description":"Include extra data: 'ids' or 'full'"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/resource-governor/policy/{policy_id}":{"put":{"tags":["resource-governor"],"summary":"Upsert Policy","operationId":"upsert_policy_api_v1_resource_governor_policy__policy_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"policy_id","in":"path","required":true,"schema":{"type":"string","description":"Policy identifier, e.g., 'chat.default'","title":"Policy Id"},"description":"Policy identifier, e.g., 'chat.default'"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PolicyUpsertRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["resource-governor"],"summary":"Delete Policy","operationId":"delete_policy_api_v1_resource_governor_policy__policy_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"policy_id","in":"path","required":true,"schema":{"type":"string","description":"Policy identifier","title":"Policy Id"},"description":"Policy identifier"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["resource-governor"],"summary":"Get Policy","operationId":"get_policy_api_v1_resource_governor_policy__policy_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"policy_id","in":"path","required":true,"schema":{"type":"string","description":"Policy identifier","title":"Policy Id"},"description":"Policy identifier"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/resource-governor/policies":{"get":{"tags":["resource-governor"],"summary":"List Policies","operationId":"list_policies_api_v1_resource_governor_policies_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/resource-governor/diag/peek":{"get":{"tags":["resource-governor"],"summary":"Rg Diag Peek","operationId":"rg_diag_peek_api_v1_resource_governor_diag_peek_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"entity","in":"query","required":true,"schema":{"type":"string","description":"Entity key, e.g., 'user:123'","title":"Entity"},"description":"Entity key, e.g., 'user:123'"},{"name":"categories","in":"query","required":true,"schema":{"type":"string","description":"Comma-separated categories, e.g., 'requests,tokens'","title":"Categories"},"description":"Comma-separated categories, e.g., 'requests,tokens'"},{"name":"policy_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional policy id to use for peek_with_policy when supported","title":"Policy Id"},"description":"Optional policy id to use for peek_with_policy when supported"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/resource-governor/diag/query":{"get":{"tags":["resource-governor"],"summary":"Rg Diag Query","operationId":"rg_diag_query_api_v1_resource_governor_diag_query_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"entity","in":"query","required":true,"schema":{"type":"string","description":"Entity key, e.g., 'user:123'","title":"Entity"},"description":"Entity key, e.g., 'user:123'"},{"name":"category","in":"query","required":true,"schema":{"type":"string","description":"Category name, e.g., 'requests'","title":"Category"},"description":"Category name, e.g., 'requests'"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/resource-governor/diag/capabilities":{"get":{"tags":["resource-governor"],"summary":"Rg Diag Capabilities","description":"Tiny capability probe to report whether Lua or fallback paths are in use.","operationId":"rg_diag_capabilities_api_v1_resource_governor_diag_capabilities_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sync/send":{"post":{"tags":["sync"],"summary":"Receive changes from a client","description":"Receives a batch of sync log entries from a client, applies them\nto the user's database on the server synchronously in a thread pool.","operationId":"receive_changes_from_client_api_v1_sync_send_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientChangesPayload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sync/get":{"get":{"tags":["sync"],"summary":"Send changes back to a client","description":"Sends sync log entries from the user's server-side database back to\nthe requesting client, starting after the `since_change_id`.\nFilters out changes that originated from the requesting client.\nUses asyncio.to_thread for DB access.","operationId":"send_changes_to_client_api_v1_sync_get_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"client_id","in":"query","required":true,"schema":{"type":"string","title":"Client Id"}},{"name":"since_change_id","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Since Change Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerChangesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flashcards/decks":{"post":{"tags":["flashcards","flashcards"],"summary":"Create Deck","operationId":"create_deck_api_v1_flashcards_decks_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeckCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Deck"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["flashcards","flashcards"],"summary":"List Decks","operationId":"list_decks_api_v1_flashcards_decks_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"include_deleted","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deleted"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Deck"},"title":"Response List Decks Api V1 Flashcards Decks Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flashcards":{"post":{"tags":["flashcards","flashcards"],"summary":"Create Flashcard","operationId":"create_flashcard_api_v1_flashcards_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlashcardCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Flashcard"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["flashcards","flashcards"],"summary":"List Flashcards","operationId":"list_flashcards_api_v1_flashcards_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"deck_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Deck Id"}},{"name":"tag","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tag"}},{"name":"due_status","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(new|learning|due|all)$"},{"type":"null"}],"default":"all","title":"Due Status"}},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(due_at|created_at)$"},{"type":"null"}],"default":"due_at","title":"Order By"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlashcardListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flashcards/bulk":{"post":{"tags":["flashcards","flashcards"],"summary":"Create Flashcards Bulk","operationId":"create_flashcards_bulk_api_v1_flashcards_bulk_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FlashcardCreate"},"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlashcardListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flashcards/id/{card_uuid}":{"get":{"tags":["flashcards","flashcards"],"summary":"Get Flashcard","operationId":"get_flashcard_api_v1_flashcards_id__card_uuid__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"card_uuid","in":"path","required":true,"schema":{"type":"string","title":"Card Uuid"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Flashcard"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flashcards/{card_uuid}":{"patch":{"tags":["flashcards","flashcards"],"summary":"Update Flashcard","operationId":"update_flashcard_api_v1_flashcards__card_uuid__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"card_uuid","in":"path","required":true,"schema":{"type":"string","title":"Card Uuid"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlashcardUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["flashcards","flashcards"],"summary":"Delete Flashcard","operationId":"delete_flashcard_api_v1_flashcards__card_uuid__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"card_uuid","in":"path","required":true,"schema":{"type":"string","title":"Card Uuid"}},{"name":"expected_version","in":"query","required":true,"schema":{"type":"integer","minimum":1,"title":"Expected Version"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flashcards/{card_uuid}/tags":{"put":{"tags":["flashcards","flashcards"],"summary":"Set Flashcard Tags","operationId":"set_flashcard_tags_api_v1_flashcards__card_uuid__tags_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"card_uuid","in":"path","required":true,"schema":{"type":"string","title":"Card Uuid"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlashcardTagsUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["flashcards","flashcards"],"summary":"Get Flashcard Tags","operationId":"get_flashcard_tags_api_v1_flashcards__card_uuid__tags_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"card_uuid","in":"path","required":true,"schema":{"type":"string","title":"Card Uuid"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flashcards/import":{"post":{"tags":["flashcards","flashcards"],"summary":"Import Flashcards","operationId":"import_flashcards_api_v1_flashcards_import_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"max_lines","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Admin override: max lines to import (cannot exceed env cap)","title":"Max Lines"},"description":"Admin override: max lines to import (cannot exceed env cap)"},{"name":"max_line_length","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Admin override: max line length in bytes (cannot exceed env cap)","title":"Max Line Length"},"description":"Admin override: max line length in bytes (cannot exceed env cap)"},{"name":"max_field_length","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Admin override: max field length in bytes (cannot exceed env cap)","title":"Max Field Length"},"description":"Admin override: max field length in bytes (cannot exceed env cap)"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlashcardsImportRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flashcards/import/json":{"post":{"tags":["flashcards","flashcards"],"summary":"Import Flashcards Json","operationId":"import_flashcards_json_api_v1_flashcards_import_json_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"max_items","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Admin override: max JSON items to import (cannot exceed env cap)","title":"Max Items"},"description":"Admin override: max JSON items to import (cannot exceed env cap)"},{"name":"max_field_length","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Admin override: max field length in bytes (cannot exceed env cap)","title":"Max Field Length"},"description":"Admin override: max field length in bytes (cannot exceed env cap)"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_flashcards_json_api_v1_flashcards_import_json_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flashcards/review":{"post":{"tags":["flashcards","flashcards"],"summary":"Review Flashcard","operationId":"review_flashcard_api_v1_flashcards_review_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlashcardReviewRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlashcardReviewResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flashcards/export":{"get":{"tags":["flashcards","flashcards"],"summary":"Export Flashcards","operationId":"export_flashcards_api_v1_flashcards_export_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"deck_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Deck Id"}},{"name":"tag","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tag"}},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(csv|apkg)$"},{"type":"null"}],"default":"csv","title":"Format"}},{"name":"include_reverse","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":false,"title":"Include Reverse"}},{"name":"delimiter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"CSV/TSV delimiter; default tab","default":"\t","title":"Delimiter"},"description":"CSV/TSV delimiter; default tab"},{"name":"include_header","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Include header row for CSV/TSV","default":false,"title":"Include Header"},"description":"Include header row for CSV/TSV"},{"name":"extended_header","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Include Extra and Reverse columns","default":false,"title":"Extended Header"},"description":"Include Extra and Reverse columns"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/request":{"post":{"tags":["mcp-unified","mcp-unified"],"summary":"Mcp Request","description":"Process an MCP request via HTTP.\n\nThis endpoint provides a simpler alternative to WebSocket for clients\nthat don't need real-time bidirectional communication.","operationId":"mcp_request_api_v1_mcp_request_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"client_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Client identifier","title":"Client Id"},"description":"Client identifier"},{"name":"config","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Base64-encoded JSON safe config for this request","title":"Config"},"description":"Base64-encoded JSON safe config for this request"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"mcp-session-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mcp-Session-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MCPRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MCPResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/request/batch":{"post":{"tags":["mcp-unified","mcp-unified"],"summary":"Mcp Request Batch","description":"Process a batch of MCP requests via HTTP.\nAccepts a JSON array of JSON-RPC 2.0 requests and returns an array\nof responses. Notifications (no id) are dropped per spec.","operationId":"mcp_request_batch_api_v1_mcp_request_batch_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"client_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Client identifier","title":"Client Id"},"description":"Client identifier"},{"name":"config","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Base64-encoded JSON safe config for this request","title":"Config"},"description":"Base64-encoded JSON safe config for this request"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"mcp-session-id","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mcp-Session-Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MCPRequest"},"title":"Requests"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MCPResponse"},"title":"Response Mcp Request Batch Api V1 Mcp Request Batch Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/status":{"get":{"tags":["mcp-unified","mcp-unified"],"summary":"Get Server Status","description":"Get MCP server status.\n\nReturns:\n- Server health status\n- Uptime\n- Connection statistics\n- Module health summary","operationId":"get_server_status_api_v1_mcp_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerStatusResponse"}}}}}}},"/api/v1/mcp/metrics":{"get":{"tags":["mcp-unified","mcp-unified"],"summary":"Get Server Metrics","description":"Get detailed server metrics (requires admin).\n\nReturns:\n- Connection metrics\n- Module performance metrics\n- Error rates\n- Latency statistics","operationId":"get_server_metrics_api_v1_mcp_metrics_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerMetricsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/metrics/prometheus":{"get":{"tags":["mcp-unified","mcp-unified"],"summary":"Get Prometheus Metrics","description":"Prometheus scrape endpoint for MCP metrics.\n\nSecurity: By default, requires admin authentication. Set MCP_PROMETHEUS_PUBLIC=1\nto allow unauthenticated internal-only scraping. When public, ensure it is\nexposed only on trusted networks or behind an ingress/proxy that enforces\nauthentication in production environments.","operationId":"get_prometheus_metrics_api_v1_mcp_metrics_prometheus_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/tools":{"get":{"tags":["mcp-unified","mcp-unified"],"summary":"List MCP tools","description":"List available MCP tools. Tools are filtered by RBAC; catalog filters shape discovery only.\n\nParameters:\n- `module`: Filter by module id.\n- `catalog`: Filter by tool catalog name. The server resolves the name with precedence\n  `team > org > global` based on the authenticated context (API key or JWT). When both\n  `catalog` and `catalog_id` are provided, `catalog_id` takes precedence.\n- `catalog_id`: Filter by tool catalog id directly.\n\nBehavior:\n- If the catalog name/id cannot be resolved, the server fails open (no catalog filter),\n  but RBAC is still enforced.\n- `canExecute` reflects the caller's permissions. Catalog membership does not grant\n  execution rights; it only affects discovery.","operationId":"list_tools_api_v1_mcp_tools_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"module","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by module","title":"Module"},"description":"Filter by module"},{"name":"catalog","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by tool catalog name","title":"Catalog"},"description":"Filter by tool catalog name"},{"name":"catalog_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by tool catalog id","title":"Catalog Id"},"description":"Filter by tool catalog id"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/tools/execute":{"post":{"tags":["mcp-unified","mcp-unified"],"summary":"Execute Tool","description":"Execute a specific tool (requires authentication).\n\nTools are executed with user context for permission checking.","operationId":"execute_tool_api_v1_mcp_tools_execute_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolExecutionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToolExecutionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/modules":{"get":{"tags":["mcp-unified","mcp-unified"],"summary":"List Modules","description":"List registered MCP modules.\n\nReturns module information including status and capabilities.","operationId":"list_modules_api_v1_mcp_modules_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/modules/health":{"get":{"tags":["mcp-unified","mcp-unified"],"summary":"Get Modules Health","description":"Get detailed health status of all modules (requires admin).\n\nReturns health checks and metrics for each module.","operationId":"get_modules_health_api_v1_mcp_modules_health_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/resources":{"get":{"tags":["mcp-unified","mcp-unified"],"summary":"List Resources","description":"List available MCP resources.\n\nResources are filtered based on user permissions if authenticated.","operationId":"list_resources_api_v1_mcp_resources_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/prompts":{"get":{"tags":["mcp-unified","mcp-unified"],"summary":"List Prompts","description":"List available MCP prompts.\n\nPrompts are filtered based on user permissions if authenticated.","operationId":"list_prompts_api_v1_mcp_prompts_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/auth/token":{"post":{"tags":["mcp-unified","mcp-unified"],"summary":"Create Token","description":"Issue an MCP access token.\n\nNote: Direct username/password authentication for MCP is disabled by default.\nUse the primary AuthNZ login flow to obtain a JWT, or enable this endpoint\nexplicitly via MCP_ENABLE_DEMO_AUTH=1 for development/testing only.","operationId":"create_token_api_v1_mcp_auth_token_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/auth/refresh":{"post":{"tags":["mcp-unified","mcp-unified"],"summary":"Refresh Token","description":"Refresh authentication token.\n\nExchange a valid refresh token for a new access token using rotation.\nIf `token_id` is not provided, the system attempts to locate it by scanning\nactive refresh tokens (acceptable for in-memory DEV mode).","operationId":"refresh_token_api_v1_mcp_auth_refresh_post","parameters":[{"name":"refresh_token","in":"query","required":true,"schema":{"type":"string","description":"Refresh token","title":"Refresh Token"},"description":"Refresh token"},{"name":"token_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Refresh token id (if available)","title":"Token Id"},"description":"Refresh token id (if available)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthTokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/mcp/health":{"get":{"tags":["mcp-unified","mcp-unified"],"summary":"Health Check","description":"Health check endpoint for load balancers.\n\nReturns 200 if server is healthy, 503 if not.","operationId":"health_check_api_v1_mcp_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/chatbooks/health":{"get":{"tags":["chatbooks","chatbooks"],"summary":"Chatbooks service health","description":"Lightweight health endpoint for the Chatbooks subsystem.","operationId":"chatbooks_health_api_v1_chatbooks_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/chatbooks/export":{"post":{"tags":["chatbooks","chatbooks"],"summary":"Create Chatbook","description":"Create a chatbook from selected content.\n\nThis endpoint allows users to export their content (conversations, notes, characters, etc.)\ninto a portable chatbook format. The operation can be run synchronously or asynchronously.\n\nArgs:\n    request: Chatbook creation parameters\n    background_tasks: FastAPI background tasks\n    service: Chatbook service instance\n    user: Current authenticated user\n\nReturns:\n    CreateChatbookResponse with job ID (async) or file path (sync)","operationId":"create_chatbook_api_v1_chatbooks_export_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChatbookRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateChatbookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/import":{"post":{"tags":["chatbooks","chatbooks"],"summary":"Import Chatbook","description":"Import a chatbook file.\n\nThis endpoint allows users to import content from a chatbook file. The operation\ncan handle conflicts through various resolution strategies and can be run\nsynchronously or asynchronously.\n\nArgs:\n    file: The chatbook file to import (ZIP format)\n    request: Import configuration\n    background_tasks: FastAPI background tasks\n    service: Chatbook service instance\n    user: Current authenticated user\n\nReturns:\n    ImportChatbookResponse with job ID (async) or import results (sync)","operationId":"import_chatbook_api_v1_chatbooks_import_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conflict_resolution","in":"query","required":false,"schema":{"$ref":"#/components/schemas/ConflictResolution","default":"skip"}},{"name":"prefix_imported","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Prefix Imported"}},{"name":"import_media","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Import Media"}},{"name":"import_embeddings","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Import Embeddings"}},{"name":"async_mode","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Async Mode"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_import_chatbook_api_v1_chatbooks_import_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportChatbookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/preview":{"post":{"tags":["chatbooks","chatbooks"],"summary":"Preview Chatbook","description":"Preview a chatbook without importing it.\n\nThis endpoint allows users to examine the contents of a chatbook file\nbefore deciding whether to import it.\n\nArgs:\n    file: The chatbook file to preview (ZIP format)\n    service: Chatbook service instance\n    user: Current authenticated user\n\nReturns:\n    PreviewChatbookResponse with manifest information","operationId":"preview_chatbook_api_v1_chatbooks_preview_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_preview_chatbook_api_v1_chatbooks_preview_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PreviewChatbookResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/export/jobs":{"get":{"tags":["chatbooks","chatbooks"],"summary":"List Export Jobs","description":"List all export jobs for the current user.\n\nArgs:\n    limit: Maximum number of results\n    offset: Offset for pagination\n    service: Chatbook service instance\n    user: Current authenticated user\n\nReturns:\n    ListExportJobsResponse with list of export jobs","operationId":"list_export_jobs_api_v1_chatbooks_export_jobs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListExportJobsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/export/jobs/{job_id}":{"get":{"tags":["chatbooks","chatbooks"],"summary":"Get Export Job","description":"Get status of a specific export job.\n\nArgs:\n    job_id: The export job ID\n    service: Chatbook service instance\n    user: Current authenticated user\n\nReturns:\n    ExportJobResponse with job details","operationId":"get_export_job_api_v1_chatbooks_export_jobs__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chatbooks","chatbooks"],"summary":"Cancel Export Job","description":"Cancel an export job.\n\nArgs:\n    job_id: The export job ID to cancel\n    service: Chatbook service instance\n    user: Current authenticated user\n\nReturns:\n    Success message","operationId":"cancel_export_job_api_v1_chatbooks_export_jobs__job_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/import/jobs":{"get":{"tags":["chatbooks","chatbooks"],"summary":"List Import Jobs","description":"List all import jobs for the current user.\n\nArgs:\n    limit: Maximum number of results\n    offset: Offset for pagination\n    service: Chatbook service instance\n    user: Current authenticated user\n\nReturns:\n    ListImportJobsResponse with list of import jobs","operationId":"list_import_jobs_api_v1_chatbooks_import_jobs_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListImportJobsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/import/jobs/{job_id}":{"get":{"tags":["chatbooks","chatbooks"],"summary":"Get Import Job","description":"Get status of a specific import job.\n\nArgs:\n    job_id: The import job ID\n    service: Chatbook service instance\n    user: Current authenticated user\n\nReturns:\n    ImportJobResponse with job details","operationId":"get_import_job_api_v1_chatbooks_import_jobs__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["chatbooks","chatbooks"],"summary":"Cancel Import Job","description":"Cancel an import job.\n\nArgs:\n    job_id: The import job ID to cancel\n    service: Chatbook service instance\n    user: Current authenticated user\n\nReturns:\n    Success message","operationId":"cancel_import_job_api_v1_chatbooks_import_jobs__job_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/download/{job_id}":{"get":{"tags":["chatbooks","chatbooks"],"summary":"Download Chatbook","description":"Download an exported chatbook file by job ID.\n\nArgs:\n    job_id: The export job ID\n    service: Chatbook service instance\n    user: Current authenticated user\n\nReturns:\n    FileResponse with the chatbook file","operationId":"download_chatbook_api_v1_chatbooks_download__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chatbooks/cleanup":{"post":{"tags":["chatbooks","chatbooks"],"summary":"Cleanup Expired Exports","description":"Clean up expired export files.\n\nThis endpoint removes export files that have passed their expiration date.\n\nArgs:\n    service: Chatbook service instance\n    user: Current authenticated user\n\nReturns:\n    CleanupExpiredExportsResponse with count of deleted files","operationId":"cleanup_expired_exports_api_v1_chatbooks_cleanup_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CleanupExpiredExportsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/health":{"get":{"tags":["llm"],"summary":"LLM inference health","description":"Health endpoint for the LLM inference subsystem (providers, queue, rate limiter).","operationId":"llm_health_api_v1_llm_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Llm Health Api V1 Llm Health Get"}}}}}}},"/api/v1/llm/providers":{"get":{"tags":["llm"],"summary":"Get configured LLM providers","description":"Returns a list of all configured LLM providers with their models from config","operationId":"get_llm_providers_api_v1_llm_providers_get","parameters":[{"name":"include_deprecated","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deprecated"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Llm Providers Api V1 Llm Providers Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/models/metadata":{"get":{"tags":["llm"],"summary":"Get model metadata across providers","description":"Returns flattened model metadata for all providers","operationId":"get_models_metadata_api_v1_llm_models_metadata_get","parameters":[{"name":"include_deprecated","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deprecated"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Models Metadata Api V1 Llm Models Metadata Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/providers/{provider_name}":{"get":{"tags":["llm"],"summary":"Get specific provider details","description":"Returns details for a specific LLM provider","operationId":"get_provider_details_api_v1_llm_providers__provider_name__get","parameters":[{"name":"provider_name","in":"path","required":true,"schema":{"type":"string","title":"Provider Name"}},{"name":"include_deprecated","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deprecated"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Provider Details Api V1 Llm Providers  Provider Name  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/models":{"get":{"tags":["llm"],"summary":"Get all available models","description":"Returns a flat list of all available models across all providers","operationId":"get_all_models_api_v1_llm_models_get","parameters":[{"name":"include_deprecated","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Deprecated"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"},"title":"Response Get All Models Api V1 Llm Models Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llamacpp/start_server":{"post":{"tags":["llamacpp"],"summary":"Start or Swap Llama.cpp Server Model","description":"Starts the Llama.cpp server with the specified model.\nIf a server is already running, it will be stopped and restarted with the new model (model swap).","operationId":"start_llamacpp_server_endpoint_api_v1_llamacpp_start_server_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_start_llamacpp_server_endpoint_api_v1_llamacpp_start_server_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llamacpp/stop_server":{"post":{"tags":["llamacpp"],"summary":"Stop Llama.cpp Server","operationId":"stop_llamacpp_server_endpoint_api_v1_llamacpp_stop_server_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/llamacpp/status":{"get":{"tags":["llamacpp"],"summary":"Get Llama.cpp Server Status","operationId":"get_llamacpp_status_endpoint_api_v1_llamacpp_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/llamacpp/metrics":{"get":{"tags":["llamacpp"],"summary":"Get Llama.cpp Metrics","operationId":"get_llamacpp_metrics_endpoint_api_v1_llamacpp_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/llamafile/metrics":{"get":{"tags":["llamacpp"],"summary":"Get Llamafile Metrics","operationId":"get_llamafile_metrics_endpoint_api_v1_llamafile_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/llamacpp/models":{"get":{"tags":["llamacpp"],"summary":"List available Llama.cpp models","operationId":"list_llamacpp_models_endpoint_api_v1_llamacpp_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/llamacpp/inference":{"post":{"tags":["llamacpp"],"summary":"Run inference with Llama.cpp","description":"Runs inference using the currently loaded Llama.cpp model.\nPayload should be OpenAI compatible (e.g., include 'messages' list).\nExample: {\"messages\": [{\"role\": \"user\", \"content\": \"Hello!\"}], \"temperature\": 0.7}","operationId":"run_llamacpp_inference_endpoint_api_v1_llamacpp_inference_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LlamaCppInferenceRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llamacpp/rerank":{"post":{"tags":["llamacpp"],"summary":"Rerank passages with llama.cpp embeddings (GGUF)","description":"Rerank passages using the llama.cpp embeddings binary (llama-embedding) with a GGUF embedding model\nsuch as Qwen3-Embedding-0.6B. Scores are cosine(query, passage) normalized to [0,1].","operationId":"llamacpp_reranker_endpoint_api_v1_llamacpp_rerank_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LlamaCppRerankRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LlamaCppRerankResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llamacpp/reranking":{"post":{"tags":["llamacpp"],"summary":"Rerank passages with llama.cpp embeddings (GGUF)","description":"Rerank passages using the llama.cpp embeddings binary (llama-embedding) with a GGUF embedding model\nsuch as Qwen3-Embedding-0.6B. Scores are cosine(query, passage) normalized to [0,1].","operationId":"llamacpp_reranker_endpoint_api_v1_llamacpp_reranking_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LlamaCppRerankRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LlamaCppRerankResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/rerank":{"post":{"tags":["llamacpp"],"summary":"Rerank documents according to a query","operationId":"public_reranking_endpoint_v1_rerank_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicRerankRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicRerankResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/reranking":{"post":{"tags":["llamacpp"],"summary":"Rerank documents according to a query","operationId":"public_reranking_endpoint_v1_reranking_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicRerankRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicRerankResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/status":{"get":{"tags":["web-scraping","web-scraping"],"summary":"Get Scraping Service Status","description":"Get the status of the web scraping service including queue statistics.\n\nReturns:\n    Service status including:\n    - Initialization status\n    - Queue statistics (active, pending, completed jobs)\n    - Rate limiting configuration","operationId":"get_scraping_service_status_web_scraping_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Scraping Service Status Web Scraping Status Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/job/{job_id}":{"get":{"tags":["web-scraping","web-scraping"],"summary":"Get Scraping Job Status","description":"Get the status of a specific scraping job.\n\nArgs:\n    job_id: The ID of the scraping job\n\nReturns:\n    Job details including status, progress, and results","operationId":"get_scraping_job_status_web_scraping_job__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Scraping Job Status Web Scraping Job  Job Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["web-scraping","web-scraping"],"summary":"Cancel Scraping Job","description":"Cancel a pending or active scraping job.\n\nArgs:\n    job_id: The ID of the scraping job to cancel\n\nReturns:\n    Cancellation status","operationId":"cancel_scraping_job_web_scraping_job__job_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Cancel Scraping Job Web Scraping Job  Job Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/service/initialize":{"post":{"tags":["web-scraping","web-scraping"],"summary":"Initialize Scraping Service","description":"Initialize the web scraping service if not already initialized.\n\nThis starts the worker pool and prepares the service for scraping.","operationId":"initialize_scraping_service_web_scraping_service_initialize_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Initialize Scraping Service Web Scraping Service Initialize Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/service/shutdown":{"post":{"tags":["web-scraping","web-scraping"],"summary":"Shutdown Scraping Service","description":"Shutdown the web scraping service gracefully.\n\nThis stops all workers and cleans up resources.\nAdmin only endpoint.","operationId":"shutdown_scraping_service_web_scraping_service_shutdown_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Shutdown Scraping Service Web Scraping Service Shutdown Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/progress/{task_id}":{"get":{"tags":["web-scraping","web-scraping"],"summary":"Get Scraping Progress","description":"Get progress information for a scraping task.\n\nUseful for long-running recursive or sitemap scraping tasks.\n\nArgs:\n    task_id: The task identifier\n\nReturns:\n    Progress information including pages scraped, remaining, current URL, etc.","operationId":"get_scraping_progress_web_scraping_progress__task_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Scraping Progress Web Scraping Progress  Task Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/cookies/{domain}":{"get":{"tags":["web-scraping","web-scraping"],"summary":"Get Cookies For Domain","description":"Get stored cookies for a specific domain.\n\nArgs:\n    domain: The domain to get cookies for\n\nReturns:\n    List of cookies for the domain","operationId":"get_cookies_for_domain_web_scraping_cookies__domain__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"domain","in":"path","required":true,"schema":{"type":"string","title":"Domain"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Cookies For Domain Web Scraping Cookies  Domain  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["web-scraping","web-scraping"],"summary":"Set Cookies For Domain","description":"Set cookies for a specific domain.\n\nUseful for handling authentication or paywalled content.\n\nArgs:\n    domain: The domain to set cookies for\n    cookies: List of cookie dictionaries\n\nReturns:\n    Success status","operationId":"set_cookies_for_domain_web_scraping_cookies__domain__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"domain","in":"path","required":true,"schema":{"type":"string","title":"Domain"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Cookies"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Set Cookies For Domain Web Scraping Cookies  Domain  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/web-scraping/duplicates/check":{"get":{"tags":["web-scraping","web-scraping"],"summary":"Check Url Duplicate","description":"Check if a URL's content has already been scraped (duplicate detection).\n\nArgs:\n    url: The URL to check\n\nReturns:\n    Duplicate status and information about the original if found","operationId":"check_url_duplicate_web_scraping_duplicates_check_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"url","in":"query","required":true,"schema":{"type":"string","description":"URL to check for duplicate content","title":"Url"},"description":"URL to check for duplicate content"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Check Url Duplicate Web Scraping Duplicates Check Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/status":{"get":{"tags":["web-scraping","web-scraping"],"summary":"Get Scraping Service Status","description":"Get the status of the web scraping service including queue statistics.\n\nReturns:\n    Service status including:\n    - Initialization status\n    - Queue statistics (active, pending, completed jobs)\n    - Rate limiting configuration","operationId":"get_scraping_service_status_api_v1_web_scraping_status_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Scraping Service Status Api V1 Web Scraping Status Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/job/{job_id}":{"get":{"tags":["web-scraping","web-scraping"],"summary":"Get Scraping Job Status","description":"Get the status of a specific scraping job.\n\nArgs:\n    job_id: The ID of the scraping job\n\nReturns:\n    Job details including status, progress, and results","operationId":"get_scraping_job_status_api_v1_web_scraping_job__job_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Scraping Job Status Api V1 Web Scraping Job  Job Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["web-scraping","web-scraping"],"summary":"Cancel Scraping Job","description":"Cancel a pending or active scraping job.\n\nArgs:\n    job_id: The ID of the scraping job to cancel\n\nReturns:\n    Cancellation status","operationId":"cancel_scraping_job_api_v1_web_scraping_job__job_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Cancel Scraping Job Api V1 Web Scraping Job  Job Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/service/initialize":{"post":{"tags":["web-scraping","web-scraping"],"summary":"Initialize Scraping Service","description":"Initialize the web scraping service if not already initialized.\n\nThis starts the worker pool and prepares the service for scraping.","operationId":"initialize_scraping_service_api_v1_web_scraping_service_initialize_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Initialize Scraping Service Api V1 Web Scraping Service Initialize Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/service/shutdown":{"post":{"tags":["web-scraping","web-scraping"],"summary":"Shutdown Scraping Service","description":"Shutdown the web scraping service gracefully.\n\nThis stops all workers and cleans up resources.\nAdmin only endpoint.","operationId":"shutdown_scraping_service_api_v1_web_scraping_service_shutdown_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Shutdown Scraping Service Api V1 Web Scraping Service Shutdown Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/progress/{task_id}":{"get":{"tags":["web-scraping","web-scraping"],"summary":"Get Scraping Progress","description":"Get progress information for a scraping task.\n\nUseful for long-running recursive or sitemap scraping tasks.\n\nArgs:\n    task_id: The task identifier\n\nReturns:\n    Progress information including pages scraped, remaining, current URL, etc.","operationId":"get_scraping_progress_api_v1_web_scraping_progress__task_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Scraping Progress Api V1 Web Scraping Progress  Task Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/cookies/{domain}":{"get":{"tags":["web-scraping","web-scraping"],"summary":"Get Cookies For Domain","description":"Get stored cookies for a specific domain.\n\nArgs:\n    domain: The domain to get cookies for\n\nReturns:\n    List of cookies for the domain","operationId":"get_cookies_for_domain_api_v1_web_scraping_cookies__domain__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"domain","in":"path","required":true,"schema":{"type":"string","title":"Domain"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Cookies For Domain Api V1 Web Scraping Cookies  Domain  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["web-scraping","web-scraping"],"summary":"Set Cookies For Domain","description":"Set cookies for a specific domain.\n\nUseful for handling authentication or paywalled content.\n\nArgs:\n    domain: The domain to set cookies for\n    cookies: List of cookie dictionaries\n\nReturns:\n    Success status","operationId":"set_cookies_for_domain_api_v1_web_scraping_cookies__domain__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"domain","in":"path","required":true,"schema":{"type":"string","title":"Domain"}},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Cookies"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Set Cookies For Domain Api V1 Web Scraping Cookies  Domain  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/web-scraping/duplicates/check":{"get":{"tags":["web-scraping","web-scraping"],"summary":"Check Url Duplicate","description":"Check if a URL's content has already been scraped (duplicate detection).\n\nArgs:\n    url: The URL to check\n\nReturns:\n    Duplicate status and information about the original if found","operationId":"check_url_duplicate_api_v1_web_scraping_duplicates_check_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"url","in":"query","required":true,"schema":{"type":"string","description":"URL to check for duplicate content","title":"Url"},"description":"URL to check for duplicate content"},{"name":"X-API-KEY","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Api-Key"}},{"name":"Token","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Check Url Duplicate Api V1 Web Scraping Duplicates Check Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/metrics":{"get":{"tags":["monitoring"],"summary":"Api Metrics","description":"Get current metrics in JSON format.","operationId":"api_metrics_api_v1_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/ready":{"get":{"summary":"Readiness Check","description":"Readiness probe for orchestrators and load balancers.","operationId":"readiness_check_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[]}}},"components":{"schemas":{"ABTestArm":{"properties":{"provider":{"type":"string","title":"Provider","description":"Embedding provider id, e.g., 'openai' or 'huggingface'"},"model":{"type":"string","title":"Model","description":"Embedding model id"},"dimensions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dimensions","description":"Requested output dimensions if supported"}},"additionalProperties":false,"type":"object","required":["provider","model"],"title":"ABTestArm"},"ABTestChunking":{"properties":{"method":{"type":"string","title":"Method","description":"Chunking method, e.g., 'words' or 'sentences'"},"size":{"type":"integer","minimum":1.0,"title":"Size","description":"Max chunk size"},"overlap":{"type":"integer","minimum":0.0,"title":"Overlap","description":"Chunk overlap"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Language hint"}},"additionalProperties":false,"type":"object","required":["method","size","overlap"],"title":"ABTestChunking"},"ABTestCleanupPolicy":{"properties":{"on_complete":{"type":"boolean","title":"On Complete","description":"Delete collections on completion","default":false},"ttl_hours":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Ttl Hours","description":"TTL for collections if not deleted immediately"}},"additionalProperties":false,"type":"object","title":"ABTestCleanupPolicy"},"ABTestLimits":{"properties":{"max_docs":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Max Docs","description":"Max docs to include from corpus"},"timeout_s":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Timeout S","description":"Global timeout in seconds"}},"additionalProperties":false,"type":"object","title":"ABTestLimits"},"ABTestQuery":{"properties":{"text":{"type":"string","title":"Text","description":"Query text"},"expected_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Expected Ids","description":"Optional ground truth media ids"},"metadata":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Metadata","description":"Optional query metadata"}},"additionalProperties":false,"type":"object","required":["text"],"title":"ABTestQuery"},"ABTestReRanker":{"properties":{"provider":{"type":"string","title":"Provider","description":"Reranker provider id"},"model":{"type":"string","title":"Model","description":"Reranker model id"}},"additionalProperties":false,"type":"object","required":["provider","model"],"title":"ABTestReRanker"},"ABTestRetrieval":{"properties":{"k":{"type":"integer","maximum":1000.0,"minimum":1.0,"title":"K","description":"Top-k results to return"},"search_mode":{"anyOf":[{"type":"string","enum":["fts","vector","hybrid"]},{"type":"null"}],"title":"Search Mode","description":"Retrieval mode","default":"vector"},"hybrid_alpha":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Hybrid Alpha","description":"0=FTS only, 1=Vector only (hybrid blend)"},"re_ranker":{"anyOf":[{"$ref":"#/components/schemas/ABTestReRanker"},{"type":"null"}],"description":"Optional reranker config"},"index_params":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Index Params","description":"Index parameters for vector store"},"apply_reranker":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Apply Reranker","description":"Apply reranker in vector-only mode when re_ranker is set","default":false}},"additionalProperties":false,"type":"object","required":["k"],"title":"ABTestRetrieval"},"APIKeyAuditEntry":{"properties":{"id":{"type":"integer","title":"Id"},"api_key_id":{"type":"integer","title":"Api Key Id"},"action":{"type":"string","title":"Action"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address"},"user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Agent"},"details":{"anyOf":[{},{"type":"null"}],"title":"Details"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["id","api_key_id","action"],"title":"APIKeyAuditEntry"},"APIKeyAuditListResponse":{"properties":{"key_id":{"type":"integer","title":"Key Id"},"items":{"items":{"$ref":"#/components/schemas/APIKeyAuditEntry"},"type":"array","title":"Items"},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total"}},"type":"object","required":["key_id","items"],"title":"APIKeyAuditListResponse"},"APIKeyCreateRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Optional display name for the key"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Optional description"},"scope":{"type":"string","title":"Scope","description":"Permission scope: read|write|admin|service","default":"read"},"expires_in_days":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Expires In Days","description":"Days until expiration (None = never)","default":365}},"type":"object","title":"APIKeyCreateRequest"},"APIKeyCreateResponse":{"properties":{"id":{"type":"integer","title":"Id"},"key_prefix":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key Prefix"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"scope":{"type":"string","title":"Scope"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"usage_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Usage Count","default":0},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"},"last_used_ip":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Used Ip"},"key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key","description":"The actual API key (returned only at creation/rotation)"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["id","scope"],"title":"APIKeyCreateResponse"},"APIKeyMetadata":{"properties":{"id":{"type":"integer","title":"Id"},"key_prefix":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key Prefix"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"scope":{"type":"string","title":"Scope"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"usage_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Usage Count","default":0},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"},"last_used_ip":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Used Ip"}},"type":"object","required":["id","scope"],"title":"APIKeyMetadata"},"APIKeyRotateRequest":{"properties":{"expires_in_days":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Expires In Days","description":"Expiration for the new key","default":365}},"type":"object","title":"APIKeyRotateRequest"},"APIKeyUpdateRequest":{"properties":{"rate_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rate Limit","description":"Requests per minute for this key"},"allowed_ips":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Ips","description":"Restrict usage to these IPs"}},"type":"object","title":"APIKeyUpdateRequest"},"AblationRequest":{"properties":{"query":{"type":"string","title":"Query","description":"Query to ablate"},"top_k":{"type":"integer","maximum":50.0,"minimum":1.0,"title":"Top K","description":"Retrieval top_k","default":10},"search_mode":{"type":"string","title":"Search Mode","description":"fts|vector|hybrid","default":"hybrid"},"with_answer":{"type":"boolean","title":"With Answer","description":"Generate answer in each condition","default":false},"agentic_top_k_docs":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Agentic Top K Docs","default":3},"agentic_window_chars":{"type":"integer","maximum":20000.0,"minimum":200.0,"title":"Agentic Window Chars","default":1200},"agentic_max_tokens_read":{"type":"integer","maximum":20000.0,"minimum":500.0,"title":"Agentic Max Tokens Read","default":6000},"reranking_strategy":{"type":"string","title":"Reranking Strategy","description":"flashrank|cross_encoder|hybrid|llama_cpp|none","default":"flashrank"}},"type":"object","required":["query"],"title":"AblationRequest"},"AdminCleanupSettingsUpdate":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled"},"interval_sec":{"anyOf":[{"type":"integer","maximum":604800.0,"minimum":60.0},{"type":"null"}],"title":"Interval Sec"}},"additionalProperties":false,"type":"object","title":"AdminCleanupSettingsUpdate","description":"Update payload for ephemeral cleanup worker settings.\n\n- enabled: turn cleanup worker on/off\n- interval_sec: run interval in seconds (60..604800)"},"AdvancedVersionUpsertRequest":{"properties":{"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"Optional content; if omitted and new_version=true, uses latest content"},"prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt","description":"Optional prompt; if omitted and new_version=true, uses latest prompt"},"analysis_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Analysis Content","description":"Optional analysis; if omitted and new_version=true, uses latest analysis"},"safe_metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Safe Metadata","description":"Optional safe metadata JSON to set or merge"},"merge":{"type":"boolean","title":"Merge","description":"Merge safe metadata when updating or creating new version","default":true},"new_version":{"type":"boolean","title":"New Version","description":"Create a new version (default). If false, only safe_metadata may be updated in place","default":true}},"type":"object","title":"AdvancedVersionUpsertRequest"},"AlertItem":{"properties":{"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","title":"Created At"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"scope_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scope Type"},"scope_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scope Id"},"source":{"type":"string","title":"Source"},"watchlist_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Watchlist Id"},"rule_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rule Category"},"rule_severity":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rule Severity"},"pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pattern"},"text_snippet":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text Snippet"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"},"is_read":{"type":"boolean","title":"Is Read","default":false},"read_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Read At"}},"type":"object","required":["id","created_at","source"],"title":"AlertItem"},"AlertsListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/AlertItem"},"type":"array","title":"Items"},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total"}},"type":"object","required":["items"],"title":"AlertsListResponse"},"ApplyTemplateRequest":{"properties":{"template_name":{"type":"string","title":"Template Name","description":"Name of the template to apply"},"text":{"type":"string","title":"Text","description":"Text to chunk using the template"},"override_options":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Override Options","description":"Options to override template defaults"}},"type":"object","required":["template_name","text"],"title":"ApplyTemplateRequest","description":"Request schema for applying a template to text."},"ApplyTemplateResponse":{"properties":{"template_name":{"type":"string","title":"Template Name","description":"Applied template name"},"chunks":{"items":{},"type":"array","title":"Chunks","description":"Resulting chunks (text or {text, metadata} when include_metadata=true)"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata from processing"}},"type":"object","required":["template_name","chunks"],"title":"ApplyTemplateResponse","description":"Response schema for template application."},"ArmSummary":{"properties":{"arm_id":{"type":"string","title":"Arm Id"},"provider":{"type":"string","title":"Provider"},"model":{"type":"string","title":"Model"},"dimensions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dimensions"},"metrics":{"additionalProperties":{"type":"number"},"type":"object","title":"Metrics"},"latency_ms":{"additionalProperties":{"type":"number"},"type":"object","title":"Latency Ms"},"doc_counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Doc Counts"}},"type":"object","required":["arm_id","provider","model"],"title":"ArmSummary"},"ArxivPaper":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"authors":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authors"},"published_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Published Date"},"abstract":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abstract"},"pdf_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pdf Url"}},"type":"object","title":"ArxivPaper"},"ArxivSearchResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/ArxivPaper"},"type":"array","title":"Items"},"total_results":{"type":"integer","title":"Total Results"},"page":{"type":"integer","title":"Page"},"results_per_page":{"type":"integer","title":"Results Per Page"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["query_echo","items","total_results","page","results_per_page","total_pages"],"title":"ArxivSearchResponse"},"AssistantQuestion":{"properties":{"question":{"type":"string","minLength":1,"title":"Question","description":"Natural language question for the setup assistant"}},"type":"object","required":["question"],"title":"AssistantQuestion"},"AsyncGenerationResponse":{"properties":{"job_id":{"type":"string","title":"Job Id","description":"Job ID for tracking"},"status":{"$ref":"#/components/schemas/GenerationStatus","description":"Current job status"},"conversation_id":{"type":"string","title":"Conversation Id","description":"Conversation ID"},"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Type of document being generated"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Job creation timestamp"},"message":{"type":"string","title":"Message","description":"Status message"}},"type":"object","required":["job_id","status","conversation_id","document_type","created_at","message"],"title":"AsyncGenerationResponse","description":"Response schema for async document generation."},"AudioJob":{"properties":{"id":{"type":"integer","title":"Id"},"uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uuid"},"job_type":{"type":"string","title":"Job Type"},"status":{"type":"string","title":"Status"},"priority":{"type":"integer","title":"Priority"},"retry_count":{"type":"integer","title":"Retry Count"},"max_retries":{"type":"integer","title":"Max Retries"},"owner_user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner User Id"},"available_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Available At"},"started_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Started At"},"leased_until":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Leased Until"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"},"completed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Completed At"}},"type":"object","required":["id","uuid","job_type","status","priority","retry_count","max_retries","owner_user_id","available_at","started_at","leased_until","created_at","updated_at","completed_at"],"title":"AudioJob"},"AudioJobsOwnerSummaryItem":{"properties":{"owner_user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner User Id"},"status":{"type":"string","title":"Status"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["owner_user_id","status","count"],"title":"AudioJobsOwnerSummaryItem"},"AudioJobsSummary":{"properties":{"counts_by_status":{"additionalProperties":{"type":"integer"},"type":"object","title":"Counts By Status"},"total":{"type":"integer","title":"Total"},"owner_user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner User Id"}},"type":"object","required":["counts_by_status","total"],"title":"AudioJobsSummary"},"AudioJobsSummaryByOwner":{"properties":{"items":{"items":{"$ref":"#/components/schemas/AudioJobsOwnerSummaryItem"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"AudioJobsSummaryByOwner"},"AuditLogEntry":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"action":{"type":"string","title":"Action"},"details":{"anyOf":[{},{"type":"null"}],"title":"Details"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","action","created_at"],"title":"AuditLogEntry","description":"Single audit log entry"},"AuditLogResponse":{"properties":{"entries":{"items":{"$ref":"#/components/schemas/AuditLogEntry"},"type":"array","title":"Entries"}},"type":"object","required":["entries"],"title":"AuditLogResponse","description":"Response for audit log endpoint"},"AuthTokenRequest":{"properties":{"username":{"type":"string","title":"Username"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"}},"type":"object","required":["username"],"title":"AuthTokenRequest","description":"Authentication token request"},"AuthTokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In"},"refresh_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Refresh Token"}},"type":"object","required":["access_token","expires_in"],"title":"AuthTokenResponse","description":"Authentication token response"},"BatchEvaluationRequest":{"properties":{"evaluation_type":{"type":"string","enum":["geval","rag","response_quality","ocr","propositions"],"title":"Evaluation Type"},"items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","maxItems":1000,"minItems":1,"title":"Items"},"parallel_workers":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Parallel Workers","default":4},"continue_on_error":{"type":"boolean","title":"Continue On Error","default":true}},"type":"object","required":["evaluation_type","items"],"title":"BatchEvaluationRequest","description":"Batch evaluation request"},"BatchEvaluationResponse":{"properties":{"total_items":{"type":"integer","title":"Total Items"},"successful":{"type":"integer","title":"Successful"},"failed":{"type":"integer","title":"Failed"},"results":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Results"},"aggregate_metrics":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Aggregate Metrics"},"processing_time":{"type":"number","title":"Processing Time"}},"type":"object","required":["total_items","successful","failed","results","processing_time"],"title":"BatchEvaluationResponse","description":"Batch evaluation response"},"BatchMediaEmbeddingsRequest":{"properties":{"media_ids":{"items":{"type":"integer"},"type":"array","minItems":1,"title":"Media Ids","description":"List of media IDs to embed"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"},"chunk_size":{"type":"integer","title":"Chunk Size","description":"Chunk size to use for each media item","default":1000},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","description":"Chunk overlap to use for each media item","default":200},"force_regenerate":{"type":"boolean","title":"Force Regenerate","description":"Force regeneration even if embeddings exist","default":false}},"type":"object","required":["media_ids"],"title":"BatchMediaEmbeddingsRequest"},"BatchMediaEmbeddingsResponse":{"properties":{"status":{"type":"string","title":"Status"},"job_ids":{"items":{"type":"string"},"type":"array","title":"Job Ids"},"submitted":{"type":"integer","title":"Submitted"}},"type":"object","required":["status","job_ids","submitted"],"title":"BatchMediaEmbeddingsResponse"},"BioRxivFunderPaper":{"properties":{"doi":{"type":"string","title":"Doi"},"title":{"type":"string","title":"Title"},"authors":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authors"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date"},"abstract":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abstract"},"server":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Server"},"version":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Version"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"pdf_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pdf Url"},"funder":{"anyOf":[{},{"type":"null"}],"title":"Funder"}},"type":"object","required":["doi","title"],"title":"BioRxivFunderPaper"},"BioRxivFunderSearchResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/BioRxivFunderPaper"},"type":"array","title":"Items"},"total_results":{"type":"integer","title":"Total Results"},"page":{"type":"integer","title":"Page"},"results_per_page":{"type":"integer","title":"Results Per Page"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["query_echo","items","total_results","page","results_per_page","total_pages"],"title":"BioRxivFunderSearchResponse"},"BioRxivPaper":{"properties":{"doi":{"type":"string","title":"Doi"},"title":{"type":"string","title":"Title"},"authors":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authors"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date"},"abstract":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abstract"},"server":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Server"},"version":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Version"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"pdf_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pdf Url"}},"type":"object","required":["doi","title"],"title":"BioRxivPaper"},"BioRxivPublishedRecord":{"properties":{"biorxiv_doi":{"type":"string","title":"Biorxiv Doi"},"published_doi":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Published Doi"},"published_journal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Published Journal"},"preprint_platform":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preprint Platform"},"preprint_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preprint Title"},"preprint_authors":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preprint Authors"},"preprint_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preprint Category"},"preprint_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preprint Date"},"published_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Published Date"},"preprint_abstract":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preprint Abstract"},"preprint_author_corresponding":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preprint Author Corresponding"},"preprint_author_corresponding_institution":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preprint Author Corresponding Institution"}},"type":"object","required":["biorxiv_doi"],"title":"BioRxivPublishedRecord"},"BioRxivPubsSearchResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/BioRxivPublishedRecord"},"type":"array","title":"Items"},"total_results":{"type":"integer","title":"Total Results"},"page":{"type":"integer","title":"Page"},"results_per_page":{"type":"integer","title":"Results Per Page"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["query_echo","items","total_results","page","results_per_page","total_pages"],"title":"BioRxivPubsSearchResponse"},"BioRxivSearchResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/BioRxivPaper"},"type":"array","title":"Items"},"total_results":{"type":"integer","title":"Total Results"},"page":{"type":"integer","title":"Page"},"results_per_page":{"type":"integer","title":"Results Per Page"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["query_echo","items","total_results","page","results_per_page","total_pages"],"title":"BioRxivSearchResponse"},"BioRxivSummaryItem":{"properties":{"month":{"type":"string","title":"Month"},"new_papers":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"New Papers"},"new_papers_cumulative":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"New Papers Cumulative"},"revised_papers":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Revised Papers"},"preprint_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preprint Date"},"revised_papers_cumulative":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Revised Papers Cumulative"}},"type":"object","required":["month"],"title":"BioRxivSummaryItem"},"BioRxivSummaryResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/BioRxivSummaryItem"},"type":"array","title":"Items"}},"type":"object","required":["query_echo","items"],"title":"BioRxivSummaryResponse"},"BioRxivUsageItem":{"properties":{"month":{"type":"string","title":"Month"},"abstract_views":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Abstract Views"},"full_text_views":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Full Text Views"},"pdf_downloads":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Pdf Downloads"},"abstract_cumulative":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Abstract Cumulative"},"full_text_cumulative":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Full Text Cumulative"},"pdf_cumulative":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Pdf Cumulative"}},"type":"object","required":["month"],"title":"BioRxivUsageItem"},"BioRxivUsageResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/BioRxivUsageItem"},"type":"array","title":"Items"}},"type":"object","required":["query_echo","items"],"title":"BioRxivUsageResponse"},"BlocklistAppendRequest":{"properties":{"line":{"type":"string","minLength":1,"title":"Line"}},"type":"object","required":["line"],"title":"BlocklistAppendRequest"},"BlocklistAppendResponse":{"properties":{"version":{"type":"string","title":"Version"},"index":{"type":"integer","title":"Index"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["version","index","count"],"title":"BlocklistAppendResponse"},"BlocklistDeleteResponse":{"properties":{"version":{"type":"string","title":"Version"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["version","count"],"title":"BlocklistDeleteResponse"},"BlocklistLintItem":{"properties":{"index":{"type":"integer","title":"Index"},"line":{"type":"string","title":"Line"},"ok":{"type":"boolean","title":"Ok"},"pattern_type":{"anyOf":[{"type":"string","enum":["literal","regex","comment","empty"]},{"type":"null"}],"title":"Pattern Type"},"action":{"anyOf":[{"type":"string","enum":["block","redact","warn"]},{"type":"null"}],"title":"Action"},"replacement":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Replacement"},"categories":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Categories"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"warning":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Warning"},"sample":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sample"}},"type":"object","required":["index","line","ok"],"title":"BlocklistLintItem"},"BlocklistLintRequest":{"properties":{"lines":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Lines"},"line":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Line"}},"type":"object","title":"BlocklistLintRequest"},"BlocklistLintResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/BlocklistLintItem"},"type":"array","title":"Items"},"valid_count":{"type":"integer","title":"Valid Count"},"invalid_count":{"type":"integer","title":"Invalid Count"}},"type":"object","required":["items","valid_count","invalid_count"],"title":"BlocklistLintResponse"},"BlocklistManagedItem":{"properties":{"id":{"type":"integer","title":"Id"},"line":{"type":"string","title":"Line"}},"type":"object","required":["id","line"],"title":"BlocklistManagedItem"},"BlocklistManagedResponse":{"properties":{"version":{"type":"string","title":"Version","description":"Content hash for optimistic concurrency"},"items":{"items":{"$ref":"#/components/schemas/BlocklistManagedItem"},"type":"array","title":"Items"}},"type":"object","required":["version","items"],"title":"BlocklistManagedResponse"},"Body_add_media_api_v1_media_add_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"List of files to upload"},"media_type":{"type":"string","title":"Media Type","description":"Type of media (e.g., 'audio', 'video', 'pdf')"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls","description":"List of URLs of the media items to add"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title (applied if only one item processed)"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Optional author (applied similarly to title)"},"keywords":{"type":"string","title":"Keywords","description":"Comma-separated keywords (applied to all processed items)","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt","description":"Optional custom prompt (applied to all)"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","description":"Optional system prompt (applied to all)"},"overwrite_existing":{"type":"boolean","title":"Overwrite Existing","description":"Overwrite existing media","default":false},"keep_original_file":{"type":"boolean","title":"Keep Original File","description":"Retain original uploaded files","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","description":"Perform analysis (default=True)","default":true},"perform_claims_extraction":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Perform Claims Extraction","description":"Extract factual claims during analysis (defaults to server configuration)."},"claims_extractor_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Claims Extractor Mode","description":"Override claims extractor mode (heuristic|ner|provider id)."},"claims_max_per_chunk":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Claims Max Per Chunk","description":"Maximum number of claims to extract per chunk (uses config default when unset)."},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","description":"Optional API name"},"use_cookies":{"type":"boolean","title":"Use Cookies","description":"Use cookies for URL download requests","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies","description":"Cookie string if `use_cookies` is True"},"transcription_model":{"type":"string","title":"Transcription Model","description":"Transcription model","default":"large-v3"},"transcription_language":{"type":"string","title":"Transcription Language","description":"Transcription language","default":"en"},"diarize":{"type":"boolean","title":"Diarize","description":"Enable speaker diarization","default":false},"timestamp_option":{"type":"boolean","title":"Timestamp Option","description":"Include timestamps in transcription","default":true},"vad_use":{"type":"boolean","title":"Vad Use","description":"Enable VAD filter","default":false},"perform_confabulation_check_of_analysis":{"type":"boolean","title":"Perform Confabulation Check Of Analysis","description":"Enable confabulation check","default":false},"start_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Time","description":"Optional start time (HH:MM:SS or seconds)"},"end_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Time","description":"Optional end time (HH:MM:SS or seconds)"},"pdf_parsing_engine":{"anyOf":[{"type":"string","enum":["pymupdf4llm","pymupdf","docling"]},{"type":"null"}],"title":"Pdf Parsing Engine","description":"PDF parsing engine","default":"pymupdf4llm"},"perform_chunking":{"type":"boolean","title":"Perform Chunking","description":"Enable chunking","default":true},"chunk_method":{"anyOf":[{"type":"string","enum":["semantic","tokens","paragraphs","sentences","words","ebook_chapters","json","propositions"]},{"type":"null"}],"title":"Chunk Method","description":"Chunking method"},"use_adaptive_chunking":{"type":"boolean","title":"Use Adaptive Chunking","description":"Enable adaptive chunking","default":false},"use_multi_level_chunking":{"type":"boolean","title":"Use Multi Level Chunking","description":"Enable multi-level chunking","default":false},"chunk_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Language","description":"Chunking language override"},"chunk_size":{"type":"integer","title":"Chunk Size","description":"Target chunk size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","description":"Chunk overlap size","default":200},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern","description":"Regex pattern for custom chapter splitting"},"perform_rolling_summarization":{"type":"boolean","title":"Perform Rolling Summarization","description":"Perform rolling summarization","default":false},"ingest_attachments":{"type":"boolean","title":"Ingest Attachments","description":"For emails: parse nested .eml attachments and ingest as separate items","default":false},"max_depth":{"type":"integer","title":"Max Depth","description":"Max depth for nested email parsing when ingest_attachments is true","default":2},"accept_archives":{"type":"boolean","title":"Accept Archives","description":"Accept .zip archives of EMLs and expand/process members","default":false},"accept_mbox":{"type":"boolean","title":"Accept Mbox","description":"Accept .mbox mailboxes and expand/process messages","default":false},"accept_pst":{"type":"boolean","title":"Accept Pst","description":"Accept .pst/.ost containers (feature-flag; parsing may require external tools)","default":false},"enable_contextual_chunking":{"type":"boolean","title":"Enable Contextual Chunking","description":"Enable contextual chunking","default":false},"contextual_llm_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contextual Llm Model","description":"LLM model for contextual chunking"},"context_window_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Window Size","description":"Context window size (chars)"},"context_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Strategy","description":"Context strategy: auto|full|window|outline_window"},"context_token_budget":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Token Budget","description":"Approx token budget for auto strategy"},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","description":"Perform recursive summarization","default":false},"generate_embeddings":{"type":"boolean","title":"Generate Embeddings","description":"Generate embeddings after media processing","default":false},"embedding_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model","description":"Specific embedding model to use"},"embedding_provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Provider","description":"Embedding provider (huggingface, openai, etc)"}},"type":"object","required":["media_type"],"title":"Body_add_media_api_v1_media_add_post"},"Body_create_transcription_api_v1_audio_transcriptions_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"The audio file to transcribe"},"model":{"type":"string","title":"Model","description":"Model to use for transcription","default":"whisper-1"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Language of the audio in ISO-639-1 format"},"prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt","description":"Optional text to guide the model's style"},"response_format":{"type":"string","title":"Response Format","description":"Format of the transcript output","default":"json"},"temperature":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Temperature","description":"Sampling temperature","default":0.0},"timestamp_granularities":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp Granularities","description":"Timestamp granularities: 'segment', 'word' (comma-separated or JSON array)","default":"segment"},"segment":{"type":"boolean","title":"Segment","description":"If true and JSON response, also run transcript segmentation (TreeSeg)","default":false},"seg_K":{"type":"integer","title":"Seg K","description":"Max segments for TreeSeg (if segment=true)","default":6},"seg_min_segment_size":{"type":"integer","title":"Seg Min Segment Size","description":"Min items per segment for TreeSeg","default":5},"seg_lambda_balance":{"type":"number","title":"Seg Lambda Balance","description":"Balance penalty for TreeSeg","default":0.01},"seg_utterance_expansion_width":{"type":"integer","title":"Seg Utterance Expansion Width","description":"Context width for TreeSeg blocks","default":2},"seg_embeddings_provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Seg Embeddings Provider","description":"Embeddings provider override for TreeSeg"},"seg_embeddings_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Seg Embeddings Model","description":"Embeddings model override for TreeSeg"}},"type":"object","required":["file"],"title":"Body_create_transcription_api_v1_audio_transcriptions_post"},"Body_create_translation_api_v1_audio_translations_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"The audio file to translate"},"model":{"type":"string","title":"Model","description":"Model to use for translation","default":"whisper-1"},"prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt","description":"Optional text to guide the model's style"},"response_format":{"type":"string","title":"Response Format","description":"Format of the transcript output","default":"json"},"temperature":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Temperature","description":"Sampling temperature","default":0.0}},"type":"object","required":["file"],"title":"Body_create_translation_api_v1_audio_translations_post"},"Body_disable_mfa_api_v1_auth_mfa_disable_post":{"properties":{"password":{"type":"string","title":"Password","description":"Current password for verification"}},"type":"object","required":["password"],"title":"Body_disable_mfa_api_v1_auth_mfa_disable_post"},"Body_evaluate_ocr_pdf_endpoint_api_v1_evaluations_ocr_pdf_post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files","description":"PDF files to OCR and evaluate"},"ground_truths":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Ground Truths","description":"Ground-truth text per file (order aligned)"},"ground_truths_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ground Truths Json","description":"JSON array of ground-truth texts aligned to files"},"metrics":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Metrics","description":"Metrics to compute (cer, wer, coverage, page_coverage)"},"ground_truths_pages_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ground Truths Pages Json","description":"JSON array of per-file page arrays of ground truth text (e.g., [[...],[...]])"},"thresholds_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Thresholds Json","description":"JSON dict of thresholds (max_cer, max_wer, min_coverage, min_page_coverage)"},"enable_ocr":{"type":"boolean","title":"Enable Ocr","description":"Enable OCR","default":true},"ocr_backend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend","description":"OCR backend (e.g., 'tesseract' or 'auto')"},"ocr_lang":{"type":"string","title":"Ocr Lang","description":"OCR language","default":"eng"},"ocr_dpi":{"type":"integer","title":"Ocr Dpi","description":"Render DPI (72-600)","default":300},"ocr_mode":{"type":"string","title":"Ocr Mode","description":"OCR mode: 'always' or 'fallback'","default":"fallback"},"ocr_min_page_text_chars":{"type":"integer","title":"Ocr Min Page Text Chars","description":"Threshold for per-page OCR fallback","default":40}},"type":"object","required":["files"],"title":"Body_evaluate_ocr_pdf_endpoint_api_v1_evaluations_ocr_pdf_post"},"Body_get_note_neighbors_api_v1_notes__note_id__neighbors_get":{"properties":{"edge_types":{"anyOf":[{"items":{"$ref":"#/components/schemas/EdgeType"},"type":"array"},{"type":"null"}],"title":"Edge Types"},"time_range":{"anyOf":[{"$ref":"#/components/schemas/TimeRange"},{"type":"null"}]}},"type":"object","title":"Body_get_note_neighbors_api_v1_notes__note_id__neighbors_get"},"Body_get_notes_graph_api_v1_notes_graph_get":{"properties":{"edge_types":{"anyOf":[{"items":{"$ref":"#/components/schemas/EdgeType"},"type":"array"},{"type":"null"}],"title":"Edge Types"},"time_range":{"anyOf":[{"$ref":"#/components/schemas/TimeRange"},{"type":"null"}]}},"type":"object","title":"Body_get_notes_graph_api_v1_notes_graph_get"},"Body_import_character_endpoint_api_v1_characters_import_post":{"properties":{"character_file":{"type":"string","format":"binary","title":"Character File","description":"Character card file (PNG, WEBP, JSON, MD)."}},"type":"object","required":["character_file"],"title":"Body_import_character_endpoint_api_v1_characters_import_post"},"Body_import_chatbook_api_v1_chatbooks_import_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"content_selections":{"anyOf":[{"additionalProperties":{"items":{"type":"string"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ContentType"},"type":"object"},{"type":"null"}],"title":"Content Selections"}},"type":"object","required":["file"],"title":"Body_import_chatbook_api_v1_chatbooks_import_post"},"Body_import_flashcards_json_api_v1_flashcards_import_json_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_import_flashcards_json_api_v1_flashcards_import_json_post"},"Body_import_sources_opml_api_v1_watchlists_sources_import_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"active":{"type":"boolean","title":"Active","default":true},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"group_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Group Id"}},"type":"object","required":["file"],"title":"Body_import_sources_opml_api_v1_watchlists_sources_import_post"},"Body_import_test_cases_csv_upload_api_v1_prompt_studio_test_cases_import_csv_upload_post":{"properties":{"project_id":{"type":"integer","title":"Project Id"},"file":{"type":"string","format":"binary","title":"File"},"signature_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Signature Id"},"auto_generate_names":{"type":"boolean","title":"Auto Generate Names","default":true}},"type":"object","required":["project_id","file"],"title":"Body_import_test_cases_csv_upload_api_v1_prompt_studio_test_cases_import_csv_upload_post"},"Body_login_api_v1_auth_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","format":"password","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"format":"password","title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_api_v1_auth_login_post"},"Body_preview_chatbook_api_v1_chatbooks_preview_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_preview_chatbook_api_v1_chatbooks_preview_post"},"Body_preview_voice_api_v1_audio_voices__voice_id__preview_post":{"properties":{"text":{"type":"string","title":"Text","description":"Text to speak","default":"Hello, this is a preview of your custom voice."}},"type":"object","title":"Body_preview_voice_api_v1_audio_voices__voice_id__preview_post"},"Body_process_audios_endpoint_api_v1_media_process_audios_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"Audio file uploads"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"titles":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Titles"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"keywords":{"type":"string","title":"Keywords","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"perform_analysis":{"type":"boolean","title":"Perform Analysis","default":true},"perform_chunking":{"type":"boolean","title":"Perform Chunking","default":true},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","default":false},"transcription_model":{"type":"string","title":"Transcription Model","description":"Transcription model for audio inputs","default":"deepdml/faster-distil-whisper-large-v3.5"},"transcription_language":{"type":"string","title":"Transcription Language","default":"en"},"diarize":{"type":"boolean","title":"Diarize","default":false},"timestamp_option":{"type":"boolean","title":"Timestamp Option","default":true},"vad_use":{"type":"boolean","title":"Vad Use","default":false},"perform_confabulation_check_of_analysis":{"type":"boolean","title":"Perform Confabulation Check Of Analysis","default":false},"start_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Time"},"api_provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Provider"},"model_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Name"},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"},"use_cookies":{"type":"boolean","title":"Use Cookies","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies"},"chunk_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"},"chunk_size":{"type":"integer","title":"Chunk Size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","default":200}},"type":"object","title":"Body_process_audios_endpoint_api_v1_media_process_audios_post"},"Body_process_code_endpoint_api_v1_media_process_code_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"Code uploads (.py, .c, .cpp, .java, .ts, etc.)"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls"},"perform_chunking":{"type":"boolean","title":"Perform Chunking","default":true},"chunk_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method","default":"code"},"chunk_size":{"type":"integer","title":"Chunk Size","default":4000},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","default":200}},"type":"object","title":"Body_process_code_endpoint_api_v1_media_process_code_post"},"Body_process_documents_endpoint_api_v1_media_process_documents_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"Document file uploads (.txt, .md, .docx, .rtf, .html, .xml)"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"titles":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Titles"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"keywords":{"type":"string","title":"Keywords","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"keep_original_file":{"type":"boolean","title":"Keep Original File","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","default":true},"perform_chunking":{"type":"boolean","title":"Perform Chunking","default":true},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","default":false},"chunk_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"},"chunk_size":{"type":"integer","title":"Chunk Size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","default":200},"api_provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Provider"},"model_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Name"},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"},"use_cookies":{"type":"boolean","title":"Use Cookies","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies"}},"type":"object","title":"Body_process_documents_endpoint_api_v1_media_process_documents_post"},"Body_process_file_for_chunking_api_v1_chunking_chunk_file_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Method","default":"words"},"max_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Size","default":400},"overlap":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Overlap","default":200},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"},"tokenizer_name_or_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tokenizer Name Or Path","default":"gpt2"},"code_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code Mode","description":"For method='code': 'auto' | 'ast' | 'heuristic'"},"adaptive":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Adaptive","default":false},"multi_level":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Multi Level","default":false},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern"},"semantic_similarity_threshold":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Semantic Similarity Threshold","default":0.7},"semantic_overlap_sentences":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Semantic Overlap Sentences","default":2},"json_chunkable_data_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Json Chunkable Data Key","default":"data"},"summarization_detail":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Summarization Detail","default":0.5},"llm_step_temperature":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Llm Step Temperature","description":"Client suggested temp for internal LLM steps."},"llm_step_system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Llm Step System Prompt","description":"Client suggested system prompt for internal LLM steps."},"llm_step_max_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Llm Step Max Tokens","description":"Client suggested max tokens for internal LLM steps."}},"type":"object","required":["file"],"title":"Body_process_file_for_chunking_api_v1_chunking_chunk_file_post"},"Body_process_videos_endpoint_api_v1_media_process_videos_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"Video file uploads"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"titles":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Titles"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"keywords":{"type":"string","title":"Keywords","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"perform_analysis":{"type":"boolean","title":"Perform Analysis","default":true},"perform_chunking":{"type":"boolean","title":"Perform Chunking","default":true},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","default":false},"transcription_model":{"type":"string","title":"Transcription Model","description":"Transcription model for video audio tracks","default":"deepdml/faster-distil-whisper-large-v3.5"},"transcription_language":{"type":"string","title":"Transcription Language","default":"en"},"diarize":{"type":"boolean","title":"Diarize","default":false},"timestamp_option":{"type":"boolean","title":"Timestamp Option","default":true},"vad_use":{"type":"boolean","title":"Vad Use","default":false},"perform_confabulation_check_of_analysis":{"type":"boolean","title":"Perform Confabulation Check Of Analysis","default":false},"start_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Time"},"api_provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Provider"},"model_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Name"},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"},"use_cookies":{"type":"boolean","title":"Use Cookies","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies"},"chunk_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"},"chunk_size":{"type":"integer","title":"Chunk Size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","default":200}},"type":"object","title":"Body_process_videos_endpoint_api_v1_media_process_videos_post"},"Body_start_llamacpp_server_endpoint_api_v1_llamacpp_start_server_post":{"properties":{"model_filename":{"type":"string","title":"Model Filename","description":"Filename of the GGUF model to load (e.g., 'mistral-7b-v0.1.Q4_K_M.gguf')"},"server_args":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Server Args","description":"Optional Llama.cpp server arguments (e.g., port, n_gpu_layers)","default":{}}},"type":"object","required":["model_filename"],"title":"Body_start_llamacpp_server_endpoint_api_v1_llamacpp_start_server_post"},"Body_upload_voice_api_v1_audio_voices_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Voice sample audio file (WAV, MP3, FLAC, OGG)"},"name":{"type":"string","title":"Name","description":"Name for the voice"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Description of the voice"},"provider":{"type":"string","title":"Provider","description":"Target TTS provider","default":"vibevoice"}},"type":"object","required":["file","name"],"title":"Body_upload_voice_api_v1_audio_voices_upload_post"},"BootstrapConfig":{"properties":{"num_samples":{"type":"integer","maximum":1000.0,"minimum":10.0,"title":"Num Samples","description":"Number of samples to bootstrap","default":50},"selection_method":{"type":"string","title":"Selection Method","description":"Selection method for examples","default":"diverse"},"quality_threshold":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Quality Threshold","description":"Quality threshold for examples","default":0.7},"max_examples_per_prompt":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Max Examples Per Prompt","description":"Max examples to include","default":5}},"type":"object","title":"BootstrapConfig","description":"Configuration for bootstrapping examples"},"BulkEntryOperation":{"properties":{"entry_ids":{"items":{"type":"integer"},"type":"array","minItems":1,"title":"Entry Ids","description":"List of entry IDs"},"operation":{"type":"string","pattern":"^(enable|disable|delete|set_priority)$","title":"Operation","description":"Operation to perform"},"priority":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Priority","description":"New priority (for set_priority operation)"}},"type":"object","required":["entry_ids","operation"],"title":"BulkEntryOperation","description":"Schema for bulk entry operations."},"BulkGenerateRequest":{"properties":{"conversation_ids":{"items":{"type":"string"},"type":"array","maxItems":50,"minItems":1,"title":"Conversation Ids","description":"List of conversation IDs"},"document_types":{"items":{"$ref":"#/components/schemas/DocumentType"},"type":"array","minItems":1,"title":"Document Types","description":"Types of documents to generate"},"provider":{"type":"string","minLength":1,"title":"Provider","description":"LLM provider name"},"model":{"type":"string","minLength":1,"title":"Model","description":"Model name"},"api_key":{"type":"string","minLength":1,"title":"Api Key","description":"API key for the provider"},"async_generation":{"type":"boolean","title":"Async Generation","description":"Generate asynchronously (recommended)","default":true}},"type":"object","required":["conversation_ids","document_types","provider","model","api_key"],"title":"BulkGenerateRequest","description":"Request schema for bulk document generation."},"BulkGenerateResponse":{"properties":{"total_jobs":{"type":"integer","title":"Total Jobs","description":"Total number of generation jobs created"},"job_ids":{"items":{"type":"string"},"type":"array","title":"Job Ids","description":"List of job IDs for tracking"},"estimated_time_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Estimated Time Seconds","description":"Estimated completion time"},"message":{"type":"string","title":"Message","description":"Status message"}},"type":"object","required":["total_jobs","job_ids","message"],"title":"BulkGenerateResponse","description":"Response schema for bulk generation."},"BulkOperationResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether operation succeeded"},"affected_count":{"type":"integer","title":"Affected Count","description":"Number of entries affected"},"failed_ids":{"items":{"type":"integer"},"type":"array","title":"Failed Ids","description":"IDs that failed"},"message":{"type":"string","title":"Message","description":"Operation result message"}},"type":"object","required":["success","affected_count","message"],"title":"BulkOperationResponse","description":"Response schema for bulk operations."},"CharacterChatCompletionPrepRequest":{"properties":{"include_character_context":{"type":"boolean","title":"Include Character Context","description":"Include character system context","default":true},"limit":{"type":"integer","maximum":1000.0,"minimum":1.0,"title":"Limit","description":"Max messages to include","default":100},"offset":{"type":"integer","minimum":0.0,"title":"Offset","description":"Messages offset","default":0},"append_user_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Append User Message","description":"Optional user message to append to the end"}},"type":"object","title":"CharacterChatCompletionPrepRequest","description":"Prepare chat messages for use with the main Chat API.\n\nControls pagination and optional user message appending for preparation."},"CharacterChatCompletionPrepResponse":{"properties":{"chat_id":{"type":"string","title":"Chat Id"},"character_id":{"type":"integer","title":"Character Id"},"character_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Character Name"},"messages":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Messages"},"total":{"type":"integer","title":"Total"},"usage_instructions":{"type":"string","title":"Usage Instructions","default":"Use these messages with POST /api/v1/chat/completions"}},"type":"object","required":["chat_id","character_id","messages","total"],"title":"CharacterChatCompletionPrepResponse"},"CharacterChatCompletionV2Request":{"properties":{"include_character_context":{"type":"boolean","title":"Include Character Context","description":"Include character system context","default":true},"limit":{"type":"integer","maximum":1000.0,"minimum":1.0,"title":"Limit","description":"Max messages to include","default":100},"offset":{"type":"integer","minimum":0.0,"title":"Offset","description":"Messages offset","default":0},"append_user_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Append User Message","description":"Optional user message to append and (optionally) persist"},"save_to_db":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Save To Db","description":"Persist appended user and assistant messages to this chat"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider","description":"LLM provider (e.g., openai, anthropic, local-llm). Defaults to local-llm if omitted."},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Model identifier. Defaults to a local test model if omitted."},"temperature":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Temperature","description":"Sampling temperature"},"max_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Tokens","description":"Max tokens in the completion"},"tools":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Tools","description":"Tool definitions"},"tool_choice":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Tool Choice","description":"Tool choice specification"},"stream":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Stream","description":"If true, stream the assistant response (SSE)","default":false}},"type":"object","title":"CharacterChatCompletionV2Request","description":"Character Chat completion (v2) - builds context and calls a provider.\n\nIncludes provider/model controls, optional appended user message,\npersistence toggle, and streaming control."},"CharacterChatCompletionV2Response":{"properties":{"chat_id":{"type":"string","title":"Chat Id"},"character_id":{"type":"integer","title":"Character Id"},"provider":{"type":"string","title":"Provider"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"saved":{"type":"boolean","title":"Saved","default":false},"user_message_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Message Id"},"assistant_message_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assistant Message Id"},"assistant_content":{"type":"string","title":"Assistant Content"}},"type":"object","required":["chat_id","character_id","provider","assistant_content"],"title":"CharacterChatCompletionV2Response"},"CharacterChatStreamPersistRequest":{"properties":{"assistant_content":{"type":"string","minLength":1,"title":"Assistant Content","description":"Assistant text to persist"},"user_message_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Message Id","description":"Optional parent user message id to link threading"},"tool_calls":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Tool Calls","description":"Optional tool_calls metadata to store"},"usage":{"anyOf":[{"additionalProperties":{"type":"integer"},"type":"object"},{"type":"null"}],"title":"Usage","description":"Optional token usage stats: prompt_tokens, completion_tokens, total_tokens"},"chat_rating":{"anyOf":[{"type":"integer","maximum":5.0,"minimum":1.0},{"type":"null"}],"title":"Chat Rating","description":"Optional conversation rating to set (1-5)"},"ranking":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ranking","description":"Optional ranking for the assistant message"}},"type":"object","required":["assistant_content"],"title":"CharacterChatStreamPersistRequest","description":"Persist assistant content produced via streaming.\n\nUse after a streamed completion where the assistant content was not persisted."},"CharacterChatStreamPersistResponse":{"properties":{"chat_id":{"type":"string","title":"Chat Id"},"assistant_message_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Assistant Message Id"},"saved":{"type":"boolean","title":"Saved","default":false}},"type":"object","required":["chat_id"],"title":"CharacterChatStreamPersistResponse"},"CharacterCreate":{"properties":{"name":{"type":"string","minLength":1,"title":"Name","examples":["Sir Gideon"]},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","examples":["A brave knight"]},"personality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personality","examples":["Stoic and honorable"]},"scenario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scenario","examples":["Guarding the ancient ruins"]},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","examples":["You are a helpful character."]},"post_history_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post History Instructions"},"first_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Message","examples":["Greetings, traveler!"]},"message_example":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message Example","examples":["<START>\nUSER: Hello\nASSISTANT: Hi there!\n<END>"]},"creator_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator Notes"},"alternate_greetings":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Alternate Greetings","description":"List of strings or a JSON string representation of a list.","examples":[["Hello!","Good day!"]]},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Tags","description":"List of strings or a JSON string representation of a list.","examples":[["fantasy","knight"]]},"creator":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator"},"character_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Character Version"},"extensions":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"string"},{"type":"null"}],"title":"Extensions","description":"Dictionary or a JSON string representation of a dictionary."},"image_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Base64","description":"Base64 encoded image string (without 'data:image/...;base64,' prefix)."}},"type":"object","required":["name"],"title":"CharacterCreate"},"CharacterImportResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"ID of the imported character"},"name":{"type":"string","title":"Name","description":"Name of the imported character"},"message":{"type":"string","title":"Message","description":"Import status message"},"character":{"anyOf":[{"$ref":"#/components/schemas/CharacterResponse"},{"type":"null"}],"description":"Full character details when available"}},"type":"object","required":["id","name","message"],"title":"CharacterImportResponse"},"CharacterResponse":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","examples":["A brave knight"]},"personality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personality","examples":["Stoic and honorable"]},"scenario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scenario","examples":["Guarding the ancient ruins"]},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","examples":["You are a helpful character."]},"post_history_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post History Instructions"},"first_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Message","examples":["Greetings, traveler!"]},"message_example":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message Example","examples":["<START>\nUSER: Hello\nASSISTANT: Hi there!\n<END>"]},"creator_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator Notes"},"alternate_greetings":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Alternate Greetings","description":"List of strings or a JSON string representation of a list.","examples":[["Hello!","Good day!"]]},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Tags","description":"List of strings or a JSON string representation of a list.","examples":[["fantasy","knight"]]},"creator":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator"},"character_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Character Version"},"extensions":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"string"},{"type":"null"}],"title":"Extensions","description":"Dictionary or a JSON string representation of a dictionary."},"image_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Base64","description":"Base64 encoded image string (without 'data:image/...;base64,' prefix)."},"id":{"type":"integer","title":"Id"},"version":{"type":"integer","title":"Version"},"image_present":{"type":"boolean","title":"Image Present","default":false}},"type":"object","required":["id","version"],"title":"CharacterResponse"},"CharacterUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","examples":["A brave knight"]},"personality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personality","examples":["Stoic and honorable"]},"scenario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Scenario","examples":["Guarding the ancient ruins"]},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","examples":["You are a helpful character."]},"post_history_instructions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post History Instructions"},"first_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Message","examples":["Greetings, traveler!"]},"message_example":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message Example","examples":["<START>\nUSER: Hello\nASSISTANT: Hi there!\n<END>"]},"creator_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator Notes"},"alternate_greetings":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Alternate Greetings","description":"List of strings or a JSON string representation of a list.","examples":[["Hello!","Good day!"]]},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Tags","description":"List of strings or a JSON string representation of a list.","examples":[["fantasy","knight"]]},"creator":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Creator"},"character_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Character Version"},"extensions":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"string"},{"type":"null"}],"title":"Extensions","description":"Dictionary or a JSON string representation of a dictionary."},"image_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Base64","description":"Base64 encoded image string (without 'data:image/...;base64,' prefix)."}},"type":"object","title":"CharacterUpdate"},"CharacterWorldBookAttachment":{"properties":{"world_book_id":{"type":"integer","title":"World Book Id","description":"World book ID to attach"},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the attachment is active","default":true},"priority":{"type":"integer","title":"Priority","description":"Priority for this character","default":0}},"type":"object","required":["world_book_id"],"title":"CharacterWorldBookAttachment","description":"Schema for attaching a world book to a character."},"CharacterWorldBookResponse":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name","description":"Unique world book name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"World book description"},"scan_depth":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Scan Depth","description":"How many messages to scan for keywords","default":3},"token_budget":{"type":"integer","maximum":5000.0,"minimum":50.0,"title":"Token Budget","description":"Maximum tokens to use for world info","default":500},"recursive_scanning":{"type":"boolean","title":"Recursive Scanning","description":"Whether to scan matched entries for more keywords","default":false},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the world book is active","default":true},"id":{"type":"integer","title":"Id","description":"World book ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Last modification timestamp"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"entry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entry Count","description":"Number of entries in the world book"},"world_book_id":{"type":"integer","title":"World Book Id","description":"World book ID (alias of id)"},"attachment_enabled":{"type":"boolean","title":"Attachment Enabled","description":"Whether attachment is enabled"},"attachment_priority":{"type":"integer","title":"Attachment Priority","description":"Priority for this character"}},"type":"object","required":["name","id","created_at","last_modified","version","world_book_id","attachment_enabled","attachment_priority"],"title":"CharacterWorldBookResponse","description":"Schema for world book attached to a character."},"ChatCommandInfo":{"properties":{"name":{"type":"string","title":"Name","description":"Command name without the leading slash"},"description":{"type":"string","title":"Description","description":"Brief description of what the command does"},"required_permission":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Required Permission","description":"Permission required to invoke this command when RBAC enforcement is enabled"}},"type":"object","required":["name","description"],"title":"ChatCommandInfo","description":"Represents a single slash command available to the user."},"ChatCommandsListResponse":{"properties":{"commands":{"items":{"$ref":"#/components/schemas/ChatCommandInfo"},"type":"array","title":"Commands","description":"List of available commands"}},"type":"object","required":["commands"],"title":"ChatCommandsListResponse","description":"Container for a list of available chat commands."},"ChatCompletionAssistantMessageParam":{"properties":{"role":{"type":"string","const":"assistant","title":"Role"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"An optional name for the participant. Provides the model information to differentiate between participants of the same role."},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"The contents of the assistant message. Required unless tool_calls or function_call is specified."},"tool_calls":{"anyOf":[{"items":{"$ref":"#/components/schemas/ChatCompletionMessageToolCallParam"},"type":"array"},{"type":"null"}],"title":"Tool Calls","description":"The tool calls generated by the model, such as function calls."},"function_call":{"anyOf":[{"$ref":"#/components/schemas/FunctionCall"},{"type":"null"}],"description":"Deprecated and replaced by `tool_calls`.","deprecated":true}},"type":"object","required":["role"],"title":"ChatCompletionAssistantMessageParam"},"ChatCompletionMessageToolCallParam":{"properties":{"id":{"type":"string","title":"Id","description":"The ID of the tool call."},"type":{"type":"string","const":"function","title":"Type","description":"The type of the tool. Currently, only `function` is supported."},"function":{"$ref":"#/components/schemas/FunctionDefinition","description":"The function that the model called."}},"type":"object","required":["id","type","function"],"title":"ChatCompletionMessageToolCallParam"},"ChatCompletionRequest":{"properties":{"api_provider":{"anyOf":[{"type":"string","enum":["bedrock","anthropic","cohere","deepseek","google","groq","qwen","huggingface","mistral","openai","openrouter","llama.cpp","kobold","ollama","ooba","tabbyapi","vllm","local-llm","custom-openai-api","custom-openai-api-2"]},{"type":"null"}],"title":"Api Provider","description":"[Extension] The target LLM provider (e.g., 'openai', 'anthropic'). If omitted, defaults to the server's configured default ('openai')."},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"ID of the model to use. Specific model compatibility depends on the selected `api_provider`."},"messages":{"items":{"anyOf":[{"$ref":"#/components/schemas/ChatCompletionSystemMessageParam"},{"$ref":"#/components/schemas/ChatCompletionUserMessageParam"},{"$ref":"#/components/schemas/ChatCompletionAssistantMessageParam"},{"$ref":"#/components/schemas/ChatCompletionToolMessageParam"}]},"type":"array","minItems":1,"title":"Messages","description":"A list of messages comprising the conversation so far."},"frequency_penalty":{"anyOf":[{"type":"number","maximum":2.0,"minimum":-2.0},{"type":"null"}],"title":"Frequency Penalty","description":"Frequency penalty parameter (provider support varies)."},"logit_bias":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Logit Bias","description":"Logit bias parameter (provider support varies)."},"logprobs":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Logprobs","description":"Whether to return log probabilities (provider support varies).","default":false},"top_logprobs":{"anyOf":[{"type":"integer","maximum":20.0,"minimum":0.0},{"type":"null"}],"title":"Top Logprobs","description":"Number of top log probabilities to return (provider support varies). `logprobs` must be true."},"max_tokens":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Max Tokens","description":"Maximum number of tokens to generate (provider support varies)."},"n":{"anyOf":[{"type":"integer","maximum":128.0,"minimum":1.0},{"type":"null"}],"title":"N","description":"Number of completions to generate (provider support varies).","default":1},"presence_penalty":{"anyOf":[{"type":"number","maximum":2.0,"minimum":-2.0},{"type":"null"}],"title":"Presence Penalty","description":"Presence penalty parameter (provider support varies)."},"response_format":{"anyOf":[{"$ref":"#/components/schemas/ResponseFormat"},{"type":"null"}],"description":"Response format specification (e.g., JSON mode, provider support varies)."},"seed":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Seed","description":"Seed for deterministic sampling (provider support varies)."},"stop":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Stop","description":"Stop sequences (provider support varies)."},"stream":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Stream","description":"Whether to stream the response.","default":false},"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature","description":"Sampling temperature (provider support varies)."},"top_p":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Top P","description":"Top-p (nucleus) sampling parameter (provider support varies)."},"tools":{"anyOf":[{"items":{"$ref":"#/components/schemas/ToolDefinition"},"type":"array","maxItems":128},{"type":"null"}],"title":"Tools","description":"Tools the model may call (provider support varies)."},"tool_choice":{"anyOf":[{"type":"string","enum":["none","auto","required"]},{"$ref":"#/components/schemas/ToolChoiceOption"},{"type":"null"}],"title":"Tool Choice","description":"Controls tool usage (provider support varies).","default":"auto"},"user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User","description":"End-user identifier for monitoring."},"slash_command_injection_mode":{"anyOf":[{"type":"string","enum":["system","preface","replace"]},{"type":"null"}],"title":"Slash Command Injection Mode","description":"[Extension] Override the server's slash command injection behavior for this request. Options: 'system' (default server behavior), 'preface', or 'replace'."},"history_message_limit":{"anyOf":[{"type":"integer","maximum":500.0,"minimum":1.0},{"type":"null"}],"title":"History Message Limit","description":"Optional override for the number of previous messages to load into context."},"history_message_order":{"anyOf":[{"type":"string","enum":["asc","desc"]},{"type":"null"}],"title":"History Message Order","description":"Optional override for history ordering: 'asc' for oldest first, 'desc' for newest first."},"extra_headers":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Extra Headers","description":"Provider-specific additional headers to include via the request body (e.g., Bedrock guardrails). For Bedrock, include keys: 'X-Amzn-Bedrock-GuardrailIdentifier', 'X-Amzn-Bedrock-GuardrailVersion', and optional 'X-Amzn-Bedrock-Trace'."},"extra_body":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extra Body","description":"Provider-specific extra body content. For Bedrock guardrails, include 'amazon-bedrock-guardrailConfig': { 'tagSuffix': '...'} if needed."},"minp":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Minp","description":"[Extension] Minimum probability threshold (provider specific)."},"topk":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Topk","description":"[Extension] Top-K sampling parameter (provider specific)."},"prompt_template_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt Template Name","description":"Name of the prompt template to apply. Must contain only alphanumeric characters, underscores, and hyphens."},"character_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Character Id","description":"Optional ID of the character to use for context."},"conversation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conversation Id","description":"Optional ID of the conversation to use for context."},"save_to_db":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Save To Db","description":"[Extension] If true, persist conversation and messages to the database. Defaults to false (ephemeral).","default":false}},"additionalProperties":true,"type":"object","required":["messages"],"title":"ChatCompletionRequest","description":"Model representing the request body for the /v1/chat/completions endpoint.\nActs as a proxy request, routing to different LLM providers.","example":{"api_provider":"openai","messages":[{"content":"Summarize the key points of this project.","role":"user"}],"model":"gpt-4o-mini","stream":false}},"ChatCompletionRequestMessageContentPartImage":{"properties":{"type":{"type":"string","const":"image_url","title":"Type"},"image_url":{"$ref":"#/components/schemas/ChatCompletionRequestMessageContentPartImageURL"}},"type":"object","required":["type","image_url"],"title":"ChatCompletionRequestMessageContentPartImage"},"ChatCompletionRequestMessageContentPartImageURL":{"properties":{"url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"string"}],"title":"Url","description":"Either a URL of the image or the base64 encoded image data."},"detail":{"anyOf":[{"type":"string","enum":["auto","low","high"]},{"type":"null"}],"title":"Detail","description":"Specifies the detail level of the image.","default":"auto"}},"type":"object","required":["url"],"title":"ChatCompletionRequestMessageContentPartImageURL"},"ChatCompletionRequestMessageContentPartText":{"properties":{"type":{"type":"string","const":"text","title":"Type"},"text":{"type":"string","title":"Text"}},"type":"object","required":["type","text"],"title":"ChatCompletionRequestMessageContentPartText"},"ChatCompletionSystemMessageParam":{"properties":{"role":{"type":"string","const":"system","title":"Role"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"An optional name for the participant. Provides the model information to differentiate between participants of the same role."},"content":{"type":"string","title":"Content"}},"type":"object","required":["role","content"],"title":"ChatCompletionSystemMessageParam"},"ChatCompletionToolMessageParam":{"properties":{"role":{"type":"string","const":"tool","title":"Role"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"An optional name for the participant. Provides the model information to differentiate between participants of the same role."},"content":{"type":"string","title":"Content","description":"The contents of the tool message."},"tool_call_id":{"type":"string","title":"Tool Call Id","description":"Tool call that this message is responding to."}},"type":"object","required":["role","content","tool_call_id"],"title":"ChatCompletionToolMessageParam"},"ChatCompletionUserMessageParam":{"properties":{"role":{"type":"string","const":"user","title":"Role"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"An optional name for the participant. Provides the model information to differentiate between participants of the same role."},"content":{"anyOf":[{"type":"string"},{"items":{"anyOf":[{"$ref":"#/components/schemas/ChatCompletionRequestMessageContentPartText"},{"$ref":"#/components/schemas/ChatCompletionRequestMessageContentPartImage"}]},"type":"array"}],"title":"Content"}},"type":"object","required":["role","content"],"title":"ChatCompletionUserMessageParam"},"ChatDictionaryCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Unique dictionary name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Dictionary description"}},"type":"object","required":["name"],"title":"ChatDictionaryCreate","description":"Schema for creating a chat dictionary."},"ChatDictionaryResponse":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Unique dictionary name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Dictionary description"},"is_active":{"type":"boolean","title":"Is Active","description":"Whether the dictionary is active","default":true},"id":{"type":"integer","title":"Id","description":"Dictionary ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Last update timestamp"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"entry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entry Count","description":"Number of entries in the dictionary"}},"type":"object","required":["name","id","created_at","updated_at","version"],"title":"ChatDictionaryResponse","description":"Schema for chat dictionary response."},"ChatDictionaryUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Name","description":"New dictionary name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"New description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","description":"New active status"}},"type":"object","title":"ChatDictionaryUpdate","description":"Schema for updating a chat dictionary."},"ChatDictionaryWithEntries":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Unique dictionary name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Dictionary description"},"is_active":{"type":"boolean","title":"Is Active","description":"Whether the dictionary is active","default":true},"id":{"type":"integer","title":"Id","description":"Dictionary ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Last update timestamp"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"entry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entry Count","description":"Number of entries in the dictionary"},"entries":{"items":{"$ref":"#/components/schemas/DictionaryEntryResponse"},"type":"array","title":"Entries","description":"Dictionary entries"}},"type":"object","required":["name","id","created_at","updated_at","version"],"title":"ChatDictionaryWithEntries","description":"Schema for chat dictionary with its entries."},"ChatSessionCreate":{"properties":{"character_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Character Id","description":"ID of the character for this chat"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title for the chat session"},"parent_conversation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Conversation Id","description":"Parent conversation ID for forked chats"}},"type":"object","required":["character_id"],"title":"ChatSessionCreate","description":"Schema for creating a new chat session.","example":{"character_id":1,"title":"Evening Chat with Assistant"}},"ChatSessionListResponse":{"properties":{"chats":{"items":{"$ref":"#/components/schemas/ChatSessionResponse"},"type":"array","title":"Chats","description":"List of chat sessions"},"total":{"type":"integer","title":"Total","description":"Total number of chats"},"limit":{"type":"integer","title":"Limit","description":"Number of items per page"},"offset":{"type":"integer","title":"Offset","description":"Offset for pagination"}},"type":"object","required":["chats","total","limit","offset"],"title":"ChatSessionListResponse","description":"Schema for listing chat sessions."},"ChatSessionResponse":{"properties":{"id":{"type":"string","title":"Id","description":"UUID of the chat session"},"character_id":{"type":"integer","title":"Character Id","description":"ID of the associated character"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Chat session title"},"rating":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rating","description":"User rating of the conversation"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Last modification timestamp"},"message_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Message Count","description":"Number of messages in the chat","default":0},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking","default":1}},"type":"object","required":["id","character_id","created_at","last_modified"],"title":"ChatSessionResponse","description":"Schema for chat session responses."},"ChatSessionUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"New title for the chat"},"rating":{"anyOf":[{"type":"integer","maximum":5.0,"minimum":1.0},{"type":"null"}],"title":"Rating","description":"Rating for the conversation"}},"type":"object","title":"ChatSessionUpdate","description":"Schema for updating a chat session.","example":{"rating":5,"title":"Updated Chat Title"}},"ChatbookManifestResponse":{"properties":{"version":{"$ref":"#/components/schemas/ChatbookVersion"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"export_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Export Id"},"content_items":{"items":{"$ref":"#/components/schemas/ContentItemResponse"},"type":"array","title":"Content Items"},"include_media":{"type":"boolean","title":"Include Media","default":false},"include_embeddings":{"type":"boolean","title":"Include Embeddings","default":false},"include_generated_content":{"type":"boolean","title":"Include Generated Content","default":true},"media_quality":{"type":"string","title":"Media Quality","default":"compressed"},"max_file_size_mb":{"type":"integer","title":"Max File Size Mb","default":100},"total_conversations":{"type":"integer","title":"Total Conversations","default":0},"total_notes":{"type":"integer","title":"Total Notes","default":0},"total_characters":{"type":"integer","title":"Total Characters","default":0},"total_media_items":{"type":"integer","title":"Total Media Items","default":0},"total_prompts":{"type":"integer","title":"Total Prompts","default":0},"total_evaluations":{"type":"integer","title":"Total Evaluations","default":0},"total_embeddings":{"type":"integer","title":"Total Embeddings","default":0},"total_world_books":{"type":"integer","title":"Total World Books","default":0},"total_dictionaries":{"type":"integer","title":"Total Dictionaries","default":0},"total_documents":{"type":"integer","title":"Total Documents","default":0},"total_size_bytes":{"type":"integer","title":"Total Size Bytes","default":0},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"categories":{"items":{"type":"string"},"type":"array","title":"Categories"},"language":{"type":"string","title":"Language","default":"en"},"license":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License"}},"type":"object","required":["version","name","description","created_at","updated_at"],"title":"ChatbookManifestResponse","description":"Chatbook manifest information."},"ChatbookVersion":{"type":"string","enum":["1.0.0","2.0.0"],"title":"ChatbookVersion","description":"Chatbook format versions (semantic)."},"ChunkedContentResponse":{"properties":{"text":{"type":"string","title":"Text"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"}},"type":"object","required":["text","metadata"],"title":"ChunkedContentResponse"},"ChunkingCapabilitiesResponse":{"properties":{"methods":{"items":{"type":"string"},"type":"array","title":"Methods"},"default_options":{"additionalProperties":true,"type":"object","title":"Default Options"},"llm_required_methods":{"items":{"type":"string"},"type":"array","title":"Llm Required Methods"},"hierarchical_support":{"type":"boolean","title":"Hierarchical Support"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"method_specific_options":{"anyOf":[{"$ref":"#/components/schemas/MethodSpecificOptions"},{"type":"null"}]}},"type":"object","required":["methods","default_options","llm_required_methods","hierarchical_support"],"title":"ChunkingCapabilitiesResponse"},"ChunkingOptionsRequest":{"properties":{"template_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Template Name","description":"Name of a chunking template to use. If specified, template settings override individual parameters."},"method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Method","description":"Chunking method (e.g., 'words', 'sentences', 'propositions', 'json', 'semantic', 'xml', 'ebook_chapters', 'rolling_summarize').","default":"words"},"max_size":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Max Size","description":"Max size of chunks. Must be > 0 if set.","default":400},"overlap":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Overlap","description":"Overlap between chunks. Must be >= 0 if set.","default":200},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Language of the text. Auto-detected if None.","default":"en"},"tokenizer_name_or_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tokenizer Name Or Path","description":"Tokenizer model name or path.","default":"gpt2"},"code_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Code Mode","description":"For method='code': select routing mode: 'auto' (default), 'ast', or 'heuristic'."},"adaptive":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Adaptive","description":"Enable adaptive chunk sizing.","default":false},"multi_level":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Multi Level","description":"Enable multi-level chunking.","default":false},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern","description":"Custom regex for 'ebook_chapters' method."},"semantic_similarity_threshold":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Semantic Similarity Threshold","description":"Similarity threshold for 'semantic' chunking.","default":0.7},"semantic_overlap_sentences":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Semantic Overlap Sentences","description":"Sentence overlap for 'semantic' chunking.","default":2},"json_chunkable_data_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Json Chunkable Data Key","description":"Key in JSON object whose dict value should be chunked.","default":"data"},"enable_frontmatter_parsing":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enable Frontmatter Parsing","description":"Toggle JSON frontmatter extraction when sentinel key is present.","default":true},"frontmatter_sentinel_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Frontmatter Sentinel Key","description":"Sentinel key required inside JSON frontmatter to permit extraction.","default":"__tldw_frontmatter__"},"summarization_detail":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Summarization Detail","description":"Detail level for 'rolling_summarize' (0.0-1.0).","default":0.5},"proposition_engine":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Proposition Engine","description":"Engine for propositions: 'heuristic' | 'spacy' | 'llm' | 'auto'.","default":"heuristic"},"proposition_aggressiveness":{"anyOf":[{"type":"integer","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Proposition Aggressiveness","description":"Aggressiveness for heuristic splitting: 0..2.","default":1},"proposition_min_proposition_length":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Proposition Min Proposition Length","description":"Min chars before merging short propositions.","default":15},"proposition_prompt_profile":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Proposition Prompt Profile","description":"Prompt profile for LLM engine: 'generic' | 'claimify' | 'gemma_aps'.","default":"generic"},"llm_options_for_internal_steps":{"anyOf":[{"$ref":"#/components/schemas/LLMOptionsForChunkerInternalSteps"},{"type":"null"}],"description":"Advanced: Client suggestions for LLM configurations (e.g., temperature, step-specific prompts/tokens) if the selected chunking method uses an LLM internally. Provider and Model are server-determined for these steps."}},"type":"object","title":"ChunkingOptionsRequest"},"ChunkingResponse":{"properties":{"chunks":{"items":{"$ref":"#/components/schemas/ChunkedContentResponse"},"type":"array","title":"Chunks"},"original_file_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original File Name"},"applied_options":{"$ref":"#/components/schemas/ChunkingOptionsRequest"}},"type":"object","required":["chunks","original_file_name","applied_options"],"title":"ChunkingResponse"},"ChunkingSweepConfig":{"properties":{"method":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Method","description":"Chunking method: structure_aware, sentences, markdown, code, xml"},"chunk_size":{"anyOf":[{"type":"integer"},{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Chunk Size","description":"Chunk size(s)"},"overlap":{"anyOf":[{"type":"integer"},{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Overlap","description":"Chunk overlap(s)"},"structure_aware":{"anyOf":[{"type":"boolean"},{"items":{"type":"boolean"},"type":"array"},{"type":"null"}],"title":"Structure Aware"},"parent_expansion":{"anyOf":[{"type":"boolean"},{"items":{"type":"boolean"},"type":"array"},{"type":"null"}],"title":"Parent Expansion"},"include_siblings":{"anyOf":[{"type":"boolean"},{"items":{"type":"boolean"},"type":"array"},{"type":"null"}],"title":"Include Siblings"},"chunk_type_filters":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Chunk Type Filters","description":"Optional chunk type filters (e.g., ['code','text'])"}},"type":"object","title":"ChunkingSweepConfig","description":"Retrieval-time chunking parameters to sweep via unified_rag_pipeline flags."},"ChunkingTemplateCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Template name (must be unique)"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Template description"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Tags for categorization"},"template":{"$ref":"#/components/schemas/TemplateConfig","description":"Template configuration"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"User ID for ownership tracking"}},"type":"object","required":["name","template"],"title":"ChunkingTemplateCreate","description":"Schema for creating a new chunking template."},"ChunkingTemplateListResponse":{"properties":{"templates":{"items":{"$ref":"#/components/schemas/ChunkingTemplateResponse"},"type":"array","title":"Templates","description":"List of chunking templates"},"total":{"type":"integer","title":"Total","description":"Total number of templates"}},"type":"object","required":["templates","total"],"title":"ChunkingTemplateListResponse","description":"Response schema for listing chunking templates."},"ChunkingTemplateResponse":{"properties":{"name":{"type":"string","title":"Name","description":"Template name (must be unique)"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Template description"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Tags for categorization"},"id":{"type":"integer","title":"Id","description":"Template database ID"},"uuid":{"type":"string","title":"Uuid","description":"Template UUID"},"template_json":{"type":"string","title":"Template Json","description":"Template configuration as JSON string"},"is_builtin":{"type":"boolean","title":"Is Builtin","description":"Whether this is a built-in template","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Last update timestamp"},"version":{"type":"integer","title":"Version","description":"Template version number","default":1},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"User ID of template owner"}},"type":"object","required":["name","id","uuid","template_json","created_at","updated_at"],"title":"ChunkingTemplateResponse","description":"Schema for chunking template response."},"ChunkingTemplateUpdate":{"properties":{"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"New template description"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"New tags list"},"template":{"anyOf":[{"$ref":"#/components/schemas/TemplateConfig"},{"type":"null"}],"description":"New template configuration"}},"type":"object","title":"ChunkingTemplateUpdate","description":"Schema for updating an existing chunking template."},"ChunkingTextRequest":{"properties":{"text_content":{"type":"string","title":"Text Content","description":"Text content to be chunked."},"file_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Name","description":"Optional name for the input.","default":"input_text.txt"},"options":{"anyOf":[{"$ref":"#/components/schemas/ChunkingOptionsRequest"},{"type":"null"}],"description":"Chunking parameters."}},"type":"object","required":["text_content"],"title":"ChunkingTextRequest"},"CleanupExpiredExportsResponse":{"properties":{"deleted_count":{"type":"integer","title":"Deleted Count"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["deleted_count"],"title":"CleanupExpiredExportsResponse","description":"Response for cleanup operation."},"ClientChangesPayload":{"properties":{"client_id":{"type":"string","title":"Client Id","description":"The unique ID of the client device sending these changes."},"changes":{"items":{"$ref":"#/components/schemas/SyncLogEntry"},"type":"array","title":"Changes","description":"A list of sync log entries representing local changes made on the client."},"last_processed_server_id":{"type":"integer","title":"Last Processed Server Id","description":"The 'change_id' of the last entry received from the server that this client successfully processed. Helps server determine delta.","default":0}},"type":"object","required":["client_id","changes"],"title":"ClientChangesPayload","description":"The payload sent by a client containing its local changes.\nCorresponds to the request body for the /sync/send endpoint.","example":{"changes":[{"change_id":55,"client_id":"client_xyz_789","entity":"Keywords","entity_uuid":"a1b2c3d4-e5f6-7890-1234-567890abcdef","operation":"create","payload":"{\"uuid\": \"a1b2c3d4-e5f6-7890-1234-567890abcdef\", \"keyword\": \"new sync tag\", ...}","timestamp":"2023-10-27T11:00:00Z","version":1}],"client_id":"client_xyz_789","last_processed_server_id":12340}},"CodeMethodOptions":{"properties":{"code_mode":{"items":{"type":"string"},"type":"array","title":"Code Mode","description":"Supported values for option 'code_mode' when method='code'"},"language_hints":{"additionalProperties":{"type":"string"},"type":"object","title":"Language Hints","description":"Filename extension to language mapping hints"}},"type":"object","required":["code_mode","language_hints"],"title":"CodeMethodOptions"},"CollectionCreateRequest":{"properties":{"name":{"type":"string","minLength":1,"title":"Name","description":"Collection name"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Collection metadata"},"embedding_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model","description":"Embedding model to associate"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider","description":"Provider override for dimension detection"}},"type":"object","required":["name"],"title":"CollectionCreateRequest"},"CollectionResponse":{"properties":{"name":{"type":"string","title":"Name"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"}},"type":"object","required":["name"],"title":"CollectionResponse"},"CollectionStatsResponse":{"properties":{"name":{"type":"string","title":"Name"},"count":{"type":"integer","title":"Count"},"embedding_dimension":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Embedding Dimension"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"}},"type":"object","required":["name","count"],"title":"CollectionStatsResponse"},"CompactorRunRequest":{"properties":{"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"Target user_id; defaults to current admin in single-user mode"},"media_db_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Db Path","description":"Override path to Media_DB_v2.db; defaults to settings"}},"type":"object","title":"CompactorRunRequest"},"CompactorRunResponse":{"properties":{"user_id":{"type":"string","title":"User Id"},"collections_touched":{"type":"integer","title":"Collections Touched"},"ts":{"type":"number","title":"Ts"}},"type":"object","required":["user_id","collections_touched","ts"],"title":"CompactorRunResponse"},"CompareStrategiesRequest":{"properties":{"prompt_id":{"type":"integer","title":"Prompt Id","description":"Prompt to optimize"},"project_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id","description":"Project ID (optional; inferred from prompt if omitted)"},"test_case_ids":{"items":{"type":"integer"},"type":"array","title":"Test Case Ids","description":"Test cases for evaluation"},"strategies":{"items":{"type":"string"},"type":"array","title":"Strategies","description":"Strategies to compare"},"config":{"additionalProperties":true,"type":"object","title":"Config","description":"Model configuration"}},"additionalProperties":false,"type":"object","required":["prompt_id","test_case_ids","strategies"],"title":"CompareStrategiesRequest","description":"Request model for comparing optimization strategies."},"ConfigUpdates":{"properties":{"updates":{"additionalProperties":{"additionalProperties":true,"type":"object"},"type":"object","title":"Updates","description":"Mapping of section -> key/value pairs to persist in config.txt"}},"type":"object","required":["updates"],"title":"ConfigUpdates"},"ConflictResolution":{"type":"string","enum":["skip","overwrite","rename","merge"],"title":"ConflictResolution","description":"How to handle conflicts during import."},"ContentItemResponse":{"properties":{"id":{"type":"string","title":"Id"},"type":{"$ref":"#/components/schemas/ContentType"},"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"},"file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Path"},"checksum":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Checksum"}},"type":"object","required":["id","type","title"],"title":"ContentItemResponse","description":"Individual content item in a chatbook."},"ContentType":{"type":"string","enum":["conversation","note","character","media","embedding","prompt","evaluation","world_book","dictionary","generated_document"],"title":"ContentType","description":"Types of content that can be included in a chatbook."},"CreateChatbookRequest":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the chatbook"},"description":{"type":"string","title":"Description","description":"Description of the chatbook"},"content_selections":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ContentType"},"type":"object","title":"Content Selections","description":"Content to include by type and IDs"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Author name"},"include_media":{"type":"boolean","title":"Include Media","description":"Include media files","default":false},"media_quality":{"type":"string","title":"Media Quality","description":"Media quality level (thumbnail/compressed/original)","default":"compressed"},"include_embeddings":{"type":"boolean","title":"Include Embeddings","description":"Include embeddings","default":false},"include_generated_content":{"type":"boolean","title":"Include Generated Content","description":"Include generated documents","default":true},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","description":"Chatbook tags"},"categories":{"items":{"type":"string"},"type":"array","title":"Categories","description":"Chatbook categories"},"async_mode":{"type":"boolean","title":"Async Mode","description":"Run as background job","default":false}},"type":"object","required":["name","description","content_selections"],"title":"CreateChatbookRequest","description":"Request for creating a chatbook.","example":{"async_mode":false,"author":"Jane Doe","categories":["Work"],"content_selections":{"character":["char001"],"conversation":["conv123","conv456"],"note":["note789"]},"description":"Collection of research conversations and notes","include_embeddings":false,"include_generated_content":true,"include_media":false,"media_quality":"compressed","name":"My Research Chatbook","tags":["research","AI"]}},"CreateChatbookResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"job_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Id","description":"Job ID if async mode"},"file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Path","description":"File path if sync mode"},"download_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Download Url","description":"Download URL if sync mode"}},"type":"object","required":["success","message"],"title":"CreateChatbookResponse","description":"Response for chatbook creation."},"CreateDatasetRequest":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"samples":{"items":{"$ref":"#/components/schemas/DatasetSample"},"type":"array","minItems":1,"title":"Samples"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["name","samples"],"title":"CreateDatasetRequest","description":"Create dataset request"},"CreateEmbeddingRequest":{"properties":{"input":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"items":{"type":"integer"},"type":"array"},{"items":{"items":{"type":"integer"},"type":"array"},"type":"array"}],"title":"Input","description":"Input text to embed, encoded as a string or array of tokens. To embed multiple inputs in a single request, pass an array of strings or array of token arrays. The input must not exceed the max input tokens for the model (8192 tokens for `text-embedding-ada-002`), cannot be an empty string, and any array must be 2048 dimensions or less.","examples":["The food was delicious and the waiter..."]},"model":{"type":"string","title":"Model","description":"ID of the model to use. You can use the [List models](/docs/api-reference/models/list) API to see all of your available models, or see our [Model overview](/docs/models) for descriptions of them.","examples":["text-embedding-ada-002"]},"encoding_format":{"anyOf":[{"type":"string","enum":["float","base64"]},{"type":"null"}],"title":"Encoding Format","description":"The format to return the embeddings in. Can be either `float` or `base64`.","default":"float"},"dimensions":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Dimensions","description":"The number of dimensions the resulting output embeddings should have. Only supported in `text-embedding-3` and later models."},"user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User","description":"A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse."}},"additionalProperties":false,"type":"object","required":["input","model"],"title":"CreateEmbeddingRequest","example":{"encoding_format":"float","input":"The food was delicious and the waiter was friendly.","model":"text-embedding-ada-002"}},"CreateEmbeddingResponse":{"properties":{"object":{"type":"string","const":"list","title":"Object","default":"list"},"data":{"items":{"$ref":"#/components/schemas/EmbeddingData"},"type":"array","title":"Data","description":"The list of embeddings generated by the model."},"model":{"type":"string","title":"Model","description":"The model ID used to generate the embeddings."},"usage":{"$ref":"#/components/schemas/EmbeddingUsage","description":"The usage information for the request."}},"type":"object","required":["data","model","usage"],"title":"CreateEmbeddingResponse"},"CreateEvaluationRequest":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Unique evaluation name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"eval_type":{"$ref":"#/components/schemas/EvaluationType","description":"Type of evaluation"},"eval_spec":{"$ref":"#/components/schemas/EvaluationSpec"},"dataset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset Id","description":"Reference to existing dataset"},"dataset":{"anyOf":[{"items":{"$ref":"#/components/schemas/DatasetSample"},"type":"array"},{"type":"null"}],"title":"Dataset","description":"Inline dataset"},"metadata":{"anyOf":[{"$ref":"#/components/schemas/EvaluationMetadata"},{"type":"null"}]}},"type":"object","required":["name","eval_type","eval_spec"],"title":"CreateEvaluationRequest","description":"Create evaluation request (OpenAI-compatible)"},"CreateFromMediaRequest":{"properties":{"store_name":{"type":"string","title":"Store Name"},"dimensions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dimensions"},"embedding_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model"},"media_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Media Ids"},"keywords":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keywords"},"keyword_match":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Keyword Match","description":"How to match multiple keywords: 'any' (union) or 'all' (intersection).","default":"any"},"chunk_size":{"type":"integer","title":"Chunk Size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","default":100},"chunk_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method","default":"words"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"},"update_existing_store_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Update Existing Store Id"},"use_existing_embeddings":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Existing Embeddings","default":false}},"type":"object","required":["store_name"],"title":"CreateFromMediaRequest"},"CreatePromptCompatRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Details"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"user_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Prompt"},"keywords":{"items":{"type":"string"},"type":"array","title":"Keywords"}},"additionalProperties":false,"type":"object","title":"CreatePromptCompatRequest","description":"Alias for legacy create payload (compat route)."},"CreateRunRequest":{"properties":{"target_model":{"type":"string","title":"Target Model","description":"Model to evaluate"},"dataset_override":{"anyOf":[{"$ref":"#/components/schemas/DatasetSample"},{"type":"null"}]},"config":{"anyOf":[{"$ref":"#/components/schemas/RunConfig"},{"type":"null"}]},"webhook_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Webhook Url"}},"type":"object","required":["target_model"],"title":"CreateRunRequest","description":"Create run request"},"CreateRunSimpleRequest":{"properties":{"target_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Target Model","description":"Model to evaluate"},"config":{"additionalProperties":true,"type":"object","title":"Config","description":"Run configuration (free-form)"},"webhook_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook Url","description":"Optional webhook URL for run events"}},"additionalProperties":false,"type":"object","title":"CreateRunSimpleRequest","description":"Create run request for CRUD endpoint.\n\nRelaxed variant that allows free-form config while forbidding extra top-level keys."},"DLQRequeueBulkRequest":{"properties":{"stage":{"type":"string","title":"Stage"},"entry_ids":{"items":{"type":"string"},"type":"array","title":"Entry Ids"},"delete_from_dlq":{"type":"boolean","title":"Delete From Dlq","default":true},"override_fields":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Override Fields"}},"type":"object","required":["stage","entry_ids"],"title":"DLQRequeueBulkRequest"},"DLQRequeueRequest":{"properties":{"stage":{"type":"string","title":"Stage","description":"Stage: chunking|embedding|storage"},"entry_id":{"type":"string","title":"Entry Id","description":"Redis stream entry ID"},"delete_from_dlq":{"type":"boolean","title":"Delete From Dlq","default":true},"override_fields":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Override Fields","description":"Optional field overrides before requeue"}},"type":"object","required":["stage","entry_id"],"title":"DLQRequeueRequest"},"DLQStateSetRequest":{"properties":{"stage":{"type":"string","title":"Stage"},"entry_id":{"type":"string","title":"Entry Id"},"state":{"type":"string","title":"State"},"operator_note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Operator Note"}},"type":"object","required":["stage","entry_id","state"],"title":"DLQStateSetRequest"},"DatasetListResponse":{"properties":{"object":{"type":"string","title":"Object","default":"list"},"has_more":{"type":"boolean","title":"Has More","default":false},"first_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Id"},"last_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Id"},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total","description":"Total items available (if known)"},"data":{"items":{"$ref":"#/components/schemas/DatasetResponse"},"type":"array","title":"Data"}},"type":"object","required":["data"],"title":"DatasetListResponse","description":"Dataset list response"},"DatasetResponse":{"properties":{"id":{"type":"string","title":"Id"},"object":{"type":"string","title":"Object","default":"dataset"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"sample_count":{"type":"integer","title":"Sample Count"},"samples":{"anyOf":[{"items":{"$ref":"#/components/schemas/DatasetSample"},"type":"array"},{"type":"null"}],"title":"Samples","description":"Dataset samples"},"created":{"type":"integer","title":"Created","description":"Creation timestamp (OpenAI-compatible)"},"created_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created At","description":"Creation timestamp (tldw-compatible)"},"created_by":{"type":"string","title":"Created By"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["id","name","sample_count","created","created_by"],"title":"DatasetResponse","description":"Dataset response"},"DatasetSample":{"properties":{"input":{"title":"Input","description":"Input data"},"expected":{"anyOf":[{},{"type":"null"}],"title":"Expected","description":"Expected output"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["input"],"title":"DatasetSample","description":"Dataset sample"},"DebugSchemaResponse":{"properties":{"tables":{"items":{"type":"string"},"type":"array","title":"Tables","description":"List of tables found in the database."},"media_columns":{"items":{"type":"string"},"type":"array","title":"Media Columns","description":"List of column names in the 'Media' table."},"media_mods_columns":{"items":{"type":"string"},"type":"array","title":"Media Mods Columns","description":"List of column names in the 'MediaModifications' table."},"media_count":{"type":"integer","title":"Media Count","description":"Total number of rows in the 'Media' table."}},"type":"object","required":["tables","media_columns","media_mods_columns","media_count"],"title":"DebugSchemaResponse","description":"Response model for the debug schema endpoint."},"Deck":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"last_modified":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Modified"},"deleted":{"type":"boolean","title":"Deleted"},"client_id":{"type":"string","title":"Client Id"},"version":{"type":"integer","title":"Version"}},"type":"object","required":["id","name","deleted","client_id","version"],"title":"Deck"},"DeckCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Deck name (unique)"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Deck description"}},"type":"object","required":["name"],"title":"DeckCreate"},"DeleteByFilterRequest":{"properties":{"filter":{"additionalProperties":true,"type":"object","title":"Filter","description":"Metadata filter expression"}},"type":"object","required":["filter"],"title":"DeleteByFilterRequest"},"DeletionResponse":{"properties":{"message":{"type":"string","title":"Message"},"character_id":{"type":"integer","title":"Character Id"}},"type":"object","required":["message","character_id"],"title":"DeletionResponse"},"DetailResponse":{"properties":{"detail":{"type":"string","title":"Detail"}},"type":"object","required":["detail"],"title":"DetailResponse"},"DictionaryEntryCreate":{"properties":{"pattern":{"type":"string","minLength":1,"title":"Pattern","description":"Pattern to match (literal or regex)"},"replacement":{"type":"string","title":"Replacement","description":"Replacement text"},"probability":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Probability","description":"Chance of replacement (0.0-1.0)","default":1.0},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"Optional group name for organization"},"timed_effects":{"anyOf":[{"$ref":"#/components/schemas/TimedEffects"},{"type":"null"}],"description":"Timing effects configuration"},"max_replacements":{"type":"integer","minimum":0.0,"title":"Max Replacements","description":"Maximum replacements per processing (0 = unlimited)","default":0},"type":{"type":"string","pattern":"^(literal|regex)$","title":"Type","description":"Entry type","default":"literal"},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the entry is enabled","default":true},"case_sensitive":{"type":"boolean","title":"Case Sensitive","description":"Case-sensitive matching for literal patterns","default":true}},"type":"object","required":["pattern","replacement"],"title":"DictionaryEntryCreate","description":"Schema for creating a dictionary entry."},"DictionaryEntryResponse":{"properties":{"pattern":{"type":"string","minLength":1,"title":"Pattern","description":"Pattern to match (literal or regex)"},"replacement":{"type":"string","title":"Replacement","description":"Replacement text"},"probability":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Probability","description":"Chance of replacement (0.0-1.0)","default":1.0},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"Optional group name for organization"},"timed_effects":{"anyOf":[{"$ref":"#/components/schemas/TimedEffects"},{"type":"null"}],"description":"Timing effects configuration"},"max_replacements":{"type":"integer","minimum":0.0,"title":"Max Replacements","description":"Maximum replacements per processing (0 = unlimited)","default":0},"id":{"type":"integer","title":"Id","description":"Entry ID"},"dictionary_id":{"type":"integer","title":"Dictionary Id","description":"Parent dictionary ID"},"type":{"type":"string","title":"Type","description":"Entry type"},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the entry is enabled"},"case_sensitive":{"type":"boolean","title":"Case Sensitive","description":"Case-sensitive matching for literal patterns"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Last update timestamp"}},"type":"object","required":["pattern","replacement","id","dictionary_id","type","enabled","case_sensitive","created_at","updated_at"],"title":"DictionaryEntryResponse","description":"Schema for dictionary entry response."},"DictionaryEntryUpdate":{"properties":{"pattern":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Pattern","description":"New pattern to match"},"replacement":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Replacement","description":"New replacement text"},"probability":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Probability","description":"New probability (0.0-1.0)"},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"New group name"},"timed_effects":{"anyOf":[{"$ref":"#/components/schemas/TimedEffects"},{"type":"null"}],"description":"New timing effects"},"max_replacements":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Max Replacements","description":"New max replacements (0 = unlimited)"},"type":{"anyOf":[{"type":"string","pattern":"^(literal|regex)$"},{"type":"null"}],"title":"Type","description":"Entry type"},"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","description":"Whether the entry is enabled"},"case_sensitive":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Case Sensitive","description":"Case-sensitive matching for literal patterns"}},"type":"object","title":"DictionaryEntryUpdate","description":"Schema for updating a dictionary entry."},"DictionaryListResponse":{"properties":{"dictionaries":{"items":{"$ref":"#/components/schemas/ChatDictionaryResponse"},"type":"array","title":"Dictionaries","description":"List of dictionaries"},"total":{"type":"integer","title":"Total","description":"Total number of dictionaries"},"active_count":{"type":"integer","title":"Active Count","description":"Number of active dictionaries"},"inactive_count":{"type":"integer","title":"Inactive Count","description":"Number of inactive dictionaries"}},"type":"object","required":["dictionaries","total","active_count","inactive_count"],"title":"DictionaryListResponse","description":"Response schema for listing dictionaries."},"DictionaryStatistics":{"properties":{"dictionary_id":{"type":"integer","title":"Dictionary Id","description":"Dictionary ID"},"name":{"type":"string","title":"Name","description":"Dictionary name"},"total_entries":{"type":"integer","title":"Total Entries","description":"Total number of entries"},"regex_entries":{"type":"integer","title":"Regex Entries","description":"Number of regex entries"},"literal_entries":{"type":"integer","title":"Literal Entries","description":"Number of literal entries"},"groups":{"items":{"type":"string"},"type":"array","title":"Groups","description":"List of unique groups"},"average_probability":{"type":"number","title":"Average Probability","description":"Average replacement probability"},"total_usage_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Usage Count","description":"Total times used (if tracked)"},"last_used":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used","description":"Last usage timestamp (if tracked)"}},"type":"object","required":["dictionary_id","name","total_entries","regex_entries","literal_entries","groups","average_probability"],"title":"DictionaryStatistics","description":"Statistics for a dictionary."},"DocumentListResponse":{"properties":{"documents":{"items":{"$ref":"#/components/schemas/GeneratedDocument"},"type":"array","title":"Documents","description":"List of generated documents"},"total":{"type":"integer","title":"Total","description":"Total number of documents"},"conversation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conversation Id","description":"Conversation ID if filtered"},"document_type":{"anyOf":[{"$ref":"#/components/schemas/DocumentType"},{"type":"null"}],"description":"Document type if filtered"}},"type":"object","required":["documents","total"],"title":"DocumentListResponse","description":"Response schema for listing generated documents."},"DocumentType":{"type":"string","enum":["timeline","study_guide","briefing","summary","q_and_a","meeting_notes"],"title":"DocumentType","description":"Enumeration of supported document types."},"DuplicateStoreRequest":{"properties":{"new_name":{"type":"string","title":"New Name","description":"Name for the duplicated store"},"dimensions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dimensions"}},"type":"object","required":["new_name"],"title":"DuplicateStoreRequest","examples":[{"dimensions":1536,"new_name":"CopyOfStore"}]},"EdgeType":{"type":"string","enum":["manual","wikilink","backlink","tag_membership","source_membership"],"title":"EdgeType"},"EffectivePermissionsResponse":{"properties":{"user_id":{"type":"integer","title":"User Id"},"permissions":{"items":{"type":"string"},"type":"array","title":"Permissions"}},"type":"object","required":["user_id","permissions"],"title":"EffectivePermissionsResponse"},"EmbeddingData":{"properties":{"object":{"type":"string","const":"embedding","title":"Object","default":"embedding"},"embedding":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"string"}],"title":"Embedding","description":"The embedding vector, which is a list of floats or a base64-encoded string. The length of vector depends on the model."},"index":{"type":"integer","title":"Index","description":"The index of the embedding in the list of embeddings."}},"type":"object","required":["embedding","index"],"title":"EmbeddingData"},"EmbeddingUsage":{"properties":{"prompt_tokens":{"type":"integer","title":"Prompt Tokens","description":"The number of tokens used by the prompt."},"total_tokens":{"type":"integer","title":"Total Tokens","description":"The total number of tokens used by the request."}},"type":"object","required":["prompt_tokens","total_tokens"],"title":"EmbeddingUsage"},"EmbeddingsABTestConfig":{"properties":{"arms":{"items":{"$ref":"#/components/schemas/ABTestArm"},"type":"array","minItems":1,"title":"Arms","description":"Embedding models to compare"},"media_ids":{"items":{"type":"integer"},"type":"array","minItems":0,"title":"Media Ids","description":"Media IDs to build the corpus from"},"chunking":{"anyOf":[{"$ref":"#/components/schemas/ABTestChunking"},{"type":"null"}]},"retrieval":{"$ref":"#/components/schemas/ABTestRetrieval"},"queries":{"items":{"$ref":"#/components/schemas/ABTestQuery"},"type":"array","minItems":1,"title":"Queries","description":"Queries to evaluate"},"metric_level":{"anyOf":[{"type":"string","enum":["media","chunk"]},{"type":"null"}],"title":"Metric Level","description":"Metric granularity","default":"media"},"limits":{"anyOf":[{"$ref":"#/components/schemas/ABTestLimits"},{"type":"null"}]},"reuse_existing":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Reuse Existing","description":"Reuse matching collections if available","default":true},"cleanup_policy":{"anyOf":[{"$ref":"#/components/schemas/ABTestCleanupPolicy"},{"type":"null"}]}},"additionalProperties":false,"type":"object","required":["arms","retrieval","queries"],"title":"EmbeddingsABTestConfig"},"EmbeddingsABTestCreateRequest":{"properties":{"name":{"type":"string","title":"Name"},"config":{"$ref":"#/components/schemas/EmbeddingsABTestConfig"},"run_immediately":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Run Immediately","default":false}},"additionalProperties":false,"type":"object","required":["name","config"],"title":"EmbeddingsABTestCreateRequest"},"EmbeddingsABTestCreateResponse":{"properties":{"test_id":{"type":"string","title":"Test Id"},"status":{"type":"string","enum":["pending","created"],"title":"Status","default":"created"}},"type":"object","required":["test_id"],"title":"EmbeddingsABTestCreateResponse"},"EmbeddingsABTestResultSummary":{"properties":{"test_id":{"type":"string","title":"Test Id"},"status":{"type":"string","enum":["pending","running","completed","failed","canceled"],"title":"Status"},"arms":{"items":{"$ref":"#/components/schemas/ArmSummary"},"type":"array","title":"Arms"},"per_query":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Per Query"}},"type":"object","required":["test_id","status"],"title":"EmbeddingsABTestResultSummary"},"EmbeddingsABTestResultsResponse":{"properties":{"summary":{"$ref":"#/components/schemas/EmbeddingsABTestResultSummary"},"page":{"type":"integer","title":"Page","default":1},"page_size":{"type":"integer","title":"Page Size","default":50},"total":{"type":"integer","title":"Total","default":0}},"type":"object","required":["summary"],"title":"EmbeddingsABTestResultsResponse"},"EmbeddingsABTestRunRequest":{"properties":{"config":{"$ref":"#/components/schemas/EmbeddingsABTestConfig"}},"additionalProperties":false,"type":"object","required":["config"],"title":"EmbeddingsABTestRunRequest","description":"Run request wrapper to enforce validation at the boundary.\n\nKeep strict extra='forbid' and carry the full AB test config."},"EmbeddingsABTestStatusResponse":{"properties":{"test_id":{"type":"string","title":"Test Id"},"status":{"type":"string","enum":["pending","running","completed","failed","canceled"],"title":"Status"},"progress":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Progress"}},"type":"object","required":["test_id","status"],"title":"EmbeddingsABTestStatusResponse"},"EmbeddingsBatchRequest":{"properties":{"texts":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Texts","description":"Texts to embed"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Embedding model identifier"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider","description":"Embedding provider override"},"dimensions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dimensions","description":"Requested output dimensions if supported"},"batch_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Batch Size","description":"Hint for provider batch sizing"}},"type":"object","required":["texts"],"title":"EmbeddingsBatchRequest"},"EmbeddingsBatchResponse":{"properties":{"embeddings":{"items":{"items":{"type":"number"},"type":"array"},"type":"array","title":"Embeddings"},"model":{"type":"string","title":"Model"},"provider":{"type":"string","title":"Provider"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["embeddings","model","provider","count"],"title":"EmbeddingsBatchResponse"},"EmbeddingsInstall":{"properties":{"huggingface":{"items":{"type":"string"},"type":"array","title":"Huggingface"},"custom":{"items":{"type":"string"},"type":"array","title":"Custom"},"onnx":{"items":{"type":"string"},"type":"array","title":"Onnx"}},"type":"object","title":"EmbeddingsInstall"},"EmbeddingsSearchRequest":{"properties":{"query":{"type":"string","title":"Query","description":"Query text to embed and search with"},"top_k":{"type":"integer","maximum":100.0,"exclusiveMinimum":0.0,"title":"Top K","description":"Number of nearest results to return","default":5},"collection":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Collection","description":"Target collection to search"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"},"filters":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Filters","description":"Optional metadata filters"}},"type":"object","required":["query"],"title":"EmbeddingsSearchRequest"},"EmbeddingsSearchResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/EmbeddingsSearchResult"},"type":"array","title":"Results"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["results","count"],"title":"EmbeddingsSearchResponse"},"EmbeddingsSearchResult":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"document":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"},"distance":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Distance"}},"type":"object","required":["id","document"],"title":"EmbeddingsSearchResult"},"EmbeddingsStatusResponse":{"properties":{"media_id":{"type":"integer","title":"Media Id"},"has_embeddings":{"type":"boolean","title":"Has Embeddings"},"embedding_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Embedding Count"},"embedding_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model"},"last_generated":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Generated"}},"type":"object","required":["media_id","has_embeddings"],"title":"EmbeddingsStatusResponse","description":"Response model for embedding status"},"EvaluationConfig":{"properties":{"model_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Model Name"},"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature"},"max_tokens":{"anyOf":[{"type":"integer","maximum":100000.0,"minimum":1.0},{"type":"null"}],"title":"Max Tokens"},"top_p":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Top P"},"frequency_penalty":{"anyOf":[{"type":"number","maximum":2.0,"minimum":-2.0},{"type":"null"}],"title":"Frequency Penalty"},"presence_penalty":{"anyOf":[{"type":"number","maximum":2.0,"minimum":-2.0},{"type":"null"}],"title":"Presence Penalty"},"api_endpoint":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Api Endpoint"},"api_key_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Api Key Name"},"timeout_seconds":{"anyOf":[{"type":"integer","maximum":3600.0,"minimum":1.0},{"type":"null"}],"title":"Timeout Seconds"},"retry_count":{"anyOf":[{"type":"integer","maximum":10.0,"minimum":0.0},{"type":"null"}],"title":"Retry Count"},"parallel_requests":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Parallel Requests"}},"type":"object","title":"EvaluationConfig","description":"Configuration for evaluation"},"EvaluationCreate":{"properties":{"project_id":{"type":"integer","title":"Project Id","description":"Project ID"},"prompt_id":{"type":"integer","title":"Prompt Id","description":"Prompt ID to evaluate"},"test_run_id":{"anyOf":[{"type":"integer"},{"type":"string"},{"type":"null"}],"title":"Test Run Id","description":"Test run ID if part of a test run"},"name":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Name","description":"Evaluation name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Evaluation description"},"metrics":{"anyOf":[{"$ref":"#/components/schemas/EvaluationMetrics"},{"type":"null"}],"description":"Metrics to track"},"config":{"anyOf":[{"$ref":"#/components/schemas/EvaluationConfig"},{"type":"null"}],"description":"Evaluation configuration"},"run_async":{"type":"boolean","title":"Run Async","description":"Run evaluation asynchronously","default":false},"test_case_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Test Case Ids","description":"Specific test cases to run"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Tags","description":"Tags for categorization"}},"type":"object","required":["project_id","prompt_id"],"title":"EvaluationCreate","description":"Create evaluation request"},"EvaluationHistoryRequest":{"properties":{"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"evaluation_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Evaluation Type"},"start_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Date"},"limit":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Limit","default":20},"offset":{"type":"integer","minimum":0.0,"title":"Offset","default":0}},"type":"object","title":"EvaluationHistoryRequest","description":"Evaluation history request"},"EvaluationHistoryResponse":{"properties":{"total_count":{"type":"integer","title":"Total Count"},"items":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Items"},"aggregations":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Aggregations"}},"type":"object","required":["total_count","items"],"title":"EvaluationHistoryResponse","description":"Evaluation history response"},"EvaluationList":{"properties":{"evaluations":{"items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__prompt_studio_schemas__EvaluationResponse"},"type":"array","title":"Evaluations"},"total":{"type":"integer","minimum":0.0,"title":"Total","description":"Total count"},"limit":{"type":"integer","minimum":1.0,"title":"Limit","description":"Page limit"},"offset":{"type":"integer","minimum":0.0,"title":"Offset","description":"Page offset"}},"type":"object","required":["evaluations","total","limit","offset"],"title":"EvaluationList","description":"List of evaluations response"},"EvaluationListResponse":{"properties":{"object":{"type":"string","title":"Object","default":"list"},"has_more":{"type":"boolean","title":"Has More","default":false},"first_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Id"},"last_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Id"},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total","description":"Total items available (if known)"},"data":{"items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__evaluation_schemas_unified__EvaluationResponse"},"type":"array","title":"Data"}},"type":"object","required":["data"],"title":"EvaluationListResponse","description":"Evaluation list response"},"EvaluationMetadata":{"properties":{"project":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project","description":"Project name"},"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version","description":"Version"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"custom":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Custom"}},"type":"object","title":"EvaluationMetadata","description":"Evaluation metadata"},"EvaluationMetric":{"properties":{"name":{"type":"string","title":"Name","description":"Metric name"},"score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Score","description":"Normalized score (0-1)"},"raw_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Raw Score","description":"Raw score before normalization"},"explanation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Explanation","description":"Explanation of the score"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["name","score"],"title":"EvaluationMetric","description":"Base evaluation metric"},"EvaluationMetrics":{"properties":{"accuracy":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Accuracy"},"precision":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Precision"},"recall":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Recall"},"f1_score":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"F1 Score"},"bleu_score":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Bleu Score"},"rouge_score":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Rouge Score"},"perplexity":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Perplexity"},"latency_ms":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Latency Ms"},"tokens_used":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Tokens Used"},"cost":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Cost"},"custom_metrics":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Custom Metrics"}},"type":"object","title":"EvaluationMetrics","description":"Metrics for evaluation"},"EvaluationSpec":{"properties":{"sub_type":{"anyOf":[{"type":"string","enum":["summarization","rag","response_quality","rag_pipeline"]},{"type":"null"}],"title":"Sub Type","description":"Optional subtype for model_graded evaluations (e.g., rag_pipeline)"},"metrics":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Metrics","description":"Metrics to compute"},"thresholds":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Thresholds","description":"Pass/fail thresholds"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Model to use for evaluation","default":"gpt-3.5-turbo"},"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature","description":"Temperature for model-based evaluation","default":0.3},"custom_prompts":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Custom Prompts","description":"Custom evaluation prompts"},"rag_pipeline":{"anyOf":[{"$ref":"#/components/schemas/RAGPipelineEvalSpec"},{"type":"null"}],"description":"RAG pipeline evaluation configuration (when sub_type=rag_pipeline)"},"allowed_labels":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Labels","description":"Allowed label set for label_choice/NLI evaluations"},"label_mapping":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Label Mapping","description":"Mapping of synonyms/aliases to canonical labels"},"structured_output":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Structured Output","description":"If true, instruct model to return strict JSON","default":false},"generate_predictions":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Generate Predictions","description":"If true, call model to generate predictions; otherwise expect predictions in samples","default":true},"prompt_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt Template","description":"Override default prompt for label_choice/NLI"},"nli_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nli Model","description":"Optional NLI model identifier/provider name"}},"type":"object","title":"EvaluationSpec","description":"Evaluation specification"},"EvaluationStatus":{"type":"string","enum":["pending","running","completed","failed","cancelled"],"title":"EvaluationStatus"},"EvaluationType":{"type":"string","enum":["model_graded","exact_match","includes","fuzzy_match","geval","rag","response_quality","proposition_extraction","ocr","label_choice","nli_factcheck","custom"],"title":"EvaluationType","description":"Supported evaluation types"},"ExecutePromptSimpleRequest":{"properties":{"prompt_id":{"type":"integer","title":"Prompt Id"},"inputs":{"additionalProperties":true,"type":"object","title":"Inputs"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider","default":"openai"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","default":"gpt-3.5-turbo"}},"additionalProperties":false,"type":"object","required":["prompt_id"],"title":"ExecutePromptSimpleRequest"},"ExecuteToolRequest":{"properties":{"tool_name":{"type":"string","title":"Tool Name","description":"Tool name (registry id)"},"arguments":{"additionalProperties":true,"type":"object","title":"Arguments"},"idempotency_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency Key","description":"Optional key for deduplicating write-capable tools"},"dry_run":{"type":"boolean","title":"Dry Run","description":"If true, only checks permission and validates args when possible without executing","default":false}},"type":"object","required":["tool_name"],"title":"ExecuteToolRequest"},"ExecuteToolResult":{"properties":{"ok":{"type":"boolean","title":"Ok"},"result":{"anyOf":[{},{"type":"null"}],"title":"Result"},"module":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Module"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["ok"],"title":"ExecuteToolResult"},"ExportDictionaryJSONResponse":{"properties":{"name":{"type":"string","title":"Name","description":"Dictionary name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Dictionary description"},"entries":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Entries","description":"Entries with pattern, replacement, type, probability, etc."}},"type":"object","required":["name","entries"],"title":"ExportDictionaryJSONResponse","description":"Response schema for JSON export of a dictionary."},"ExportDictionaryResponse":{"properties":{"name":{"type":"string","title":"Name","description":"Dictionary name"},"content":{"type":"string","title":"Content","description":"Exported content in markdown format"},"entry_count":{"type":"integer","title":"Entry Count","description":"Number of entries exported"},"group_count":{"type":"integer","title":"Group Count","description":"Number of groups in the dictionary"}},"type":"object","required":["name","content","entry_count","group_count"],"title":"ExportDictionaryResponse","description":"Response schema for dictionary export."},"ExportJobResponse":{"properties":{"job_id":{"type":"string","title":"Job Id"},"status":{"$ref":"#/components/schemas/ExportStatus"},"chatbook_name":{"type":"string","title":"Chatbook Name"},"output_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Output Path"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"progress_percentage":{"type":"integer","title":"Progress Percentage","default":0},"total_items":{"type":"integer","title":"Total Items","default":0},"processed_items":{"type":"integer","title":"Processed Items","default":0},"file_size_bytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size Bytes"},"download_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Download Url"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["job_id","status","chatbook_name","created_at"],"title":"ExportJobResponse","description":"Export job status."},"ExportResponse":{"properties":{"message":{"type":"string","title":"Message"},"file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Path"},"file_content_b64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Content B64"}},"type":"object","required":["message"],"title":"ExportResponse"},"ExportStatus":{"type":"string","enum":["pending","in_progress","completed","failed","cancelled","expired"],"title":"ExportStatus","description":"Status of export job."},"FewShotExample":{"properties":{"inputs":{"additionalProperties":true,"type":"object","title":"Inputs"},"outputs":{"additionalProperties":true,"type":"object","title":"Outputs"},"explanation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Explanation"}},"type":"object","required":["inputs","outputs"],"title":"FewShotExample","description":"Few-shot example for prompts"},"Flashcard":{"properties":{"uuid":{"type":"string","title":"Uuid"},"deck_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Deck Id"},"deck_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Deck Name"},"front":{"type":"string","title":"Front"},"back":{"type":"string","title":"Back"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"extra":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Extra"},"is_cloze":{"type":"boolean","title":"Is Cloze"},"tags_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags Json"},"ef":{"type":"number","title":"Ef"},"interval_days":{"type":"integer","title":"Interval Days"},"repetitions":{"type":"integer","title":"Repetitions"},"lapses":{"type":"integer","title":"Lapses"},"due_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Due At"},"last_reviewed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Reviewed At"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"last_modified":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Modified"},"deleted":{"type":"boolean","title":"Deleted"},"client_id":{"type":"string","title":"Client Id"},"version":{"type":"integer","title":"Version"},"model_type":{"type":"string","enum":["basic","basic_reverse","cloze"],"title":"Model Type"},"reverse":{"type":"boolean","title":"Reverse"}},"type":"object","required":["uuid","front","back","is_cloze","ef","interval_days","repetitions","lapses","deleted","client_id","version","model_type","reverse"],"title":"Flashcard"},"FlashcardCreate":{"properties":{"deck_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Deck Id","description":"Deck ID to assign the card to"},"front":{"type":"string","title":"Front"},"back":{"type":"string","title":"Back"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"extra":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Extra"},"is_cloze":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Cloze","default":false},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"List of tags; stored as JSON array"},"source_ref_type":{"anyOf":[{"type":"string","enum":["media","message","note","manual"]},{"type":"null"}],"title":"Source Ref Type","default":"manual"},"source_ref_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Ref Id"},"model_type":{"anyOf":[{"type":"string","enum":["basic","basic_reverse","cloze"]},{"type":"null"}],"title":"Model Type"},"reverse":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Reverse"}},"type":"object","required":["front","back"],"title":"FlashcardCreate"},"FlashcardListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/Flashcard"},"type":"array","title":"Items"},"count":{"type":"integer","title":"Count"},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total"}},"type":"object","required":["items","count"],"title":"FlashcardListResponse"},"FlashcardReviewRequest":{"properties":{"card_uuid":{"type":"string","title":"Card Uuid"},"rating":{"type":"integer","maximum":5.0,"minimum":0.0,"title":"Rating","description":"Anki 0-5 rating"},"answer_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Answer Time Ms"}},"type":"object","required":["card_uuid","rating"],"title":"FlashcardReviewRequest"},"FlashcardReviewResponse":{"properties":{"uuid":{"type":"string","title":"Uuid"},"ef":{"type":"number","title":"Ef"},"interval_days":{"type":"integer","title":"Interval Days"},"repetitions":{"type":"integer","title":"Repetitions"},"lapses":{"type":"integer","title":"Lapses"},"due_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Due At"},"last_reviewed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Reviewed At"},"last_modified":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Modified"},"version":{"type":"integer","title":"Version"}},"type":"object","required":["uuid","ef","interval_days","repetitions","lapses","version"],"title":"FlashcardReviewResponse"},"FlashcardTagsUpdate":{"properties":{"tags":{"items":{"type":"string"},"type":"array","title":"Tags"}},"type":"object","required":["tags"],"title":"FlashcardTagsUpdate"},"FlashcardUpdate":{"properties":{"deck_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Deck Id"},"front":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Front"},"back":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Back"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"extra":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Extra"},"is_cloze":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Cloze"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"expected_version":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expected Version"},"model_type":{"anyOf":[{"type":"string","enum":["basic","basic_reverse","cloze"]},{"type":"null"}],"title":"Model Type"},"reverse":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Reverse"}},"type":"object","title":"FlashcardUpdate"},"FlashcardsImportRequest":{"properties":{"content":{"type":"string","title":"Content","description":"TSV content: Deck, Front, Back, Tags, Notes per line"},"delimiter":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Delimiter","description":"Field delimiter; default tab","default":"\t"},"has_header":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Header","description":"Whether the first line is a header","default":false}},"type":"object","required":["content"],"title":"FlashcardsImportRequest"},"ForgotPasswordRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Email address to send reset link"}},"type":"object","required":["email"],"title":"ForgotPasswordRequest","description":"Request for password reset"},"FunctionCall":{"properties":{"arguments":{"type":"string","title":"Arguments","description":"The arguments to call the function with, as generated by the model in JSON format."},"name":{"type":"string","title":"Name","description":"The name of the function to call."}},"type":"object","required":["arguments","name"],"title":"FunctionCall","description":"Deprecated and replaced by `tool_calls`. The name and arguments of a function that should be called, as generated by the model."},"FunctionDefinition":{"properties":{"name":{"type":"string","title":"Name","description":"The name of the function to be called. Must be a-z, A-Z, 0-9, or contain underscores and dashes, with a maximum length of 64."},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"A description of what the function does, used by the model to choose when and how to call the function."},"parameters":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Parameters","description":"The parameters the functions accepts, described as a JSON Schema object. See the guide[1] for examples, and the JSON Schema reference[2] for documentation about the format. Omitting parameters defines a function with an empty parameter list. [1] https://platform.openai.com/docs/guides/function-calling [2] https://json-schema.org/understanding-json-schema/"}},"type":"object","required":["name"],"title":"FunctionDefinition","description":"Describes a function available to the model."},"GEvalRequest":{"properties":{"source_text":{"type":"string","maxLength":100000,"minLength":10,"title":"Source Text","description":"Original source text"},"summary":{"type":"string","maxLength":50000,"minLength":10,"title":"Summary","description":"Summary to evaluate"},"metrics":{"anyOf":[{"items":{"type":"string","enum":["fluency","consistency","relevance","coherence"]},"type":"array"},{"type":"null"}],"title":"Metrics","default":["fluency","consistency","relevance","coherence"]},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","description":"LLM API to use","default":"openai"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key","description":"API key if not in config"},"save_results":{"type":"boolean","title":"Save Results","description":"Save results to database","default":false}},"type":"object","required":["source_text","summary"],"title":"GEvalRequest","description":"G-Eval summarization request"},"GEvalResponse":{"properties":{"metrics":{"additionalProperties":{"$ref":"#/components/schemas/EvaluationMetric"},"type":"object","title":"Metrics"},"average_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Average Score"},"summary_assessment":{"type":"string","title":"Summary Assessment"},"evaluation_time":{"type":"number","title":"Evaluation Time"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["metrics","average_score","summary_assessment","evaluation_time"],"title":"GEvalResponse","description":"G-Eval response"},"GenerateDocumentRequest":{"properties":{"conversation_id":{"type":"string","minLength":1,"title":"Conversation Id","description":"ID of the conversation"},"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Type of document to generate"},"provider":{"type":"string","minLength":1,"title":"Provider","description":"LLM provider name"},"model":{"type":"string","minLength":1,"title":"Model","description":"Model name"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key","description":"Explicit API key override for the provider"},"specific_message":{"anyOf":[{"type":"string","maxLength":10000},{"type":"null"}],"title":"Specific Message","description":"Specific message to focus on"},"custom_prompt":{"anyOf":[{"type":"string","maxLength":5000},{"type":"null"}],"title":"Custom Prompt","description":"Custom prompt override"},"stream":{"type":"boolean","title":"Stream","description":"Whether to stream the response","default":false},"async_generation":{"type":"boolean","title":"Async Generation","description":"Whether to generate asynchronously","default":false}},"type":"object","required":["conversation_id","document_type","provider","model"],"title":"GenerateDocumentRequest","description":"Request schema for generating a document."},"GenerateDocumentResponse":{"properties":{"document_id":{"type":"integer","title":"Document Id","description":"ID of the generated document"},"conversation_id":{"type":"string","title":"Conversation Id","description":"Conversation ID"},"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Type of document generated"},"title":{"type":"string","title":"Title","description":"Document title"},"content":{"type":"string","title":"Content","description":"Generated document content"},"provider":{"type":"string","title":"Provider","description":"LLM provider used"},"model":{"type":"string","title":"Model","description":"Model used"},"generation_time_ms":{"type":"integer","title":"Generation Time Ms","description":"Generation time in milliseconds"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"}},"type":"object","required":["document_id","conversation_id","document_type","title","content","provider","model","generation_time_ms","created_at"],"title":"GenerateDocumentResponse","description":"Response schema for synchronous document generation."},"GenerateEmbeddingsRequest":{"properties":{"embedding_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model","description":"Specific embedding model to use (defaults to Qwen3-Embedding-4B-GGUF)"},"embedding_provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Provider","description":"Embedding provider (huggingface, openai, etc)"},"chunk_size":{"type":"integer","title":"Chunk Size","description":"Size of text chunks for embedding","default":1000},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","description":"Overlap between chunks","default":200},"force_regenerate":{"type":"boolean","title":"Force Regenerate","description":"Force regeneration even if embeddings exist","default":false}},"type":"object","title":"GenerateEmbeddingsRequest","description":"Request model for generating embeddings"},"GenerateEmbeddingsResponse":{"properties":{"media_id":{"type":"integer","title":"Media Id"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"embedding_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Embedding Count"},"embedding_model":{"type":"string","title":"Embedding Model"},"chunks_processed":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Chunks Processed"},"job_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Id"}},"type":"object","required":["media_id","status","message","embedding_model"],"title":"GenerateEmbeddingsResponse","description":"Response model for embedding generation"},"GeneratedDocument":{"properties":{"id":{"type":"integer","title":"Id","description":"Document ID"},"conversation_id":{"type":"string","title":"Conversation Id","description":"Conversation ID"},"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Document type"},"title":{"type":"string","title":"Title","description":"Document title"},"content":{"type":"string","title":"Content","description":"Document content"},"provider":{"type":"string","title":"Provider","description":"LLM provider used"},"model":{"type":"string","title":"Model","description":"Model used"},"generation_time_ms":{"type":"integer","title":"Generation Time Ms","description":"Generation time in milliseconds"},"token_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Token Count","description":"Token count"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","description":"Additional metadata"}},"type":"object","required":["id","conversation_id","document_type","title","content","provider","model","generation_time_ms","created_at"],"title":"GeneratedDocument","description":"Schema for a generated document."},"GenerationStatistics":{"properties":{"total_documents":{"type":"integer","title":"Total Documents","description":"Total documents generated"},"by_type":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Type","description":"Count by document type"},"by_provider":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Provider","description":"Count by provider"},"average_generation_time_ms":{"type":"number","title":"Average Generation Time Ms","description":"Average generation time"},"total_tokens_used":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Tokens Used","description":"Total tokens used"},"last_generated":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Generated","description":"Last generation timestamp"},"most_used_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Most Used Model","description":"Most frequently used model"}},"type":"object","required":["total_documents","by_type","by_provider","average_generation_time_ms"],"title":"GenerationStatistics","description":"Statistics for document generation."},"GenerationStatus":{"type":"string","enum":["pending","in_progress","completed","failed","cancelled"],"title":"GenerationStatus","description":"Status of document generation job."},"GenerationSweepConfig":{"properties":{"model":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Model"},"prompt_template":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Prompt Template"},"temperature":{"anyOf":[{"type":"number"},{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Temperature"},"max_tokens":{"anyOf":[{"type":"integer"},{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Max Tokens"}},"type":"object","title":"GenerationSweepConfig","description":"Generation parameters to sweep for RAG answers."},"GenericPaper":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"title":{"type":"string","title":"Title"},"authors":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authors"},"journal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Journal"},"pub_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pub Date"},"abstract":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abstract"},"doi":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doi"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"pdf_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pdf Url"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"}},"type":"object","required":["title"],"title":"GenericPaper"},"GenericSearchResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/GenericPaper"},"type":"array","title":"Items"},"total_results":{"type":"integer","title":"Total Results"},"page":{"type":"integer","title":"Page"},"results_per_page":{"type":"integer","title":"Results Per Page"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["query_echo","items","total_results","page","results_per_page","total_pages"],"title":"GenericSearchResponse"},"GraphEdge":{"properties":{"id":{"type":"string","title":"Id","description":"Opaque edge id"},"source":{"type":"string","title":"Source","description":"Source node id"},"target":{"type":"string","title":"Target","description":"Target node id"},"type":{"$ref":"#/components/schemas/EdgeType","description":"Edge type"},"directed":{"type":"boolean","title":"Directed","description":"Whether the edge is directed"},"weight":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Weight","description":"Optional weight; defaults to 1.0","default":1.0},"label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Label","description":"Optional label for the edge"}},"type":"object","required":["id","source","target","type","directed"],"title":"GraphEdge"},"GraphFormat":{"type":"string","enum":["default","cytoscape"],"title":"GraphFormat"},"GraphLimits":{"properties":{"max_nodes":{"type":"integer","minimum":1.0,"title":"Max Nodes"},"max_edges":{"type":"integer","minimum":0.0,"title":"Max Edges"},"max_degree":{"type":"integer","minimum":1.0,"title":"Max Degree"}},"type":"object","required":["max_nodes","max_edges","max_degree"],"title":"GraphLimits"},"GraphNode":{"properties":{"id":{"type":"string","title":"Id","description":"Opaque node identifier (e.g., note UUID or typed id)"},"type":{"type":"string","enum":["note","tag","source"],"title":"Type","description":"Node entity type"},"label":{"type":"string","title":"Label","description":"Human-readable label for rendering"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At","description":"Creation timestamp (where applicable)"},"degree":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Degree","description":"Degree in the returned subgraph"},"tag_count":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Tag Count","description":"Number of tags on a note (if computed)"},"primary_source_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Primary Source Id","description":"Primary source id for notes (when available)"}},"type":"object","required":["id","type","label"],"title":"GraphNode"},"Group":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"parent_group_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Group Id"}},"type":"object","required":["id","name"],"title":"Group"},"GroupCreateRequest":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"parent_group_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Group Id"}},"type":"object","required":["name"],"title":"GroupCreateRequest"},"GroupUpdateRequest":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"parent_group_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Group Id"}},"type":"object","title":"GroupUpdateRequest"},"GroupsListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/Group"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"GroupsListResponse"},"HNSWEfSearchRequest":{"properties":{"ef_search":{"type":"integer","exclusiveMinimum":0.0,"title":"Ef Search","description":"hnsw.ef_search value to set for this session"}},"type":"object","required":["ef_search"],"title":"HNSWEfSearchRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthCheckResponse":{"properties":{"status":{"type":"string","enum":["healthy","degraded","unhealthy"],"title":"Status"},"version":{"type":"string","title":"Version"},"uptime":{"type":"number","title":"Uptime"},"database":{"type":"string","title":"Database"},"circuit_breaker":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Circuit Breaker"},"rate_limit":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Rate Limit"},"checks":{"anyOf":[{"additionalProperties":{"type":"boolean"},"type":"object"},{"type":"null"}],"title":"Checks"}},"type":"object","required":["status","version","uptime","database"],"title":"HealthCheckResponse","description":"Health check response"},"Highlight":{"properties":{"id":{"type":"integer","title":"Id"},"item_id":{"type":"integer","title":"Item Id"},"quote":{"type":"string","title":"Quote"},"start_offset":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Start Offset"},"end_offset":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"End Offset"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"anchor_strategy":{"type":"string","enum":["fuzzy_quote","exact_offset"],"title":"Anchor Strategy"},"content_hash_ref":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content Hash Ref"},"context_before":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Before"},"context_after":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context After"},"state":{"type":"string","enum":["active","stale"],"title":"State","default":"active"}},"type":"object","required":["id","item_id","quote","created_at","anchor_strategy"],"title":"Highlight"},"HighlightCreateRequest":{"properties":{"item_id":{"type":"integer","title":"Item Id"},"quote":{"type":"string","minLength":1,"title":"Quote"},"start_offset":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Start Offset"},"end_offset":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"End Offset"},"color":{"anyOf":[{"type":"string","maxLength":32},{"type":"null"}],"title":"Color"},"note":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Note"},"anchor_strategy":{"type":"string","enum":["fuzzy_quote","exact_offset"],"title":"Anchor Strategy","default":"fuzzy_quote"}},"type":"object","required":["item_id","quote"],"title":"HighlightCreateRequest","description":"Create a highlight anchored to a content item.\n\nOffsets are advisory; `fuzzy_quote` anchoring is preferred and will attempt\nto re-anchor on content changes using the stored quote and context."},"HighlightUpdateRequest":{"properties":{"color":{"anyOf":[{"type":"string","maxLength":32},{"type":"null"}],"title":"Color"},"note":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Note"},"state":{"anyOf":[{"type":"string","enum":["active","stale"]},{"type":"null"}],"title":"State"}},"type":"object","title":"HighlightUpdateRequest","description":"Update mutable highlight properties."},"IacrConferenceResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"data":{"additionalProperties":true,"type":"object","title":"Data"}},"type":"object","required":["query_echo","data"],"title":"IacrConferenceResponse"},"ImplicitFeedbackEvent":{"properties":{"event_type":{"type":"string","enum":["click","expand","copy"],"title":"Event Type","description":"Type of implicit event"},"query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query","description":"Original query text"},"feedback_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feedback Id","description":"Optional feedback correlation id"},"doc_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doc Id","description":"Document/chunk id involved"},"rank":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rank","description":"Rank position of the doc in the displayed list"},"impression_list":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Impression List","description":"Ordered doc ids visible when the event happened"},"corpus":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Corpus","description":"Corpus/namespace if set in the request"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"User id if available"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Browser session id if available"}},"type":"object","required":["event_type"],"title":"ImplicitFeedbackEvent","description":"Schema for implicit feedback signals from WebUI (click/expand/copy)."},"ImportChatbookResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"job_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Id","description":"Job ID if async mode"},"imported_items":{"anyOf":[{"additionalProperties":{"type":"integer"},"type":"object"},{"type":"null"}],"title":"Imported Items","description":"Count of imported items by type"},"warnings":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Warnings","description":"Validator and import warnings (sync imports only)"}},"type":"object","required":["success","message"],"title":"ImportChatbookResponse","description":"Response for chatbook import."},"ImportDictionaryJSONRequest":{"properties":{"data":{"additionalProperties":true,"type":"object","title":"Data","description":"Dictionary JSON data with 'name' and 'entries'"},"activate":{"type":"boolean","title":"Activate","description":"Whether to activate the dictionary after import","default":true}},"type":"object","required":["data"],"title":"ImportDictionaryJSONRequest","description":"Request schema for importing a dictionary from JSON."},"ImportDictionaryRequest":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Name for the imported dictionary"},"content":{"type":"string","title":"Content","description":"Markdown content to import"},"activate":{"type":"boolean","title":"Activate","description":"Whether to activate the dictionary after import","default":true}},"type":"object","required":["name","content"],"title":"ImportDictionaryRequest","description":"Request schema for importing a dictionary from markdown."},"ImportDictionaryResponse":{"properties":{"dictionary_id":{"type":"integer","title":"Dictionary Id","description":"ID of the created dictionary"},"name":{"type":"string","title":"Name","description":"Dictionary name"},"entries_imported":{"type":"integer","title":"Entries Imported","description":"Number of entries imported"},"groups_created":{"items":{"type":"string"},"type":"array","title":"Groups Created","description":"List of groups found and created"}},"type":"object","required":["dictionary_id","name","entries_imported","groups_created"],"title":"ImportDictionaryResponse","description":"Response schema for dictionary import."},"ImportJobResponse":{"properties":{"job_id":{"type":"string","title":"Job Id"},"status":{"$ref":"#/components/schemas/ImportStatus"},"chatbook_path":{"type":"string","title":"Chatbook Path"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"progress_percentage":{"type":"integer","title":"Progress Percentage","default":0},"total_items":{"type":"integer","title":"Total Items","default":0},"processed_items":{"type":"integer","title":"Processed Items","default":0},"successful_items":{"type":"integer","title":"Successful Items","default":0},"failed_items":{"type":"integer","title":"Failed Items","default":0},"skipped_items":{"type":"integer","title":"Skipped Items","default":0},"conflicts":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Conflicts"},"warnings":{"items":{"type":"string"},"type":"array","title":"Warnings"}},"type":"object","required":["job_id","status","chatbook_path","created_at"],"title":"ImportJobResponse","description":"Import job status."},"ImportStatus":{"type":"string","enum":["pending","validating","in_progress","completed","failed","cancelled"],"title":"ImportStatus","description":"Status of import job."},"IngestBatchItem":{"properties":{"doi":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doi"},"pdf_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pdf Url"},"pmcid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pmcid"},"arxiv_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Arxiv Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"keywords":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keywords"}},"type":"object","title":"IngestBatchItem"},"IngestBatchRequest":{"properties":{"items":{"items":{"$ref":"#/components/schemas/IngestBatchItem"},"type":"array","title":"Items"},"perform_chunking":{"type":"boolean","title":"Perform Chunking","default":true},"parser":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parser","default":"pymupdf4llm"},"chunk_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"},"chunk_size":{"type":"integer","title":"Chunk Size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","default":200},"perform_analysis":{"type":"boolean","title":"Perform Analysis","default":false},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"enable_ocr":{"type":"boolean","title":"Enable Ocr","default":false},"ocr_backend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend"},"ocr_lang":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Lang","default":"eng"},"ocr_dpi":{"type":"integer","title":"Ocr Dpi","default":300},"ocr_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Mode","default":"fallback"},"ocr_min_page_text_chars":{"type":"integer","title":"Ocr Min Page Text Chars","default":40}},"type":"object","required":["items"],"title":"IngestBatchRequest"},"IngestBatchResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/IngestBatchResultItem"},"type":"array","title":"Results"},"succeeded":{"type":"integer","title":"Succeeded"},"failed":{"type":"integer","title":"Failed"}},"type":"object","required":["results","succeeded","failed"],"title":"IngestBatchResponse"},"IngestBatchResultItem":{"properties":{"doi":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doi"},"pdf_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pdf Url"},"pmcid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pmcid"},"arxiv_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Arxiv Id"},"success":{"type":"boolean","title":"Success"},"media_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Media Id"},"media_uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Uuid"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"IngestBatchResultItem"},"IngestWebContentRequest":{"properties":{"urls":{"items":{"type":"string"},"type":"array","title":"Urls"},"titles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Titles"},"authors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Authors"},"keywords":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keywords"},"scrape_method":{"$ref":"#/components/schemas/ScrapeMethod","default":"individual"},"url_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Url Level","default":2},"max_pages":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Pages","default":10},"max_depth":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Depth","default":3},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"perform_translation":{"type":"boolean","title":"Perform Translation","default":false},"translation_language":{"type":"string","title":"Translation Language","default":"en"},"timestamp_option":{"type":"boolean","title":"Timestamp Option","default":true},"overwrite_existing":{"type":"boolean","title":"Overwrite Existing","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","default":true},"perform_rolling_summarization":{"type":"boolean","title":"Perform Rolling Summarization","default":false},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"},"perform_chunking":{"type":"boolean","title":"Perform Chunking","default":true},"chunk_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Method"},"use_adaptive_chunking":{"type":"boolean","title":"Use Adaptive Chunking","default":false},"use_multi_level_chunking":{"type":"boolean","title":"Use Multi Level Chunking","default":false},"chunk_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Language"},"chunk_size":{"type":"integer","title":"Chunk Size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","default":200},"hierarchical_chunking":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Hierarchical Chunking","default":false},"hierarchical_template":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Hierarchical Template"},"use_cookies":{"type":"boolean","title":"Use Cookies","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies"},"perform_confabulation_check_of_analysis":{"type":"boolean","title":"Perform Confabulation Check Of Analysis","default":false},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern"},"crawl_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Crawl Strategy"},"include_external":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Include External"},"score_threshold":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Score Threshold"}},"type":"object","required":["urls"],"title":"IngestWebContentRequest"},"InstallPlan":{"properties":{"stt":{"items":{"$ref":"#/components/schemas/STTInstall"},"type":"array","title":"Stt"},"tts":{"items":{"$ref":"#/components/schemas/TTSInstall"},"type":"array","title":"Tts"},"embeddings":{"$ref":"#/components/schemas/EmbeddingsInstall"}},"type":"object","title":"InstallPlan"},"Item":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"domain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Domain"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"published_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Published At"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","default":[]},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"}},"type":"object","required":["id","title"],"title":"Item"},"ItemsListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/Item"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"size":{"type":"integer","title":"Size"}},"type":"object","required":["items","total","page","size"],"title":"ItemsListResponse"},"Job":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"scope":{"additionalProperties":true,"type":"object","title":"Scope"},"schedule_expr":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Schedule Expr"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone"},"active":{"type":"boolean","title":"Active"},"max_concurrency":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Concurrency"},"per_host_delay_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Per Host Delay Ms"},"retry_policy":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Retry Policy"},"output_prefs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Output Prefs"},"job_filters":{"anyOf":[{"$ref":"#/components/schemas/WatchlistFiltersPayload"},{"type":"null"}]},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"},"last_run_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Run At"},"next_run_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Run At"},"wf_schedule_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Wf Schedule Id"}},"type":"object","required":["id","name","scope","schedule_expr","timezone","active","created_at","updated_at"],"title":"Job"},"JobCreateRequest":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"scope":{"additionalProperties":true,"type":"object","title":"Scope","description":"Selection: {sources:[], groups:[], tags:[]}"},"schedule_expr":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Schedule Expr","description":"Cron or interval expression; stored as provided"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone","description":"Timezone for schedule; PRD default UTC+8"},"active":{"type":"boolean","title":"Active","default":true},"max_concurrency":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Concurrency"},"per_host_delay_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Per Host Delay Ms"},"retry_policy":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Retry Policy"},"output_prefs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Output Prefs"},"job_filters":{"anyOf":[{"$ref":"#/components/schemas/WatchlistFiltersPayload"},{"type":"null"}],"description":"Optional job-level filters payload (bridge from SUBS Import Rules)"}},"type":"object","required":["name"],"title":"JobCreateRequest"},"JobSkipRequest":{"properties":{"job_id":{"type":"string","title":"Job Id"},"ttl_seconds":{"anyOf":[{"type":"integer","minimum":60.0},{"type":"null"}],"title":"Ttl Seconds","description":"TTL for skip registry entry","default":604800}},"type":"object","required":["job_id"],"title":"JobSkipRequest"},"JobStatusResponse":{"properties":{"job_id":{"type":"string","title":"Job Id","description":"Job ID"},"conversation_id":{"type":"string","title":"Conversation Id","description":"Conversation ID"},"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Type of document"},"status":{"$ref":"#/components/schemas/GenerationStatus","description":"Current status"},"provider":{"type":"string","title":"Provider","description":"LLM provider"},"model":{"type":"string","title":"Model","description":"Model name"},"result_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result Content","description":"Generated content (if completed)"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Error message (if failed)"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Job creation time"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At","description":"Job start time"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At","description":"Job completion time"},"progress_percentage":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Progress Percentage","description":"Progress percentage"}},"type":"object","required":["job_id","conversation_id","document_type","status","provider","model","created_at"],"title":"JobStatusResponse","description":"Response schema for job status check."},"JobUpdateRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"scope":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Scope"},"schedule_expr":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Schedule Expr"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone"},"active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Active"},"max_concurrency":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Concurrency"},"per_host_delay_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Per Host Delay Ms"},"retry_policy":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Retry Policy"},"output_prefs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Output Prefs"},"job_filters":{"anyOf":[{"$ref":"#/components/schemas/WatchlistFiltersPayload"},{"type":"null"}],"description":"Optional job-level filters payload (replace)"}},"type":"object","title":"JobUpdateRequest"},"JobsListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/Job"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"JobsListResponse"},"KeywordsForNoteResponse":{"properties":{"note_id":{"type":"string","title":"Note Id"},"keywords":{"items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"},"type":"array","title":"Keywords"}},"type":"object","required":["note_id","keywords"],"title":"KeywordsForNoteResponse"},"LLMOptionsForChunkerInternalSteps":{"properties":{"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature","description":"Suggested temperature for LLM (0.0-2.0) for internal steps. Server default if None."},"system_prompt_for_step":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt For Step","description":"Suggest a system prompt for each internal LLM step. Server might have a default or append to this."},"max_tokens_per_step":{"anyOf":[{"type":"integer","exclusiveMinimum":0.0},{"type":"null"}],"title":"Max Tokens Per Step","description":"Suggest max tokens for the LLM to generate in each internal step. Server might cap this."}},"type":"object","title":"LLMOptionsForChunkerInternalSteps","description":"LLM configurations if a chunking method (e.g., 'rolling_summarize')\ninternally uses an LLM for its processing steps.\nThe Provider and Model for these steps are determined by the server.\nClient can suggest other parameters."},"LLMTopSpenderRow":{"properties":{"user_id":{"type":"integer","title":"User Id"},"total_cost_usd":{"type":"number","title":"Total Cost Usd"},"requests":{"type":"integer","title":"Requests"}},"type":"object","required":["user_id","total_cost_usd","requests"],"title":"LLMTopSpenderRow"},"LLMTopSpendersResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/LLMTopSpenderRow"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"LLMTopSpendersResponse"},"LLMUsageLogResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/LLMUsageLogRow"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"limit":{"type":"integer","title":"Limit"}},"type":"object","required":["items","total","page","limit"],"title":"LLMUsageLogResponse"},"LLMUsageLogRow":{"properties":{"id":{"type":"integer","title":"Id"},"ts":{"type":"string","format":"date-time","title":"Ts"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"key_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Key Id"},"endpoint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Endpoint"},"operation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Operation"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status"},"latency_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Latency Ms"},"prompt_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Prompt Tokens"},"completion_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Completion Tokens"},"total_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Tokens"},"total_cost_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Cost Usd"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency"},"estimated":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Estimated"},"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"}},"type":"object","required":["id","ts"],"title":"LLMUsageLogRow"},"LLMUsageSummaryResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/LLMUsageSummaryRow"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"LLMUsageSummaryResponse"},"LLMUsageSummaryRow":{"properties":{"group_value":{"type":"string","title":"Group Value"},"requests":{"type":"integer","title":"Requests"},"errors":{"type":"integer","title":"Errors"},"input_tokens":{"type":"integer","title":"Input Tokens"},"output_tokens":{"type":"integer","title":"Output Tokens"},"total_tokens":{"type":"integer","title":"Total Tokens"},"total_cost_usd":{"type":"number","title":"Total Cost Usd"},"latency_avg_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latency Avg Ms"}},"type":"object","required":["group_value","requests","errors","input_tokens","output_tokens","total_tokens","total_cost_usd"],"title":"LLMUsageSummaryRow"},"LearnTemplateRequest":{"properties":{"name":{"type":"string","title":"Name"},"example_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Example Text"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"save":{"type":"boolean","title":"Save","default":false},"classifier":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Classifier"}},"type":"object","required":["name"],"title":"LearnTemplateRequest"},"LegacyPromptCreateRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Details"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"user_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Prompt"},"keywords":{"items":{"type":"string"},"type":"array","title":"Keywords"}},"additionalProperties":false,"type":"object","title":"LegacyPromptCreateRequest","description":"Legacy payload for creating prompts.\n\nSupports both 'details' and legacy 'content'."},"ListAudioJobsResponse":{"properties":{"jobs":{"items":{"$ref":"#/components/schemas/AudioJob"},"type":"array","title":"Jobs"}},"type":"object","required":["jobs"],"title":"ListAudioJobsResponse"},"ListExportJobsResponse":{"properties":{"jobs":{"items":{"$ref":"#/components/schemas/ExportJobResponse"},"type":"array","title":"Jobs"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["jobs","total"],"title":"ListExportJobsResponse","description":"Response for listing export jobs."},"ListImportJobsResponse":{"properties":{"jobs":{"items":{"$ref":"#/components/schemas/ImportJobResponse"},"type":"array","title":"Jobs"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["jobs","total"],"title":"ListImportJobsResponse","description":"Response for listing import jobs."},"ListResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"data":{"items":{},"type":"array","title":"Data"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"},"metadata":{"$ref":"#/components/schemas/PaginationMetadata"}},"type":"object","required":["success","data","metadata"],"title":"ListResponse","description":"Standard list response with pagination"},"LlamaCppInferenceRequest":{"properties":{"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Model identifier; may be ignored by active server"},"messages":{"anyOf":[{"items":{"anyOf":[{"$ref":"#/components/schemas/ChatCompletionSystemMessageParam"},{"$ref":"#/components/schemas/ChatCompletionUserMessageParam"},{"$ref":"#/components/schemas/ChatCompletionAssistantMessageParam"},{"$ref":"#/components/schemas/ChatCompletionToolMessageParam"}]},"type":"array"},{"type":"null"}],"title":"Messages","description":"Chat messages"},"stream":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Stream"},"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature"},"top_p":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Top P"},"max_tokens":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Max Tokens"},"stop":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Stop"},"user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User"},"n":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"N"}},"additionalProperties":true,"type":"object","title":"LlamaCppInferenceRequest","description":"OpenAI-style chat completion payload with permissive extras.\n\nUse extra='allow' so llama.cpp-specific fields can pass through without validation loss."},"LlamaCppRerankItem":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id","description":"Optional identifier for the passage"},"text":{"type":"string","minLength":1,"title":"Text","description":"Passage text to score"}},"type":"object","required":["text"],"title":"LlamaCppRerankItem"},"LlamaCppRerankRequest":{"properties":{"query":{"type":"string","minLength":1,"title":"Query","description":"Query to rank against passages"},"passages":{"items":{"$ref":"#/components/schemas/LlamaCppRerankItem"},"type":"array","minItems":1,"title":"Passages","description":"Candidate passages to rerank"},"top_k":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Top K","description":"Top-K results to return (defaults to len(passages))"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"GGUF model path (overrides config)"},"binary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Binary","description":"llama-embedding binary name or path"},"ngl":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Ngl","description":"n_gpu_layers (-ngl)"},"separator":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Separator","description":"Text separator between query and passages"},"output_format":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Output Format","description":"Embedding output format (e.g., json+)"},"pooling":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pooling","description":"Embedding pooling method (e.g., last)"},"normalize":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Normalize","description":"Embedding normalize flag (-1, 0, 1)"},"max_doc_chars":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Max Doc Chars","description":"Max chars per passage (truncation)"}},"type":"object","required":["query","passages"],"title":"LlamaCppRerankRequest","examples":[{"model":"/models/Qwen3-Embedding-0.6B_f16.gguf","ngl":99,"normalize":-1,"output_format":"json+","passages":[{"id":"a","text":"Llamas eat bananas"},{"id":"b","text":"Llamas in pyjamas"},{"id":"c","text":"A bowl of fruit salad"}],"pooling":"last","query":"What do llamas eat?","separator":"<#sep#>","top_k":2}]},"LlamaCppRerankResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/LlamaCppRerankResult"},"type":"array","title":"Results"}},"type":"object","required":["results"],"title":"LlamaCppRerankResponse"},"LlamaCppRerankResult":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"index":{"type":"integer","title":"Index","description":"Index of the passage in input list"},"score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Score"},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text","description":"Original passage text (truncated)"}},"type":"object","required":["index","score"],"title":"LlamaCppRerankResult"},"LogoutRequest":{"properties":{"all_devices":{"type":"boolean","title":"All Devices","description":"Logout from all devices","default":false}},"type":"object","title":"LogoutRequest","description":"Request for logout"},"MCPError":{"properties":{"code":{"type":"integer","title":"Code"},"message":{"type":"string","title":"Message"},"data":{"anyOf":[{},{"type":"null"}],"title":"Data"}},"type":"object","required":["code","message"],"title":"MCPError","description":"MCP error structure"},"MCPRequest":{"properties":{"jsonrpc":{"type":"string","const":"2.0","title":"Jsonrpc","default":"2.0"},"method":{"type":"string","maxLength":100,"minLength":1,"title":"Method"},"params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Params"},"id":{"anyOf":[{"type":"integer"},{"type":"string"},{"type":"null"}],"title":"Id"}},"type":"object","required":["method"],"title":"MCPRequest","description":"MCP request following JSON-RPC 2.0 specification"},"MCPResponse":{"properties":{"jsonrpc":{"type":"string","const":"2.0","title":"Jsonrpc","default":"2.0"},"result":{"anyOf":[{},{"type":"null"}],"title":"Result"},"error":{"anyOf":[{"$ref":"#/components/schemas/MCPError"},{"type":"null"}]},"id":{"anyOf":[{"type":"integer"},{"type":"string"},{"type":"null"}],"title":"Id"}},"type":"object","title":"MCPResponse","description":"MCP response following JSON-RPC 2.0 specification"},"MFASetupResponse":{"properties":{"secret":{"type":"string","title":"Secret","description":"TOTP secret (store securely)"},"qr_code":{"type":"string","title":"Qr Code","description":"QR code image as base64"},"backup_codes":{"items":{"type":"string"},"type":"array","title":"Backup Codes","description":"Backup codes for recovery"}},"type":"object","required":["secret","qr_code","backup_codes"],"title":"MFASetupResponse","description":"Response for MFA setup initiation"},"MFAVerifyRequest":{"properties":{"token":{"type":"string","title":"Token","description":"6-digit TOTP token"}},"type":"object","required":["token"],"title":"MFAVerifyRequest","description":"Request to verify MFA setup"},"MarkReadResponse":{"properties":{"status":{"type":"string","title":"Status"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["status","id"],"title":"MarkReadResponse"},"MediaContentDetail":{"properties":{"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","description":"Extracted metadata from the media file or source.","example":"\"channel\": \"Tech Explained\", \"upload_date\": \"2023-10-26\" "},"text":{"type":"string","title":"Text","description":"The full extracted text or transcript.","example":"Hello and welcome to the channel..."},"word_count":{"type":"integer","title":"Word Count","description":"Approximate word count of the extracted text.","example":1500}},"type":"object","required":["metadata","text","word_count"],"title":"MediaContentDetail","description":"Details about the extracted content of the media."},"MediaDetailResponse":{"properties":{"media_id":{"type":"integer","title":"Media Id","description":"Unique identifier for the media item.","example":123},"source":{"$ref":"#/components/schemas/MediaSourceDetail","description":"Details about the original source."},"processing":{"$ref":"#/components/schemas/MediaProcessingDetail","description":"Details about the processing applied."},"content":{"$ref":"#/components/schemas/MediaContentDetail","description":"Details about the extracted content."},"keywords":{"items":{"type":"string"},"type":"array","title":"Keywords","description":"Keywords associated with the media item.","example":["ai","machine learning","tech"]},"timestamps":{"items":{"type":"string"},"type":"array","title":"Timestamps","description":"List of timestamps extracted from the content (if applicable).","example":["00:00:05","00:01:12"]},"versions":{"items":{"$ref":"#/components/schemas/VersionDetailResponse"},"type":"array","title":"Versions","description":"List of document versions, if applicable.","default":[]}},"type":"object","required":["media_id","source","processing","content","keywords","timestamps"],"title":"MediaDetailResponse","description":"Response model for retrieving a single media item's details (GET /{media_id}).","example":{"content":{"metadata":{"episode":5,"guests":["Alice","Bob"]},"text":"[00:00:00] Intro music...\n[00:00:15] Welcome back to the show...","word_count":8500},"keywords":["podcast","technology","ai","summary"],"media_id":123,"processing":{"analysis":"The podcast covers new AI advancements and their implications.","model":"deepdml/faster-distil-whisper-large-v3.5","prompt":"Summarize the main topics discussed.","timestamp_option":true},"source":{"duration":"01:15:30","title":"Tech Podcast Ep. 5","type":"audio","url":"https://example.com/podcast.mp3"},"timestamps":["00:00:00","00:00:15"]}},"MediaListItem":{"properties":{"id":{"type":"integer","title":"Id","description":"Unique identifier for the media item.","example":123},"title":{"type":"string","title":"Title","description":"Title of the media item.","example":"My Awesome Video"},"url":{"type":"string","title":"Url","description":"Relative API URL to fetch the full details of this item.","example":"/api/v1/media/123"},"type":{"type":"string","title":"Type","description":"Type of the media (e.g., 'video', 'audio', 'pdf').","example":"video"}},"type":"object","required":["id","title","url","type"],"title":"MediaListItem","description":"Represents a single media item in a list response."},"MediaListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/MediaListItem"},"type":"array","title":"Items","description":"A list of media items on the current page."},"pagination":{"$ref":"#/components/schemas/PaginationInfo","description":"Pagination details for the media list."}},"type":"object","required":["items","pagination"],"title":"MediaListResponse","description":"Response model for listing all media items (GET /)."},"MediaProcessingDetail":{"properties":{"prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt","description":"The last prompt used for analysis or processing.","example":"Summarize the key points."},"analysis":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Analysis","description":"The last analysis or summary generated.","example":"The video discusses the fundamentals of AI..."},"safe_metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Safe Metadata","description":"Safe metadata JSON associated with the latest document version (if available)."},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"The transcription model used (if applicable).","example":"whisper-large-v3"},"timestamp_option":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Timestamp Option","description":"Whether timestamps were requested/generated during transcription.","example":true}},"type":"object","title":"MediaProcessingDetail","description":"Details about the processing applied to the media."},"MediaSourceDetail":{"properties":{"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url","description":"Original URL of the media source (if applicable).","example":"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},"title":{"type":"string","title":"Title","description":"Title of the media item.","example":"Understanding AI"},"duration":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Duration","description":"Duration of the media (e.g., seconds or HH:MM:SS string).","example":3600.5},"type":{"type":"string","title":"Type","description":"Type of the media (e.g., 'video', 'audio', 'pdf').","example":"video"}},"type":"object","required":["title","type"],"title":"MediaSourceDetail","description":"Details about the original source of the media."},"MediaUpdateRequest":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Title","description":"Title (max 500 chars)"},"content":{"anyOf":[{"type":"string","maxLength":5000000},{"type":"null"}],"title":"Content","description":"Content (max 5MB of text)"},"author":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Author","description":"Author (max 255 chars)"},"analysis":{"anyOf":[{"type":"string","maxLength":100000},{"type":"null"}],"title":"Analysis","description":"Analysis (max 100KB)"},"prompt":{"anyOf":[{"type":"string","maxLength":10000},{"type":"null"}],"title":"Prompt","description":"Prompt (max 10KB)"},"keywords":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":50},{"type":"null"}],"title":"Keywords","description":"Keywords (max 50)"}},"type":"object","title":"MediaUpdateRequest"},"MessageCreate":{"properties":{"role":{"type":"string","enum":["user","assistant","system"],"title":"Role","description":"Message sender role"},"content":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Content","description":"Message content (required unless image_base64 is provided)"},"parent_message_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Message Id","description":"Parent message ID for branching"},"image_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Base64","description":"Optional base64 encoded image"}},"type":"object","required":["role"],"title":"MessageCreate","description":"Schema for creating a new message.","example":{"content":"Hello, how are you today?","role":"user"}},"MessageListResponse":{"properties":{"messages":{"items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__chat_session_schemas__MessageResponse"},"type":"array","title":"Messages","description":"List of messages"},"total":{"type":"integer","title":"Total","description":"Total number of messages"},"limit":{"type":"integer","title":"Limit","description":"Number of items per page"},"offset":{"type":"integer","title":"Offset","description":"Offset for pagination"}},"type":"object","required":["messages","total","limit","offset"],"title":"MessageListResponse","description":"Schema for listing messages."},"MessageUpdate":{"properties":{"content":{"type":"string","minLength":1,"title":"Content","description":"New message content"}},"type":"object","required":["content"],"title":"MessageUpdate","description":"Schema for updating a message.","example":{"content":"Updated message content"}},"MetadataPatchRequest":{"properties":{"safe_metadata":{"additionalProperties":true,"type":"object","title":"Safe Metadata","description":"Safe metadata JSON to set or merge"},"merge":{"type":"boolean","title":"Merge","description":"Merge with existing metadata if present","default":true},"new_version":{"type":"boolean","title":"New Version","description":"Create a new version with updated metadata","default":false}},"type":"object","required":["safe_metadata"],"title":"MetadataPatchRequest"},"MethodSpecificOptions":{"properties":{"code":{"$ref":"#/components/schemas/CodeMethodOptions"}},"type":"object","required":["code"],"title":"MethodSpecificOptions"},"ModelActionRequest":{"properties":{"model":{"type":"string","title":"Model"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"}},"type":"object","required":["model"],"title":"ModelActionRequest"},"ModerationBlocklistUpdate":{"properties":{"lines":{"items":{"type":"string"},"type":"array","title":"Lines","description":"Blocklist lines; regex lines can be wrapped in /.../"}},"type":"object","title":"ModerationBlocklistUpdate"},"ModerationSettingsResponse":{"properties":{"pii_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Pii Enabled","description":"Runtime override for pii_enabled or None if not overridden"},"categories_enabled":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Categories Enabled","description":"Runtime override for categories_enabled or None if not overridden"},"effective":{"additionalProperties":true,"type":"object","title":"Effective","description":"Effective settings after merge with config"}},"type":"object","required":["effective"],"title":"ModerationSettingsResponse"},"ModerationSettingsUpdate":{"properties":{"pii_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Pii Enabled"},"categories_enabled":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Categories Enabled"},"persist":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Persist","description":"Persist runtime overrides to file","default":false}},"type":"object","title":"ModerationSettingsUpdate"},"ModerationTestRequest":{"properties":{"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"User ID to apply effective policy"},"phase":{"type":"string","enum":["input","output"],"title":"Phase","description":"Moderation phase to test","default":"input"},"text":{"type":"string","title":"Text","description":"Sample text to test against moderation policy"}},"type":"object","required":["text"],"title":"ModerationTestRequest"},"ModerationTestResponse":{"properties":{"flagged":{"type":"boolean","title":"Flagged"},"action":{"type":"string","enum":["block","redact","warn","pass"],"title":"Action"},"sample":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sample"},"redacted_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Redacted Text"},"effective":{"additionalProperties":true,"type":"object","title":"Effective"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},"type":"object","required":["flagged","action","effective"],"title":"ModerationTestResponse"},"ModerationUserOverride":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","description":"Enable moderation for this user"},"input_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Input Enabled","description":"Enable input moderation for this user"},"output_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Output Enabled","description":"Enable output moderation for this user"},"input_action":{"anyOf":[{"type":"string","enum":["block","redact","warn"]},{"type":"null"}],"title":"Input Action","description":"Action for input violations"},"output_action":{"anyOf":[{"type":"string","enum":["block","redact","warn"]},{"type":"null"}],"title":"Output Action","description":"Action for output violations"},"redact_replacement":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Redact Replacement","description":"Replacement text for redaction"},"categories_enabled":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Categories Enabled","description":"Comma-separated categories to enable for this user (e.g., 'pii,confidential')"}},"type":"object","title":"ModerationUserOverride"},"ModerationUserOverridesResponse":{"properties":{"overrides":{"additionalProperties":{"additionalProperties":true,"type":"object"},"type":"object","title":"Overrides"}},"type":"object","required":["overrides"],"title":"ModerationUserOverridesResponse"},"NormalizationOptions":{"properties":{"normalize":{"type":"boolean","title":"Normalize","description":"Normalizes input text to make it easier for the model to say","default":true},"unit_normalization":{"type":"boolean","title":"Unit Normalization","description":"Transforms units like 10KB to 10 kilobytes","default":false},"url_normalization":{"type":"boolean","title":"Url Normalization","description":"Changes urls so they can be properly pronounced by kokoro","default":true},"email_normalization":{"type":"boolean","title":"Email Normalization","description":"Changes emails so they can be properly pronouced by kokoro","default":true},"optional_pluralization_normalization":{"type":"boolean","title":"Optional Pluralization Normalization","description":"Replaces (s) with s so some words get pronounced correctly","default":true},"phone_normalization":{"type":"boolean","title":"Phone Normalization","description":"Changes phone numbers so they can be properly pronouced by kokoro","default":true}},"type":"object","title":"NormalizationOptions","description":"Options for the normalization system"},"NoteBulkCreateItemResult":{"properties":{"success":{"type":"boolean","title":"Success"},"note":{"anyOf":[{"$ref":"#/components/schemas/NoteResponse"},{"type":"null"}]},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"NoteBulkCreateItemResult"},"NoteBulkCreateRequest":{"properties":{"notes":{"items":{"$ref":"#/components/schemas/NoteCreate"},"type":"array","maxItems":200,"minItems":1,"title":"Notes","description":"List of notes to create"}},"type":"object","required":["notes"],"title":"NoteBulkCreateRequest"},"NoteBulkCreateResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/NoteBulkCreateItemResult"},"type":"array","title":"Results"},"created_count":{"type":"integer","title":"Created Count","default":0},"failed_count":{"type":"integer","title":"Failed Count","default":0}},"type":"object","required":["results"],"title":"NoteBulkCreateResponse"},"NoteCreate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Title","description":"Title of the note. Optional when auto_title=true."},"content":{"type":"string","maxLength":5000000,"minLength":1,"title":"Content","description":"Content of the note (max 5MB)"},"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id","description":"Optional client-provided UUID for the note. If None, will be auto-generated."},"keywords":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keywords","description":"Optional keywords to attach to the note. Accepts a list of strings or a comma-separated string."},"auto_title":{"type":"boolean","title":"Auto Title","description":"If true and no title provided, auto-generate a title from content.","default":false},"title_strategy":{"type":"string","enum":["heuristic","llm","llm_fallback"],"title":"Title Strategy","description":"Strategy for title generation. MVP supports 'heuristic'.","default":"heuristic"},"title_max_len":{"type":"integer","maximum":500.0,"minimum":1.0,"title":"Title Max Len","description":"Max title length when auto-generating.","default":250},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Optional language hint for title generation."}},"type":"object","required":["content"],"title":"NoteCreate"},"NoteGraphResponse":{"properties":{"nodes":{"items":{"$ref":"#/components/schemas/GraphNode"},"type":"array","title":"Nodes"},"edges":{"items":{"$ref":"#/components/schemas/GraphEdge"},"type":"array","title":"Edges"},"truncated":{"type":"boolean","title":"Truncated","default":false},"truncated_by":{"items":{"type":"string"},"type":"array","title":"Truncated By"},"has_more":{"type":"boolean","title":"Has More","default":false},"cursor":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cursor"},"limits":{"$ref":"#/components/schemas/GraphLimits"}},"type":"object","required":["limits"],"title":"NoteGraphResponse","example":{"edges":[{"directed":false,"id":"e:1","source":"note:123","target":"note:456","type":"manual","weight":1.0},{"directed":false,"id":"e:2","source":"note:123","target":"tag:ml","type":"tag_membership"}],"has_more":false,"limits":{"max_degree":40,"max_edges":1200,"max_nodes":300},"nodes":[{"created_at":"2025-01-01T12:00:00Z","degree":2,"id":"note:123","label":"My Note","primary_source_id":"source:yt:abcd","tag_count":3,"type":"note"},{"id":"tag:ml","label":"ml","type":"tag"},{"id":"source:yt:abcd","label":"YouTube: abcd","type":"source"}],"truncated":false,"truncated_by":[]}},"NoteKeywordLinkResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["success"],"title":"NoteKeywordLinkResponse"},"NoteLinkCreate":{"properties":{"to_note_id":{"type":"string","minLength":1,"title":"To Note Id","description":"Target note id to link to"},"directed":{"type":"boolean","title":"Directed","description":"Whether the link is directed; defaults to false","default":false},"weight":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Weight","description":"Optional weight of the link","default":1.0},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Optional metadata to attach to the link"}},"type":"object","required":["to_note_id"],"title":"NoteLinkCreate","example":{"directed":false,"metadata":{"label":"related"},"to_note_id":"note:456","weight":1.0}},"NoteResponse":{"properties":{"title":{"type":"string","maxLength":255,"minLength":1,"title":"Title","description":"Title of the note"},"content":{"type":"string","maxLength":5000000,"minLength":1,"title":"Content","description":"Content of the note (max 5MB)"},"id":{"type":"string","title":"Id","description":"UUID of the note"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Timestamp of note creation"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Timestamp of last modification"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"client_id":{"type":"string","title":"Client Id","description":"Client ID that last modified the note"},"deleted":{"type":"boolean","title":"Deleted","description":"Whether the note is soft-deleted"},"keywords":{"anyOf":[{"items":{"$ref":"#/components/schemas/tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse"},"type":"array"},{"type":"null"}],"title":"Keywords","description":"Keywords linked to this note"}},"type":"object","required":["title","content","id","created_at","last_modified","version","client_id","deleted"],"title":"NoteResponse"},"NoteUpdate":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Title","description":"New title for the note"},"content":{"anyOf":[{"type":"string","maxLength":5000000,"minLength":1},{"type":"null"}],"title":"Content","description":"New content for the note (max 5MB)"}},"type":"object","title":"NoteUpdate"},"NotesExportRequest":{"properties":{"note_ids":{"items":{"type":"string"},"type":"array","title":"Note Ids","description":"List of note IDs to export"},"include_keywords":{"type":"boolean","title":"Include Keywords","default":false},"format":{"type":"string","enum":["json","csv"],"title":"Format","default":"json"}},"additionalProperties":false,"type":"object","required":["note_ids"],"title":"NotesExportRequest","description":"Export request for selected notes.\n\nAccepts explicit note IDs and optional flags for including keywords and\nselecting the output format."},"NotesExportResponse":{"properties":{"notes":{"items":{"$ref":"#/components/schemas/NoteResponse"},"type":"array","title":"Notes"},"data":{"items":{"$ref":"#/components/schemas/NoteResponse"},"type":"array","title":"Data"},"items":{"items":{"$ref":"#/components/schemas/NoteResponse"},"type":"array","title":"Items"},"results":{"items":{"$ref":"#/components/schemas/NoteResponse"},"type":"array","title":"Results"},"count":{"type":"integer","title":"Count"},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total"},"limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit"},"offset":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Offset"},"exported_at":{"type":"string","title":"Exported At"}},"type":"object","required":["notes","data","items","results","count","exported_at"],"title":"NotesExportResponse"},"NotesForKeywordResponse":{"properties":{"keyword_id":{"type":"integer","title":"Keyword Id"},"notes":{"items":{"$ref":"#/components/schemas/NoteResponse"},"type":"array","title":"Notes"}},"type":"object","required":["keyword_id","notes"],"title":"NotesForKeywordResponse"},"NotesListResponse":{"properties":{"notes":{"items":{"$ref":"#/components/schemas/NoteResponse"},"type":"array","title":"Notes"},"items":{"items":{"$ref":"#/components/schemas/NoteResponse"},"type":"array","title":"Items"},"results":{"items":{"$ref":"#/components/schemas/NoteResponse"},"type":"array","title":"Results"},"count":{"type":"integer","title":"Count"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total"}},"type":"object","required":["notes","items","results","count","limit","offset"],"title":"NotesListResponse"},"NotesTitleSettingsUpdate":{"properties":{"llm_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Llm Enabled"},"default_strategy":{"anyOf":[{"type":"string","enum":["heuristic","llm","llm_fallback"]},{"type":"null"}],"title":"Default Strategy"}},"additionalProperties":false,"type":"object","title":"NotesTitleSettingsUpdate","description":"Update payload for Notes auto-title settings.\n\n- llm_enabled: enable/disable LLM-backed title generation\n- default_strategy: default strategy to use when clients send \"heuristic\""},"NotificationSettings":{"properties":{"enabled":{"type":"boolean","title":"Enabled"},"min_severity":{"type":"string","title":"Min Severity"},"file":{"type":"string","title":"File"},"webhook_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook Url"},"email_to":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email To"},"smtp_host":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Smtp Host"},"smtp_port":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Smtp Port"},"smtp_starttls":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Smtp Starttls"},"smtp_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Smtp User"},"email_from":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email From"}},"type":"object","required":["enabled","min_severity","file"],"title":"NotificationSettings"},"NotificationSettingsUpdate":{"properties":{"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled"},"min_severity":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Min Severity"},"file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File"},"webhook_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Webhook Url"},"email_to":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email To"},"smtp_host":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Smtp Host"},"smtp_port":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Smtp Port"},"smtp_starttls":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Smtp Starttls"},"smtp_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Smtp User"},"smtp_password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Smtp Password"},"email_from":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email From"}},"type":"object","title":"NotificationSettingsUpdate"},"NotificationTestRequest":{"properties":{"severity":{"type":"string","title":"Severity","default":"critical"},"message":{"type":"string","title":"Message","default":"Test notification from admin panel"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}},"type":"object","title":"NotificationTestRequest"},"OCREvaluationItem":{"properties":{"id":{"type":"string","title":"Id","description":"Document identifier"},"extracted_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Extracted Text","description":"OCR-extracted text (if already computed)"},"ground_truth_text":{"type":"string","title":"Ground Truth Text","description":"Ground-truth text for comparison"},"ground_truth_pages":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Ground Truth Pages","description":"Per-page ground-truth texts (aligned to PDF pages)"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["id","ground_truth_text"],"title":"OCREvaluationItem"},"OCREvaluationRequest":{"properties":{"items":{"items":{"$ref":"#/components/schemas/OCREvaluationItem"},"type":"array","title":"Items"},"metrics":{"anyOf":[{"items":{"type":"string","enum":["cer","wer","coverage","page_coverage"]},"type":"array"},{"type":"null"}],"title":"Metrics","description":"Metrics to compute"},"ocr_options":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Ocr Options","description":"OCR configuration options"},"thresholds":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Thresholds","description":"Pass/fail thresholds: max_cer, max_wer, min_coverage, min_page_coverage"}},"type":"object","required":["items"],"title":"OCREvaluationRequest"},"OCREvaluationResponse":{"properties":{"evaluation_id":{"type":"string","title":"Evaluation Id"},"results":{"additionalProperties":true,"type":"object","title":"Results"},"evaluation_time":{"type":"number","title":"Evaluation Time"}},"type":"object","required":["evaluation_id","results","evaluation_time"],"title":"OCREvaluationResponse"},"OpenAISpeechRequest":{"properties":{"model":{"type":"string","title":"Model","description":"The model to use for generation. Supported models: tts-1, tts-1-hd, kokoro, higgs, chatterbox, vibevoice","default":"kokoro"},"input":{"type":"string","title":"Input","description":"The text to generate audio for"},"voice":{"type":"string","title":"Voice","description":"The voice to use for generation. Can be a base voice or a combined voice name.","default":"af_heart"},"response_format":{"type":"string","enum":["mp3","opus","aac","flac","wav","pcm"],"title":"Response Format","description":"The format to return audio in. Supported formats: mp3, opus, aac, flac, wav, pcm. PCM format returns raw 16-bit samples without headers.","default":"mp3"},"download_format":{"anyOf":[{"type":"string","enum":["mp3","opus","aac","flac","wav","pcm"]},{"type":"null"}],"title":"Download Format","description":"Reserved for future use. Currently ignored; the final audio format always matches response_format."},"speed":{"type":"number","maximum":4.0,"minimum":0.25,"title":"Speed","description":"The speed of the generated audio. Select a value from 0.25 to 4.0.","default":1.0},"stream":{"type":"boolean","title":"Stream","description":"If true (default), audio will be streamed as it's generated. Each chunk will be a complete sentence.","default":true},"return_download_link":{"type":"boolean","title":"Return Download Link","description":"If true, returns a download link in X-Download-Path header after streaming completes","default":false},"lang_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lang Code","description":"Optional language code to use for text processing. If not provided, will use first letter of voice name."},"normalization_options":{"anyOf":[{"$ref":"#/components/schemas/NormalizationOptions"},{"type":"null"}],"description":"Options for the normalization system","default":{"normalize":true,"unit_normalization":false,"url_normalization":true,"email_normalization":true,"optional_pluralization_normalization":true,"phone_normalization":true}},"voice_reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Voice Reference","description":"Base64-encoded audio data for voice cloning/reference. Supported by Higgs (3-10s), Chatterbox (5-20s), and VibeVoice models."},"reference_duration_min":{"anyOf":[{"type":"number","maximum":60.0,"minimum":3.0},{"type":"null"}],"title":"Reference Duration Min","description":"Minimum duration in seconds for voice reference audio. If provided, will validate reference audio length."},"extra_params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extra Params","description":"Provider-specific parameters passed through to adapters (e.g., stability, clarity, cfg_scale)."}},"type":"object","required":["input"],"title":"OpenAISpeechRequest","description":"Request schema for OpenAI-compatible speech endpoint"},"OptimizationConfig":{"properties":{"optimizer_type":{"type":"string","title":"Optimizer Type","description":"Type of optimizer to use"},"max_iterations":{"type":"integer","maximum":500.0,"minimum":1.0,"title":"Max Iterations","description":"Maximum iterations","default":50},"target_metric":{"type":"string","title":"Target Metric","description":"Metric to optimize"},"target_value":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Target Value","description":"Target metric value to achieve"},"early_stopping":{"type":"boolean","title":"Early Stopping","description":"Enable early stopping","default":true},"early_stopping_patience":{"type":"integer","minimum":1.0,"title":"Early Stopping Patience","description":"Iterations without improvement before stopping","default":5},"temperature_range":{"items":{"type":"number"},"type":"array","title":"Temperature Range","description":"Temperature range to explore","default":[0.0,1.0]},"techniques_to_try":{"items":{"type":"string"},"type":"array","title":"Techniques To Try","description":"Prompt techniques to try","default":["cot","few_shot"]},"models_to_test":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Models To Test","description":"Models to test during optimization"},"budget_limit":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Budget Limit","description":"Maximum budget in dollars"},"strategy_params":{"additionalProperties":true,"type":"object","title":"Strategy Params","description":"Additional strategy-specific parameters (e.g., beam_width, mutation_rate)"}},"type":"object","required":["optimizer_type","target_metric"],"title":"OptimizationConfig","description":"Configuration for optimization run"},"OptimizationCreate":{"properties":{"project_id":{"type":"integer","title":"Project Id"},"initial_prompt_id":{"type":"integer","title":"Initial Prompt Id"},"optimization_config":{"$ref":"#/components/schemas/OptimizationConfig"},"bootstrap_config":{"anyOf":[{"$ref":"#/components/schemas/BootstrapConfig"},{"type":"null"}]},"test_case_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Test Case Ids","description":"Specific test cases to optimize against"},"name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Name","description":"Optimization run name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Optimization run description"}},"type":"object","required":["project_id","initial_prompt_id","optimization_config"],"title":"OptimizationCreate","description":"Optimization creation request"},"OptimizationIterationCreate":{"properties":{"iteration_number":{"type":"integer","minimum":1.0,"title":"Iteration Number","description":"Iteration number starting at 1"},"prompt_variant":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Prompt Variant","description":"Prompt variant used"},"metrics":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metrics","description":"Metrics for this iteration"},"tokens_used":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Tokens Used"},"cost":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Cost"},"note":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Note"}},"type":"object","required":["iteration_number"],"title":"OptimizationIterationCreate"},"OptimizationSimpleCreateRequest":{"properties":{"prompt_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Prompt Id"},"initial_prompt_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Initial Prompt Id"},"config":{"additionalProperties":true,"type":"object","title":"Config"},"project_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"},"strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy"}},"additionalProperties":false,"type":"object","title":"OptimizationSimpleCreateRequest","description":"Minimal optimization job creation payload (compat endpoint)."},"OrgMemberAddRequest":{"properties":{"user_id":{"type":"integer","title":"User Id"},"role":{"anyOf":[{"type":"string","pattern":"^(owner|admin|lead|member)$"},{"type":"null"}],"title":"Role","default":"member"}},"type":"object","required":["user_id"],"title":"OrgMemberAddRequest"},"OrgMemberListItem":{"properties":{"user_id":{"type":"integer","title":"User Id"},"role":{"type":"string","title":"Role"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"added_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Added At"}},"type":"object","required":["user_id","role"],"title":"OrgMemberListItem"},"OrgMemberResponse":{"properties":{"org_id":{"type":"integer","title":"Org Id"},"user_id":{"type":"integer","title":"User Id"},"role":{"type":"string","title":"Role"}},"type":"object","required":["org_id","user_id","role"],"title":"OrgMemberResponse"},"OrgMemberRoleUpdateRequest":{"properties":{"role":{"type":"string","pattern":"^(owner|admin|lead|member)$","title":"Role"}},"type":"object","required":["role"],"title":"OrgMemberRoleUpdateRequest"},"OrgMembershipItem":{"properties":{"org_id":{"type":"integer","title":"Org Id"},"role":{"type":"string","title":"Role"}},"type":"object","required":["org_id","role"],"title":"OrgMembershipItem"},"OrganizationCreateRequest":{"properties":{"name":{"type":"string","minLength":2,"title":"Name"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"owner_user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Owner User Id"}},"type":"object","required":["name"],"title":"OrganizationCreateRequest"},"OrganizationResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"owner_user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Owner User Id"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","name"],"title":"OrganizationResponse"},"OrganizationWatchlistsSettingsResponse":{"properties":{"org_id":{"type":"integer","title":"Org Id"},"require_include_default":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Require Include Default"}},"type":"object","required":["org_id"],"title":"OrganizationWatchlistsSettingsResponse"},"OrganizationWatchlistsSettingsUpdate":{"properties":{"require_include_default":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Require Include Default","description":"When true, include-only gating is enabled by default for jobs in this organization"}},"type":"object","title":"OrganizationWatchlistsSettingsUpdate"},"OutputArtifact":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"type":{"type":"string","title":"Type"},"format":{"type":"string","enum":["md","html","mp3"],"title":"Format"},"storage_path":{"type":"string","title":"Storage Path"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","title","type","format","storage_path","created_at"],"title":"OutputArtifact"},"OutputCreateRequest":{"properties":{"template_id":{"type":"integer","title":"Template Id"},"item_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Item Ids","description":"Items to render"},"run_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Run Id","description":"Run to select items from (future)"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Data","description":"Inline context override (advanced)"},"tts_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tts Model","description":"TTS model id, e.g., 'kokoro', 'tts-1'"},"tts_voice":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tts Voice","description":"TTS voice id, e.g., 'af_heart'"},"tts_speed":{"anyOf":[{"type":"number","maximum":4.0,"minimum":0.25},{"type":"null"}],"title":"Tts Speed","description":"TTS speed override"}},"type":"object","required":["template_id"],"title":"OutputCreateRequest"},"OutputListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/OutputArtifact"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"size":{"type":"integer","title":"Size"}},"type":"object","required":["items","total","page","size"],"title":"OutputListResponse"},"OutputTemplate":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"name":{"type":"string","title":"Name"},"type":{"type":"string","enum":["newsletter_markdown","briefing_markdown","mece_markdown","newsletter_html","tts_audio"],"title":"Type"},"format":{"type":"string","enum":["md","html","mp3"],"title":"Format"},"body":{"type":"string","title":"Body"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_default":{"type":"boolean","title":"Is Default","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["id","name","type","format","body","created_at","updated_at"],"title":"OutputTemplate","description":"Template model used in responses."},"OutputTemplateCreate":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"type":{"type":"string","enum":["newsletter_markdown","briefing_markdown","mece_markdown","newsletter_html","tts_audio"],"title":"Type"},"format":{"type":"string","enum":["md","html","mp3"],"title":"Format"},"body":{"type":"string","title":"Body","description":"Template body (e.g., Jinja2/Markdown/HTML)"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"is_default":{"type":"boolean","title":"Is Default","default":false},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Arbitrary template metadata. For tts, supports keys tts_default_model, tts_default_voice, tts_default_speed."}},"type":"object","required":["name","type","format","body"],"title":"OutputTemplateCreate","description":"Create an output template used for rendering collections (items or runs)."},"OutputTemplateList":{"properties":{"items":{"items":{"$ref":"#/components/schemas/OutputTemplate"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"OutputTemplateList"},"OutputTemplateUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Name"},"type":{"anyOf":[{"type":"string","enum":["newsletter_markdown","briefing_markdown","mece_markdown","newsletter_html","tts_audio"]},{"type":"null"}],"title":"Type"},"format":{"anyOf":[{"type":"string","enum":["md","html","mp3"]},{"type":"null"}],"title":"Format"},"body":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Body"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"is_default":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Default"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"OutputTemplateUpdate","description":"Partial update for an existing template."},"OutputUpdateRequest":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Title"},"retention_until":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Retention Until","description":"ISO timestamp when this output can be purged"},"format":{"anyOf":[{"type":"string","enum":["md","html"]},{"type":"null"}],"title":"Format","description":"Change text format and re-encode (md/html only)"}},"type":"object","title":"OutputUpdateRequest"},"OutputsPurgeRequest":{"properties":{"delete_files":{"type":"boolean","title":"Delete Files","default":false},"soft_deleted_grace_days":{"type":"integer","title":"Soft Deleted Grace Days","default":30},"include_retention":{"type":"boolean","title":"Include Retention","default":true}},"type":"object","title":"OutputsPurgeRequest"},"OwnerProcessingSummary":{"properties":{"owner_user_id":{"type":"string","title":"Owner User Id"},"processing":{"type":"integer","title":"Processing"},"limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit"}},"type":"object","required":["owner_user_id","processing","limit"],"title":"OwnerProcessingSummary"},"PMCOAIHeader":{"properties":{"identifier":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Identifier"},"datestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Datestamp"},"setSpecs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Setspecs"}},"type":"object","title":"PMCOAIHeader"},"PMCOAIIdentifiersResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/PMCOAIHeader"},"type":"array","title":"Items"},"resumption_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resumption Token"}},"type":"object","required":["query_echo","items"],"title":"PMCOAIIdentifiersResponse"},"PMCOAIIdentifyResponse":{"properties":{"info":{"additionalProperties":true,"type":"object","title":"Info"}},"type":"object","required":["info"],"title":"PMCOAIIdentifyResponse"},"PMCOAIListResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/PMCOAIRecord"},"type":"array","title":"Items"},"resumption_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resumption Token"}},"type":"object","required":["query_echo","items"],"title":"PMCOAIListResponse"},"PMCOAIListSetsResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/PMCOAISet"},"type":"array","title":"Items"},"resumption_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resumption Token"}},"type":"object","required":["query_echo","items"],"title":"PMCOAIListSetsResponse"},"PMCOAIMetadata":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"creators":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Creators"},"identifiers":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Identifiers"},"rights":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Rights"},"license_urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"License Urls"},"date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date"},"pmcid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pmcid"},"pmid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pmid"},"doi":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doi"}},"type":"object","title":"PMCOAIMetadata"},"PMCOAIRecord":{"properties":{"header":{"anyOf":[{"$ref":"#/components/schemas/PMCOAIHeader"},{"type":"null"}]},"metadata":{"anyOf":[{"$ref":"#/components/schemas/PMCOAIMetadata"},{"type":"null"}]},"raw_xml":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Raw Xml"}},"type":"object","title":"PMCOAIRecord"},"PMCOAISet":{"properties":{"setSpec":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Setspec"},"setName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Setname"}},"type":"object","title":"PMCOAISet"},"PMCOAIdentifyResponse":{"properties":{"info":{"additionalProperties":true,"type":"object","title":"Info"}},"type":"object","required":["info"],"title":"PMCOAIdentifyResponse"},"PMCOALink":{"properties":{"format":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Format"},"updated":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated"},"href":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Href"}},"type":"object","title":"PMCOALink"},"PMCOAQueryResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/PMCOARecord"},"type":"array","title":"Items"},"resumption_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resumption Token"}},"type":"object","required":["query_echo","items"],"title":"PMCOAQueryResponse"},"PMCOARecord":{"properties":{"id":{"type":"string","title":"Id"},"citation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Citation"},"license":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License"},"retracted":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Retracted"},"links":{"items":{"$ref":"#/components/schemas/PMCOALink"},"type":"array","title":"Links","default":[]}},"type":"object","required":["id"],"title":"PMCOARecord"},"PaginatedPromptsResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/PromptBriefResponse"},"type":"array","title":"Items"},"total_pages":{"type":"integer","title":"Total Pages"},"current_page":{"type":"integer","title":"Current Page"},"total_items":{"type":"integer","title":"Total Items"}},"type":"object","required":["items","total_pages","current_page","total_items"],"title":"PaginatedPromptsResponse"},"PaginationInfo":{"properties":{"page":{"type":"integer","title":"Page","description":"The current page number.","example":1},"results_per_page":{"type":"integer","title":"Results Per Page","description":"Number of items requested per page.","example":10},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages available.","example":5},"total_items":{"type":"integer","title":"Total Items","description":"Total number of items matching the query.","example":48}},"type":"object","required":["page","results_per_page","total_pages","total_items"],"title":"PaginationInfo","description":"Model for pagination details used in list responses."},"PaginationMetadata":{"properties":{"page":{"type":"integer","minimum":1.0,"title":"Page"},"per_page":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Per Page"},"total":{"type":"integer","minimum":0.0,"title":"Total"},"total_pages":{"type":"integer","minimum":0.0,"title":"Total Pages"}},"type":"object","required":["page","per_page","total","total_pages"],"title":"PaginationMetadata","description":"Pagination metadata for list responses"},"PasswordChangeRequest":{"properties":{"current_password":{"type":"string","title":"Current Password","description":"Current password"},"new_password":{"type":"string","minLength":10,"title":"New Password","description":"New password"}},"type":"object","required":["current_password","new_password"],"title":"PasswordChangeRequest","description":"Password change request","example":{"current_password":"OldPass123!","new_password":"NewSecurePass456!"}},"PermissionCreateRequest":{"properties":{"name":{"type":"string","maxLength":128,"minLength":2,"title":"Name","description":"Permission code e.g., media.read"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},"type":"object","required":["name"],"title":"PermissionCreateRequest"},"PermissionResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},"type":"object","required":["id","name"],"title":"PermissionResponse"},"PipelineCleanupResponse":{"properties":{"expired_count":{"type":"integer","title":"Expired Count"},"deleted_count":{"type":"integer","title":"Deleted Count"},"errors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Errors"}},"type":"object","required":["expired_count","deleted_count"],"title":"PipelineCleanupResponse"},"PipelineMetricsSelection":{"properties":{"chunking_metrics":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Chunking Metrics"},"retrieval_metrics":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Retrieval Metrics"},"generation_metrics":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Generation Metrics"}},"type":"object","title":"PipelineMetricsSelection","description":"Select which metrics to compute at each step."},"PipelinePresetCreate":{"properties":{"name":{"type":"string","maxLength":128,"minLength":1,"title":"Name"},"config":{"additionalProperties":true,"type":"object","title":"Config","description":"RAG pipeline config blocks: {chunking,retriever,reranker,rag}"}},"type":"object","required":["name","config"],"title":"PipelinePresetCreate"},"PipelinePresetListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/PipelinePresetResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"PipelinePresetListResponse"},"PipelinePresetResponse":{"properties":{"name":{"type":"string","title":"Name"},"config":{"additionalProperties":true,"type":"object","title":"Config"},"created_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["name","config"],"title":"PipelinePresetResponse"},"PolicyUpsertRequest":{"properties":{"payload":{"additionalProperties":true,"type":"object","title":"Payload","description":"Policy payload JSON object"},"version":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Version","description":"Optional explicit version (auto-increments if omitted)"}},"type":"object","required":["payload"],"title":"PolicyUpsertRequest"},"PreviewChatbookResponse":{"properties":{"manifest":{"anyOf":[{"$ref":"#/components/schemas/ChatbookManifestResponse"},{"type":"null"}]},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","title":"PreviewChatbookResponse","description":"Response for chatbook preview."},"PreviewItem":{"properties":{"source_id":{"type":"integer","title":"Source Id"},"source_type":{"type":"string","enum":["rss","site"],"title":"Source Type"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"published_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Published At"},"decision":{"type":"string","enum":["ingest","filtered"],"title":"Decision"},"matched_action":{"anyOf":[{"type":"string","enum":["include","exclude","flag"]},{"type":"null"}],"title":"Matched Action"},"matched_filter_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Matched Filter Key"},"flagged":{"type":"boolean","title":"Flagged","default":false}},"type":"object","required":["source_id","source_type","decision"],"title":"PreviewItem"},"PreviewResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/PreviewItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"ingestable":{"type":"integer","title":"Ingestable"},"filtered":{"type":"integer","title":"Filtered"}},"type":"object","required":["items","total","ingestable","filtered"],"title":"PreviewResponse"},"PriorityBumpRequest":{"properties":{"job_id":{"type":"string","title":"Job Id"},"priority":{"type":"string","title":"Priority","description":"one of: high|normal|low"},"ttl_seconds":{"anyOf":[{"type":"integer","maximum":86400.0,"minimum":1.0},{"type":"null"}],"title":"Ttl Seconds","default":600}},"type":"object","required":["job_id","priority"],"title":"PriorityBumpRequest"},"PrivilegeBucket":{"properties":{"key":{"type":"string","title":"Key"},"users":{"type":"integer","title":"Users"},"endpoints":{"type":"integer","title":"Endpoints"},"scopes":{"type":"integer","title":"Scopes"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["key","users","endpoints","scopes"],"title":"PrivilegeBucket"},"PrivilegeDependency":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","title":"Type","default":"dependency"},"module":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Module"}},"type":"object","required":["id"],"title":"PrivilegeDependency"},"PrivilegeDetailItem":{"properties":{"user_id":{"type":"string","title":"User Id"},"user_name":{"type":"string","title":"User Name"},"role":{"type":"string","title":"Role"},"endpoint":{"type":"string","title":"Endpoint"},"method":{"type":"string","title":"Method"},"privilege_scope_id":{"type":"string","title":"Privilege Scope Id"},"feature_flag_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feature Flag Id"},"sensitivity_tier":{"type":"string","title":"Sensitivity Tier"},"ownership_predicates":{"items":{"type":"string"},"type":"array","title":"Ownership Predicates"},"status":{"type":"string","enum":["allowed","blocked"],"title":"Status"},"blocked_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Blocked Reason"},"dependencies":{"items":{"$ref":"#/components/schemas/PrivilegeDependency"},"type":"array","title":"Dependencies"},"dependency_sources":{"items":{"type":"string"},"type":"array","title":"Dependency Sources"},"rate_limit_class":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rate Limit Class"},"rate_limit_resources":{"items":{"type":"string"},"type":"array","title":"Rate Limit Resources"},"source_module":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Module"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"}},"type":"object","required":["user_id","user_name","role","endpoint","method","privilege_scope_id","sensitivity_tier","status"],"title":"PrivilegeDetailItem"},"PrivilegeDetailResponse":{"properties":{"catalog_version":{"type":"string","title":"Catalog Version"},"generated_at":{"type":"string","format":"date-time","title":"Generated At"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"},"total_items":{"type":"integer","title":"Total Items"},"items":{"items":{"$ref":"#/components/schemas/PrivilegeDetailItem"},"type":"array","title":"Items"},"recommended_actions":{"anyOf":[{"items":{"$ref":"#/components/schemas/PrivilegeRecommendedAction"},"type":"array"},{"type":"null"}],"title":"Recommended Actions"}},"type":"object","required":["catalog_version","generated_at","page","page_size","total_items","items"],"title":"PrivilegeDetailResponse"},"PrivilegeRecommendedAction":{"properties":{"privilege_scope_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Privilege Scope Id"},"action":{"type":"string","title":"Action"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"}},"type":"object","required":["action"],"title":"PrivilegeRecommendedAction"},"PrivilegeSelfItem":{"properties":{"endpoint":{"type":"string","title":"Endpoint"},"method":{"type":"string","title":"Method"},"privilege_scope_id":{"type":"string","title":"Privilege Scope Id"},"feature_flag_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feature Flag Id"},"sensitivity_tier":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sensitivity Tier"},"ownership_predicates":{"items":{"type":"string"},"type":"array","title":"Ownership Predicates"},"status":{"type":"string","enum":["allowed","blocked"],"title":"Status"},"blocked_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Blocked Reason"},"dependencies":{"items":{"$ref":"#/components/schemas/PrivilegeDependency"},"type":"array","title":"Dependencies"},"dependency_sources":{"items":{"type":"string"},"type":"array","title":"Dependency Sources"},"rate_limit_class":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rate Limit Class"},"rate_limit_resources":{"items":{"type":"string"},"type":"array","title":"Rate Limit Resources"},"source_module":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Module"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"}},"type":"object","required":["endpoint","method","privilege_scope_id","status"],"title":"PrivilegeSelfItem"},"PrivilegeSelfResponse":{"properties":{"catalog_version":{"type":"string","title":"Catalog Version"},"generated_at":{"type":"string","format":"date-time","title":"Generated At"},"items":{"items":{"$ref":"#/components/schemas/PrivilegeSelfItem"},"type":"array","title":"Items"},"recommended_actions":{"items":{"$ref":"#/components/schemas/PrivilegeRecommendedAction"},"type":"array","title":"Recommended Actions"}},"type":"object","required":["catalog_version","generated_at","items"],"title":"PrivilegeSelfResponse"},"PrivilegeSnapshotCreateRequest":{"properties":{"target_scope":{"type":"string","enum":["org","team","user"],"title":"Target Scope"},"org_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Org Id"},"team_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Team Id"},"user_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"User Ids"},"catalog_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Catalog Version"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"async":{"type":"boolean","title":"Async","default":false}},"type":"object","required":["target_scope"],"title":"PrivilegeSnapshotCreateRequest"},"PrivilegeSnapshotDetailItem":{"properties":{"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"endpoint":{"type":"string","title":"Endpoint"},"method":{"type":"string","title":"Method"},"privilege_scope_id":{"type":"string","title":"Privilege Scope Id"},"feature_flag_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feature Flag Id"},"sensitivity_tier":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sensitivity Tier"},"ownership_predicates":{"items":{"type":"string"},"type":"array","title":"Ownership Predicates"},"status":{"type":"string","enum":["allowed","blocked"],"title":"Status"},"blocked_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Blocked Reason"},"dependencies":{"items":{"$ref":"#/components/schemas/PrivilegeDependency"},"type":"array","title":"Dependencies"},"dependency_sources":{"items":{"type":"string"},"type":"array","title":"Dependency Sources"},"rate_limit_class":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rate Limit Class"},"rate_limit_resources":{"items":{"type":"string"},"type":"array","title":"Rate Limit Resources"},"source_module":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Module"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"}},"type":"object","required":["endpoint","method","privilege_scope_id","status"],"title":"PrivilegeSnapshotDetailItem"},"PrivilegeSnapshotDetailMatrix":{"properties":{"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"},"total_items":{"type":"integer","title":"Total Items"},"items":{"items":{"$ref":"#/components/schemas/PrivilegeSnapshotDetailItem"},"type":"array","title":"Items"}},"type":"object","required":["page","page_size","total_items","items"],"title":"PrivilegeSnapshotDetailMatrix"},"PrivilegeSnapshotDetailResponse":{"properties":{"snapshot_id":{"type":"string","title":"Snapshot Id"},"catalog_version":{"type":"string","title":"Catalog Version"},"generated_at":{"type":"string","format":"date-time","title":"Generated At"},"generated_by":{"type":"string","title":"Generated By"},"target_scope":{"type":"string","enum":["org","team","user"],"title":"Target Scope"},"org_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Org Id"},"team_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Team Id"},"summary":{"anyOf":[{"$ref":"#/components/schemas/PrivilegeSnapshotSummary"},{"type":"null"}]},"detail":{"anyOf":[{"$ref":"#/components/schemas/PrivilegeSnapshotDetailMatrix"},{"type":"null"}]},"etag":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Etag"}},"type":"object","required":["snapshot_id","catalog_version","generated_at","generated_by","target_scope"],"title":"PrivilegeSnapshotDetailResponse"},"PrivilegeSnapshotListItem":{"properties":{"snapshot_id":{"type":"string","title":"Snapshot Id"},"generated_at":{"type":"string","format":"date-time","title":"Generated At"},"generated_by":{"type":"string","title":"Generated By"},"org_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Org Id"},"team_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Team Id"},"catalog_version":{"type":"string","title":"Catalog Version"},"summary":{"anyOf":[{"$ref":"#/components/schemas/PrivilegeSnapshotSummary"},{"type":"null"}]},"target_scope":{"anyOf":[{"type":"string","enum":["org","team","user"]},{"type":"null"}],"title":"Target Scope"}},"type":"object","required":["snapshot_id","generated_at","generated_by","catalog_version"],"title":"PrivilegeSnapshotListItem"},"PrivilegeSnapshotListResponse":{"properties":{"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"},"total_items":{"type":"integer","title":"Total Items"},"items":{"items":{"$ref":"#/components/schemas/PrivilegeSnapshotListItem"},"type":"array","title":"Items"},"filters":{"additionalProperties":true,"type":"object","title":"Filters"}},"type":"object","required":["page","page_size","total_items","items"],"title":"PrivilegeSnapshotListResponse"},"PrivilegeSnapshotRecord":{"properties":{"snapshot_id":{"type":"string","title":"Snapshot Id"},"generated_at":{"type":"string","format":"date-time","title":"Generated At"},"generated_by":{"type":"string","title":"Generated By"},"target_scope":{"type":"string","enum":["org","team","user"],"title":"Target Scope"},"org_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Org Id"},"team_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Team Id"},"catalog_version":{"type":"string","title":"Catalog Version"},"summary":{"anyOf":[{"$ref":"#/components/schemas/PrivilegeSnapshotSummary"},{"type":"null"}]}},"type":"object","required":["snapshot_id","generated_at","generated_by","target_scope","catalog_version"],"title":"PrivilegeSnapshotRecord"},"PrivilegeSnapshotSummary":{"properties":{"users":{"type":"integer","title":"Users"},"scopes":{"type":"integer","title":"Scopes"},"endpoints":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Endpoints"},"sensitivity_breakdown":{"additionalProperties":{"type":"integer"},"type":"object","title":"Sensitivity Breakdown"},"scope_ids":{"items":{"type":"string"},"type":"array","title":"Scope Ids"},"endpoint_paths":{"items":{"type":"string"},"type":"array","title":"Endpoint Paths"}},"type":"object","required":["users","scopes"],"title":"PrivilegeSnapshotSummary"},"PrivilegeSummaryResponse":{"properties":{"catalog_version":{"type":"string","title":"Catalog Version"},"generated_at":{"type":"string","format":"date-time","title":"Generated At"},"group_by":{"type":"string","title":"Group By"},"buckets":{"items":{"$ref":"#/components/schemas/PrivilegeBucket"},"type":"array","title":"Buckets"},"trends":{"items":{"$ref":"#/components/schemas/PrivilegeTrend"},"type":"array","title":"Trends"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"}},"type":"object","required":["catalog_version","generated_at","group_by","buckets"],"title":"PrivilegeSummaryResponse"},"PrivilegeTrend":{"properties":{"key":{"type":"string","title":"Key"},"window":{"$ref":"#/components/schemas/PrivilegeTrendWindow"},"delta_users":{"type":"integer","title":"Delta Users","default":0},"delta_endpoints":{"type":"integer","title":"Delta Endpoints","default":0},"delta_scopes":{"type":"integer","title":"Delta Scopes","default":0}},"type":"object","required":["key","window"],"title":"PrivilegeTrend"},"PrivilegeTrendWindow":{"properties":{"start":{"type":"string","format":"date-time","title":"Start"},"end":{"type":"string","format":"date-time","title":"End"}},"type":"object","required":["start","end"],"title":"PrivilegeTrendWindow"},"ProcessContextRequest":{"properties":{"text":{"type":"string","title":"Text","description":"Text to scan for keywords"},"world_book_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"World Book Ids","description":"Specific world books to use"},"character_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Character Id","description":"Character whose world books to use"},"scan_depth":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Scan Depth","description":"Override for scan depth","default":3},"token_budget":{"type":"integer","maximum":5000.0,"minimum":50.0,"title":"Token Budget","description":"Maximum tokens to inject","default":500},"recursive_scanning":{"type":"boolean","title":"Recursive Scanning","description":"Enable recursive scanning","default":false}},"type":"object","required":["text"],"title":"ProcessContextRequest","description":"Request schema for processing text with world info."},"ProcessContextResponse":{"properties":{"injected_content":{"type":"string","title":"Injected Content","description":"World info content to inject"},"entries_matched":{"type":"integer","title":"Entries Matched","description":"Number of entries that matched"},"tokens_used":{"type":"integer","title":"Tokens Used","description":"Estimated tokens used"},"books_used":{"type":"integer","title":"Books Used","description":"Number of world books that had matches"},"entry_ids":{"items":{"type":"integer"},"type":"array","title":"Entry Ids","description":"IDs of matched entries"}},"type":"object","required":["injected_content","entries_matched","tokens_used","books_used","entry_ids"],"title":"ProcessContextResponse","description":"Response schema for processed context."},"ProcessTextRequest":{"properties":{"text":{"type":"string","title":"Text","description":"Text to process"},"dictionary_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dictionary Id","description":"Specific dictionary to use"},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"Specific group to filter entries"},"max_iterations":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Max Iterations","description":"Maximum processing iterations","default":5},"token_budget":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Token Budget","description":"Optional token limit"}},"type":"object","required":["text"],"title":"ProcessTextRequest","description":"Request schema for processing text through dictionaries."},"ProcessTextResponse":{"properties":{"original_text":{"type":"string","title":"Original Text","description":"Original input text"},"processed_text":{"type":"string","title":"Processed Text","description":"Text after processing"},"replacements":{"type":"integer","title":"Replacements","description":"Total number of replacements made"},"iterations":{"type":"integer","title":"Iterations","description":"Number of iterations performed"},"entries_used":{"items":{"type":"integer"},"type":"array","title":"Entries Used","description":"IDs of entries that made replacements"},"token_budget_exceeded":{"type":"boolean","title":"Token Budget Exceeded","description":"Whether token budget was exceeded","default":false},"processing_time_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Processing Time Ms","description":"Processing time in milliseconds"}},"type":"object","required":["original_text","processed_text","replacements","iterations","entries_used"],"title":"ProcessTextResponse","description":"Response schema for processed text."},"ProjectCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Project name"},"description":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Description","description":"Project description"},"status":{"$ref":"#/components/schemas/ProjectStatus","description":"Project status","default":"draft"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata"}},"type":"object","required":["name"],"title":"ProjectCreate","description":"Project creation request"},"ProjectStatus":{"type":"string","enum":["draft","active","archived"],"title":"ProjectStatus"},"ProjectUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":2000},{"type":"null"}],"title":"Description"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProjectStatus"},{"type":"null"}]},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"ProjectUpdate","description":"Project update request"},"PromptBriefResponse":{"properties":{"id":{"type":"integer","title":"Id"},"uuid":{"type":"string","title":"Uuid"},"name":{"type":"string","title":"Name"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified"}},"type":"object","required":["id","uuid","name","author","last_modified"],"title":"PromptBriefResponse"},"PromptCollectionCreateRequest":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"prompt_ids":{"items":{"type":"integer"},"type":"array","title":"Prompt Ids"}},"additionalProperties":false,"type":"object","required":["name"],"title":"PromptCollectionCreateRequest"},"PromptConfigResponse":{"properties":{"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Document type"},"system_prompt":{"type":"string","title":"System Prompt","description":"System prompt"},"user_prompt":{"type":"string","title":"User Prompt","description":"User prompt template"},"temperature":{"type":"number","title":"Temperature","description":"Generation temperature"},"max_tokens":{"type":"integer","title":"Max Tokens","description":"Maximum tokens"},"is_custom":{"type":"boolean","title":"Is Custom","description":"Whether this is a custom config"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At","description":"Creation timestamp for custom configs"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At","description":"Last update timestamp"}},"type":"object","required":["document_type","system_prompt","user_prompt","temperature","max_tokens","is_custom"],"title":"PromptConfigResponse","description":"Response schema for prompt configuration."},"PromptModule":{"properties":{"type":{"type":"string","title":"Type","description":"Module type"},"enabled":{"type":"boolean","title":"Enabled","default":true},"config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Config","description":"Module-specific configuration"}},"type":"object","required":["type"],"title":"PromptModule","description":"Configuration for a prompt module (CoT, ReAct, etc.)"},"PromptResponse":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Unique name of the prompt."},"author":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Author","description":"Author of the prompt."},"details":{"anyOf":[{"type":"string","maxLength":4000},{"type":"null"}],"title":"Details","description":"Detailed description or notes about the prompt."},"system_prompt":{"anyOf":[{"type":"string","maxLength":20000},{"type":"null"}],"title":"System Prompt","description":"The system part of the prompt."},"user_prompt":{"anyOf":[{"type":"string","maxLength":20000},{"type":"null"}],"title":"User Prompt","description":"The user part of the prompt."},"id":{"type":"integer","title":"Id"},"uuid":{"type":"string","title":"Uuid"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified"},"version":{"type":"integer","title":"Version"},"keywords":{"items":{"type":"string"},"type":"array","title":"Keywords","description":"Keywords associated with the prompt."},"deleted":{"type":"boolean","title":"Deleted","description":"Indicates if the prompt is soft-deleted."}},"type":"object","required":["name","id","uuid","last_modified","version","deleted"],"title":"PromptResponse"},"PromptSearchResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/PromptSearchResultItem"},"type":"array","title":"Items"},"total_matches":{"type":"integer","title":"Total Matches"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"}},"type":"object","required":["items","total_matches","page","per_page"],"title":"PromptSearchResponse"},"PromptSearchResultItem":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Unique name of the prompt."},"author":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Author","description":"Author of the prompt."},"details":{"anyOf":[{"type":"string","maxLength":4000},{"type":"null"}],"title":"Details","description":"Detailed description or notes about the prompt."},"system_prompt":{"anyOf":[{"type":"string","maxLength":20000},{"type":"null"}],"title":"System Prompt","description":"The system part of the prompt."},"user_prompt":{"anyOf":[{"type":"string","maxLength":20000},{"type":"null"}],"title":"User Prompt","description":"The user part of the prompt."},"id":{"type":"integer","title":"Id"},"uuid":{"type":"string","title":"Uuid"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified"},"version":{"type":"integer","title":"Version"},"keywords":{"items":{"type":"string"},"type":"array","title":"Keywords","description":"Keywords associated with the prompt."},"deleted":{"type":"boolean","title":"Deleted","description":"Indicates if the prompt is soft-deleted."},"relevance_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Relevance Score"}},"type":"object","required":["name","id","uuid","last_modified","version","deleted"],"title":"PromptSearchResultItem"},"PromptUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name"},"system_prompt":{"anyOf":[{"type":"string","maxLength":50000},{"type":"null"}],"title":"System Prompt"},"user_prompt":{"anyOf":[{"type":"string","maxLength":50000},{"type":"null"}],"title":"User Prompt"},"few_shot_examples":{"anyOf":[{"items":{"$ref":"#/components/schemas/FewShotExample"},"type":"array"},{"type":"null"}],"title":"Few Shot Examples"},"modules_config":{"anyOf":[{"items":{"$ref":"#/components/schemas/PromptModule"},"type":"array"},{"type":"null"}],"title":"Modules Config"},"change_description":{"type":"string","maxLength":500,"minLength":1,"title":"Change Description","description":"Required change description"}},"type":"object","required":["change_description"],"title":"PromptUpdate","description":"Prompt update request (creates new version)"},"PropositionEvaluationRequest":{"properties":{"extracted":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Extracted","description":"Extracted propositions/claims"},"reference":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Reference","description":"Reference propositions/claims"},"method":{"anyOf":[{"type":"string","enum":["semantic","jaccard"]},{"type":"null"}],"title":"Method","description":"Matching method","default":"semantic"},"threshold":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Threshold","description":"Match threshold","default":0.7}},"type":"object","required":["extracted","reference"],"title":"PropositionEvaluationRequest","description":"Evaluate proposition extraction quality"},"PropositionEvaluationResponse":{"properties":{"precision":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Precision"},"recall":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Recall"},"f1":{"type":"number","maximum":1.0,"minimum":0.0,"title":"F1"},"matched":{"type":"integer","title":"Matched"},"total_extracted":{"type":"integer","title":"Total Extracted"},"total_reference":{"type":"integer","title":"Total Reference"},"claim_density_per_100_tokens":{"type":"number","title":"Claim Density Per 100 Tokens"},"avg_prop_len_tokens":{"type":"number","title":"Avg Prop Len Tokens"},"dedup_rate":{"type":"number","title":"Dedup Rate"},"details":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Details"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["precision","recall","f1","matched","total_extracted","total_reference","claim_density_per_100_tokens","avg_prop_len_tokens","dedup_rate"],"title":"PropositionEvaluationResponse"},"PubMedPaper":{"properties":{"pmid":{"type":"string","title":"Pmid"},"title":{"type":"string","title":"Title"},"authors":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authors"},"journal":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Journal"},"pub_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pub Date"},"abstract":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abstract"},"doi":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Doi"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"pmcid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pmcid"},"pmc_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pmc Url"},"pdf_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pdf Url"}},"type":"object","required":["pmid","title"],"title":"PubMedPaper"},"PubMedSearchResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/PubMedPaper"},"type":"array","title":"Items"},"total_results":{"type":"integer","title":"Total Results"},"page":{"type":"integer","title":"Page"},"results_per_page":{"type":"integer","title":"Results Per Page"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["query_echo","items","total_results","page","results_per_page","total_pages"],"title":"PubMedSearchResponse"},"PublicRerankRequest":{"properties":{"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Reranker model id/path (GGUF for llama.cpp or HF id for transformers)"},"query":{"type":"string","minLength":1,"title":"Query"},"documents":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Documents","description":"Documents (plain text) to rank"},"top_n":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Top N"},"backend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Backend","description":"Reranker backend: auto|llamacpp|transformers","default":"auto"}},"type":"object","required":["query","documents"],"title":"PublicRerankRequest","examples":[{"documents":["hi","it is a bear","The giant panda (Ailuropoda melanoleuca), sometimes called a panda bear ..."],"model":"/models/Qwen3-Embedding-0.6B_f16.gguf","query":"What is panda?","top_n":3}]},"PublicRerankResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/LlamaCppRerankResult"},"type":"array","title":"Results"}},"type":"object","required":["results"],"title":"PublicRerankResponse"},"QueryRequest":{"properties":{"query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query","description":"Natural language query to search.","examples":["vector databases in production"]},"vector":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Vector","description":"Raw embedding vector to search by."},"top_k":{"type":"integer","maximum":100.0,"exclusiveMinimum":0.0,"title":"Top K","description":"Number of results to return.","default":10},"filter":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Filter","description":"Metadata filter expression."}},"type":"object","title":"QueryRequest"},"RAGEvaluationRequest":{"properties":{"query":{"type":"string","maxLength":10000,"minLength":1,"title":"Query"},"retrieved_contexts":{"items":{"type":"string"},"type":"array","maxItems":20,"minItems":1,"title":"Retrieved Contexts"},"generated_response":{"type":"string","maxLength":50000,"minLength":1,"title":"Generated Response"},"ground_truth":{"anyOf":[{"type":"string","maxLength":50000},{"type":"null"}],"title":"Ground Truth"},"metrics":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Metrics","default":["relevance","faithfulness","answer_similarity","context_precision"]},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","default":"openai"}},"type":"object","required":["query","retrieved_contexts","generated_response"],"title":"RAGEvaluationRequest","description":"RAG evaluation request"},"RAGEvaluationResponse":{"properties":{"metrics":{"additionalProperties":{"$ref":"#/components/schemas/EvaluationMetric"},"type":"object","title":"Metrics"},"overall_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Overall Score"},"retrieval_quality":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Retrieval Quality"},"generation_quality":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Generation Quality"},"suggestions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Suggestions"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["metrics","overall_score","retrieval_quality","generation_quality"],"title":"RAGEvaluationResponse","description":"RAG evaluation response"},"RAGPipelineCaching":{"properties":{"cache_chunksets":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Cache Chunksets","default":false},"cache_embeddings":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Cache Embeddings","default":true},"cache_retrievals":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Cache Retrievals","default":true}},"type":"object","title":"RAGPipelineCaching","description":"Caching toggles for the pipeline evaluation."},"RAGPipelineEvalSpec":{"properties":{"dataset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset Id","description":"Existing dataset id"},"dataset":{"anyOf":[{"items":{"$ref":"#/components/schemas/DatasetSample"},"type":"array"},{"type":"null"}],"title":"Dataset","description":"Inline dataset samples"},"chunking":{"anyOf":[{"$ref":"#/components/schemas/ChunkingSweepConfig"},{"type":"null"}]},"retrievers":{"anyOf":[{"items":{"$ref":"#/components/schemas/RetrieverSweepConfig"},"type":"array"},{"type":"null"}],"title":"Retrievers"},"rerankers":{"anyOf":[{"items":{"$ref":"#/components/schemas/RerankerSweepConfig"},"type":"array"},{"type":"null"}],"title":"Rerankers"},"rag":{"anyOf":[{"$ref":"#/components/schemas/GenerationSweepConfig"},{"type":"null"}]},"search_strategy":{"anyOf":[{"type":"string","enum":["grid","random"]},{"type":"null"}],"title":"Search Strategy","default":"grid"},"max_trials":{"anyOf":[{"type":"integer","maximum":1000.0,"minimum":1.0},{"type":"null"}],"title":"Max Trials"},"metrics":{"anyOf":[{"$ref":"#/components/schemas/PipelineMetricsSelection"},{"type":"null"}]},"caching":{"anyOf":[{"$ref":"#/components/schemas/RAGPipelineCaching"},{"type":"null"}]},"concurrency":{"anyOf":[{"type":"integer","maximum":64.0,"minimum":1.0},{"type":"null"}],"title":"Concurrency","default":4},"timeout_seconds":{"anyOf":[{"type":"integer","maximum":7200.0,"minimum":30.0},{"type":"null"}],"title":"Timeout Seconds","default":300},"index_namespace":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Index Namespace","description":"Optional target index namespace (future use)"},"cleanup_collections":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Cleanup Collections","description":"Delete ephemeral collections after run","default":false},"ephemeral_ttl_seconds":{"anyOf":[{"type":"integer","maximum":604800.0,"minimum":60.0},{"type":"null"}],"title":"Ephemeral Ttl Seconds","description":"TTL for ephemeral collections (seconds)","default":86400},"aggregation_weights":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Aggregation Weights","description":"Weights for combining metrics into config score (e.g., {'rag_overall':1.0,'retrieval_diversity':0.1,'chunk_cohesion':0.1})"}},"type":"object","title":"RAGPipelineEvalSpec","description":"Spec for evaluating RAG configurations via the unified RAG pipeline."},"RateLimitResetRequest":{"properties":{"kind":{"anyOf":[{"type":"string","pattern":"^(ip|user|api|raw)$"},{"type":"null"}],"title":"Kind"},"identifier":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Identifier"},"ip":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"api_key_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key Hash"},"endpoint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Endpoint"},"dry_run":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Dry Run","default":false}},"type":"object","title":"RateLimitResetRequest","description":"Request to reset rate limit counters.\n\nProvide either a raw identifier or one of ip/user_id/api_key_hash. Optionally include an endpoint\nto limit the reset to one endpoint; omit to reset all endpoints for the identifier."},"RateLimitResetResponse":{"properties":{"ok":{"type":"boolean","title":"Ok","default":true},"identifier":{"type":"string","title":"Identifier"},"endpoint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Endpoint"},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note"},"db_rows_deleted":{"type":"integer","title":"Db Rows Deleted","default":0},"redis_keys_deleted":{"type":"integer","title":"Redis Keys Deleted","default":0}},"type":"object","required":["identifier"],"title":"RateLimitResetResponse"},"RateLimitResponse":{"properties":{"scope":{"type":"string","title":"Scope"},"id":{"type":"integer","title":"Id"},"resource":{"type":"string","title":"Resource"},"limit_per_min":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit Per Min"},"burst":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Burst"}},"type":"object","required":["scope","id","resource","limit_per_min","burst"],"title":"RateLimitResponse"},"RateLimitStatusResponse":{"properties":{"tier":{"type":"string","title":"Tier"},"limits":{"additionalProperties":{"type":"integer"},"type":"object","title":"Limits"},"usage":{"additionalProperties":{"type":"integer"},"type":"object","title":"Usage"},"remaining":{"additionalProperties":{"type":"integer"},"type":"object","title":"Remaining"},"reset_at":{"type":"string","format":"date-time","title":"Reset At"}},"type":"object","required":["tier","limits","usage","remaining","reset_at"],"title":"RateLimitStatusResponse","description":"Rate limit status response"},"RateLimitUpsertRequest":{"properties":{"resource":{"type":"string","minLength":1,"title":"Resource"},"limit_per_min":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Limit Per Min"},"burst":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Burst"}},"type":"object","required":["resource"],"title":"RateLimitUpsertRequest"},"ReadingItem":{"properties":{"id":{"type":"integer","title":"Id"},"media_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Media Id"},"title":{"type":"string","title":"Title"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"domain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Domain"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"published_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Published At"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"favorite":{"type":"boolean","title":"Favorite","default":false},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","default":[]},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","title"],"title":"ReadingItem"},"ReadingItemsListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ReadingItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"size":{"type":"integer","title":"Size"}},"type":"object","required":["items","total","page","size"],"title":"ReadingItemsListResponse"},"ReadingSaveRequest":{"properties":{"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"saved|reading|read|archived","default":"saved"},"favorite":{"type":"boolean","title":"Favorite","default":false},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"Optional inline content override (testing/offline)"}},"type":"object","required":["url"],"title":"ReadingSaveRequest"},"ReadingUpdateRequest":{"properties":{"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"saved|reading|read|archived"},"favorite":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Favorite"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"}},"type":"object","title":"ReadingUpdateRequest"},"RebuildIndexRequest":{"properties":{"index_type":{"type":"string","pattern":"^(?i)(hnsw|ivfflat|drop)$","title":"Index Type"},"metric":{"anyOf":[{"type":"string","pattern":"^(?i)(cosine|euclidean|ip)$"},{"type":"null"}],"title":"Metric"},"m":{"anyOf":[{"type":"integer","minimum":2.0},{"type":"null"}],"title":"M","description":"HNSW M parameter","default":16},"ef_construction":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Ef Construction","description":"HNSW ef_construction","default":200},"lists":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Lists","description":"IVFFLAT lists","default":100}},"type":"object","required":["index_type"],"title":"RebuildIndexRequest"},"ReembedScheduleRequest":{"properties":{"media_id":{"type":"integer","title":"Media Id","description":"Target media_id to re-embed"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"Owner user id; defaults to current admin"},"idempotency_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency Key","description":"Optional idempotency key to dedupe creation"},"dedupe_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dedupe Key","description":"Optional dedupe key; defaults to idempotency_key if not provided"},"operation_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Operation Id","description":"Optional operation id for replay prevention"},"priority":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Priority","default":50},"user_tier":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Tier","default":"free"},"embedder_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedder Name"},"embedder_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedder Version"}},"type":"object","required":["media_id"],"title":"ReembedScheduleRequest"},"ReembedScheduleResponse":{"properties":{"id":{"type":"integer","title":"Id"},"uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uuid"},"status":{"type":"string","title":"Status"},"domain":{"type":"string","title":"Domain"},"queue":{"type":"string","title":"Queue"},"job_type":{"type":"string","title":"Job Type"}},"type":"object","required":["id","status","domain","queue","job_type"],"title":"ReembedScheduleResponse"},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token","description":"Valid refresh token"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest","description":"Token refresh request","example":{"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"RegisterRequest":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"pattern":"^[a-zA-Z0-9_-]+$","title":"Username","description":"Username (alphanumeric, underscore, hyphen only)"},"email":{"type":"string","format":"email","title":"Email","description":"Valid email address"},"password":{"type":"string","minLength":10,"title":"Password","description":"Password (min 10 chars, must include upper, lower, number, special)"},"registration_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Registration Code","description":"Registration code if required"}},"type":"object","required":["username","email","password"],"title":"RegisterRequest","description":"User registration request","example":{"email":"john@example.com","password":"SecurePass123!","registration_code":"ABCD1234EFGH5678","username":"johndoe"}},"RegistrationCodeListResponse":{"properties":{"codes":{"items":{"$ref":"#/components/schemas/RegistrationCodeResponse"},"type":"array","title":"Codes"}},"type":"object","required":["codes"],"title":"RegistrationCodeListResponse","description":"Response for registration code list"},"RegistrationCodeRequest":{"properties":{"max_uses":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Max Uses","default":1},"expiry_days":{"type":"integer","maximum":365.0,"minimum":1.0,"title":"Expiry Days","default":7},"role_to_grant":{"type":"string","pattern":"^(user|admin|service)$","title":"Role To Grant","default":"user"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"RegistrationCodeRequest","description":"Request to create a registration code"},"RegistrationCodeResponse":{"properties":{"id":{"type":"integer","title":"Id"},"code":{"type":"string","title":"Code"},"max_uses":{"type":"integer","title":"Max Uses"},"times_used":{"type":"integer","title":"Times Used"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"role_to_grant":{"type":"string","title":"Role To Grant"},"is_valid":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Valid"}},"type":"object","required":["id","code","max_uses","times_used","expires_at","created_at","role_to_grant"],"title":"RegistrationCodeResponse","description":"Response with registration code details"},"RegistrationResponse":{"properties":{"message":{"type":"string","title":"Message","description":"Success message","default":"Registration successful"},"user_id":{"type":"integer","title":"User Id","description":"New user ID"},"username":{"type":"string","title":"Username","description":"Username"},"email":{"type":"string","title":"Email","description":"Email address"},"requires_verification":{"type":"boolean","title":"Requires Verification","description":"Email verification required"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key","description":"X-API-KEY for this user (shown once, SQLite multi-user)."}},"type":"object","required":["user_id","username","email","requires_verification"],"title":"RegistrationResponse","description":"Registration success response","example":{"api_key":"tldw_abcd1234...","email":"john@example.com","message":"Registration successful","requires_verification":true,"user_id":1,"username":"johndoe"}},"RepecCitationsResponse":{"properties":{"handle":{"type":"string","title":"Handle"},"cited_by":{"type":"integer","title":"Cited By"},"cites":{"type":"integer","title":"Cites"},"uri":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uri"},"date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date"}},"type":"object","required":["handle","cited_by","cites"],"title":"RepecCitationsResponse"},"RerankerSweepConfig":{"properties":{"strategy":{"anyOf":[{"type":"string","enum":["flashrank","cross_encoder","hybrid","llama_cpp","none"]},{"items":{"type":"string","enum":["flashrank","cross_encoder","hybrid","llama_cpp","none"]},"type":"array"},{"type":"null"}],"title":"Strategy"},"top_k":{"anyOf":[{"type":"integer"},{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Top K"},"model":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Model","description":"Optional reranker model"}},"type":"object","title":"RerankerSweepConfig","description":"Reranker parameters to sweep."},"ResendVerificationRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email","description":"Email address to resend verification"}},"type":"object","required":["email"],"title":"ResendVerificationRequest","description":"Request to resend verification email"},"ResetPasswordRequest":{"properties":{"token":{"type":"string","title":"Token","description":"Password reset token"},"new_password":{"type":"string","minLength":8,"title":"New Password","description":"New password"}},"type":"object","required":["token","new_password"],"title":"ResetPasswordRequest","description":"Request to reset password with token"},"ResponseFormat":{"properties":{"type":{"type":"string","enum":["text","json_object"],"title":"Type","description":"Must be one of `text` or `json_object`.","default":"text"}},"type":"object","title":"ResponseFormat"},"ResponseQualityRequest":{"properties":{"prompt":{"type":"string","maxLength":50000,"minLength":1,"title":"Prompt"},"response":{"type":"string","maxLength":50000,"minLength":1,"title":"Response"},"expected_format":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Expected Format"},"evaluation_criteria":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Evaluation Criteria"},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","default":"openai"}},"type":"object","required":["prompt","response"],"title":"ResponseQualityRequest","description":"Response quality request"},"ResponseQualityResponse":{"properties":{"metrics":{"additionalProperties":{"$ref":"#/components/schemas/EvaluationMetric"},"type":"object","title":"Metrics"},"overall_quality":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Overall Quality"},"format_compliance":{"anyOf":[{"additionalProperties":{"type":"boolean"},"type":"object"},{"type":"null"}],"title":"Format Compliance"},"issues":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Issues"},"improvements":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Improvements"}},"type":"object","required":["metrics","overall_quality"],"title":"ResponseQualityResponse","description":"Response quality response"},"RetrieverSweepConfig":{"properties":{"search_mode":{"anyOf":[{"type":"string","enum":["fts","vector","hybrid"]},{"items":{"type":"string","enum":["fts","vector","hybrid"]},"type":"array"},{"type":"null"}],"title":"Search Mode"},"hybrid_alpha":{"anyOf":[{"type":"number"},{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Hybrid Alpha"},"top_k":{"anyOf":[{"type":"integer"},{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Top K"},"min_score":{"anyOf":[{"type":"number"},{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Min Score"},"keyword_filter":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keyword Filter"}},"type":"object","title":"RetrieverSweepConfig","description":"Retrieval parameters to sweep."},"RoleCreateRequest":{"properties":{"name":{"type":"string","maxLength":64,"minLength":2,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"RoleCreateRequest"},"RoleEffectivePermissionsResponse":{"properties":{"role_id":{"type":"integer","title":"Role Id"},"role_name":{"type":"string","title":"Role Name"},"permissions":{"items":{"type":"string"},"type":"array","title":"Permissions"},"tool_permissions":{"items":{"type":"string"},"type":"array","title":"Tool Permissions"},"all_permissions":{"items":{"type":"string"},"type":"array","title":"All Permissions"}},"type":"object","required":["role_id","role_name","permissions","tool_permissions","all_permissions"],"title":"RoleEffectivePermissionsResponse"},"RolePermissionBooleanMatrixResponse":{"properties":{"roles":{"items":{"$ref":"#/components/schemas/RoleResponse"},"type":"array","title":"Roles"},"permission_names":{"items":{"type":"string"},"type":"array","title":"Permission Names"},"matrix":{"items":{"items":{"type":"boolean"},"type":"array"},"type":"array","title":"Matrix"},"total_roles":{"type":"integer","title":"Total Roles"}},"type":"object","required":["roles","permission_names","matrix","total_roles"],"title":"RolePermissionBooleanMatrixResponse"},"RolePermissionGrant":{"properties":{"role_id":{"type":"integer","title":"Role Id"},"permission_id":{"type":"integer","title":"Permission Id"}},"type":"object","required":["role_id","permission_id"],"title":"RolePermissionGrant"},"RolePermissionMatrixResponse":{"properties":{"roles":{"items":{"$ref":"#/components/schemas/RoleResponse"},"type":"array","title":"Roles"},"permissions":{"items":{"$ref":"#/components/schemas/PermissionResponse"},"type":"array","title":"Permissions"},"grants":{"items":{"$ref":"#/components/schemas/RolePermissionGrant"},"type":"array","title":"Grants"},"total_roles":{"type":"integer","title":"Total Roles"}},"type":"object","required":["roles","permissions","grants","total_roles"],"title":"RolePermissionMatrixResponse"},"RoleResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_system":{"type":"boolean","title":"Is System","default":false}},"type":"object","required":["id","name"],"title":"RoleResponse"},"Run":{"properties":{"id":{"type":"integer","title":"Id"},"job_id":{"type":"integer","title":"Job Id"},"status":{"type":"string","title":"Status"},"started_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Started At"},"finished_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Finished At"},"stats":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Stats"},"error_msg":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Msg"}},"type":"object","required":["id","job_id","status"],"title":"Run"},"RunConfig":{"properties":{"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature","default":0.7},"max_workers":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Max Workers","default":4},"timeout_seconds":{"anyOf":[{"type":"integer","maximum":3600.0,"minimum":1.0},{"type":"null"}],"title":"Timeout Seconds","default":300},"retry_attempts":{"anyOf":[{"type":"integer","maximum":10.0,"minimum":0.0},{"type":"null"}],"title":"Retry Attempts","default":3},"batch_size":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Batch Size","default":10}},"type":"object","title":"RunConfig","description":"Run configuration"},"RunDetail":{"properties":{"id":{"type":"integer","title":"Id"},"job_id":{"type":"integer","title":"Job Id"},"status":{"type":"string","title":"Status"},"started_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Started At"},"finished_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Finished At"},"stats":{"additionalProperties":{"type":"integer"},"type":"object","title":"Stats"},"filter_tallies":{"anyOf":[{"additionalProperties":{"type":"integer"},"type":"object"},{"type":"null"}],"title":"Filter Tallies"},"error_msg":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Msg"},"log_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Log Text"},"log_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Log Path"},"truncated":{"type":"boolean","title":"Truncated","default":false},"filtered_sample":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Filtered Sample"}},"type":"object","required":["id","job_id","status"],"title":"RunDetail"},"RunListResponse":{"properties":{"object":{"type":"string","title":"Object","default":"list"},"has_more":{"type":"boolean","title":"Has More","default":false},"first_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Id"},"last_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Id"},"total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total","description":"Total items available (if known)"},"data":{"items":{"$ref":"#/components/schemas/RunResponse"},"type":"array","title":"Data"}},"type":"object","required":["data"],"title":"RunListResponse","description":"Run list response"},"RunProgress":{"properties":{"completed_samples":{"type":"integer","minimum":0.0,"title":"Completed Samples","default":0},"total_samples":{"type":"integer","minimum":0.0,"title":"Total Samples","default":0},"percent_complete":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Percent Complete","default":0.0},"current_sample":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Sample"},"estimated_completion":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Estimated Completion"}},"type":"object","title":"RunProgress","description":"Run progress information"},"RunResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Run ID"},"object":{"type":"string","title":"Object","default":"run"},"eval_id":{"type":"string","title":"Eval Id"},"status":{"$ref":"#/components/schemas/RunStatus"},"target_model":{"type":"string","title":"Target Model"},"created":{"type":"integer","title":"Created","description":"Creation timestamp (OpenAI-compatible)"},"created_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created At","description":"Creation timestamp (tldw-compatible)"},"started_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Started At"},"completed_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Completed At"},"progress":{"anyOf":[{"$ref":"#/components/schemas/RunProgress"},{"type":"null"}]},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"results":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Results"},"usage":{"anyOf":[{"additionalProperties":{"type":"integer"},"type":"object"},{"type":"null"}],"title":"Usage"}},"type":"object","required":["id","eval_id","status","target_model","created"],"title":"RunResponse","description":"Run response"},"RunStatus":{"type":"string","enum":["pending","running","completed","failed","cancelled"],"title":"RunStatus","description":"Run status values"},"RunTestCasesSimpleRequest":{"properties":{"prompt_id":{"type":"integer","title":"Prompt Id"},"test_case_ids":{"items":{"anyOf":[{"type":"integer"},{"type":"string"}]},"type":"array","title":"Test Case Ids"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"project_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"}},"additionalProperties":false,"type":"object","required":["prompt_id"],"title":"RunTestCasesSimpleRequest","description":"Simple run request used by compatibility endpoint."},"RunsListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/Run"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"has_more":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has More"}},"type":"object","required":["items","total"],"title":"RunsListResponse"},"STTInstall":{"properties":{"engine":{"type":"string","title":"Engine"},"models":{"items":{"type":"string"},"type":"array","title":"Models"}},"type":"object","required":["engine"],"title":"STTInstall"},"SavePromptConfigRequest":{"properties":{"document_type":{"$ref":"#/components/schemas/DocumentType","description":"Document type"},"system_prompt":{"type":"string","maxLength":5000,"minLength":1,"title":"System Prompt","description":"System prompt"},"user_prompt":{"type":"string","maxLength":5000,"minLength":1,"title":"User Prompt","description":"User prompt template"},"temperature":{"type":"number","maximum":2.0,"minimum":0.0,"title":"Temperature","description":"Generation temperature","default":0.7},"max_tokens":{"type":"integer","maximum":10000.0,"minimum":100.0,"title":"Max Tokens","description":"Maximum tokens","default":2000}},"type":"object","required":["document_type","system_prompt","user_prompt"],"title":"SavePromptConfigRequest","description":"Request schema for saving custom prompt configuration."},"ScrapeMethod":{"type":"string","enum":["individual","sitemap","url_level","recursive_scraping"],"title":"ScrapeMethod"},"ScrapedItem":{"properties":{"id":{"type":"integer","title":"Id"},"run_id":{"type":"integer","title":"Run Id"},"job_id":{"type":"integer","title":"Job Id"},"source_id":{"type":"integer","title":"Source Id"},"media_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Media Id"},"media_uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Uuid"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"published_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Published At"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","default":[]},"status":{"type":"string","title":"Status"},"reviewed":{"type":"boolean","title":"Reviewed"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","run_id","job_id","source_id","status","reviewed","created_at"],"title":"ScrapedItem"},"ScrapedItemUpdateRequest":{"properties":{"reviewed":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Reviewed"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status","description":"Optional status override (e.g., reviewed, ignored)"}},"type":"object","title":"ScrapedItemUpdateRequest"},"ScrapedItemsListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/ScrapedItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"ScrapedItemsListResponse"},"SearchRequest":{"properties":{"query":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Query","description":"Search query (max 1000 chars)"},"fields":{"items":{"type":"string"},"type":"array","title":"Fields","default":["title","content"]},"exact_phrase":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exact Phrase"},"media_types":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Media Types"},"date_range":{"anyOf":[{"additionalProperties":{"type":"string","format":"date-time"},"type":"object"},{"type":"null"}],"title":"Date Range"},"must_have":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Must Have"},"must_not_have":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Must Not Have"},"sort_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sort By","default":"relevance"},"boost_fields":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Boost Fields"}},"type":"object","title":"SearchRequest"},"SecurityAlertSinkStatus":{"properties":{"sink":{"type":"string","title":"Sink"},"configured":{"type":"boolean","title":"Configured"},"min_severity":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Min Severity"},"last_status":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Last Status"},"last_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Error"},"backoff_until":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Backoff Until"}},"type":"object","required":["sink","configured"],"title":"SecurityAlertSinkStatus","description":"Represents the status of an individual security alert sink."},"SecurityAlertStatusResponse":{"properties":{"enabled":{"type":"boolean","title":"Enabled"},"min_severity":{"type":"string","title":"Min Severity"},"last_dispatch_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Dispatch Time"},"last_dispatch_success":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Last Dispatch Success"},"last_dispatch_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Dispatch Error"},"dispatch_count":{"type":"integer","title":"Dispatch Count"},"last_validation_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Validation Time"},"validation_errors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Validation Errors"},"sinks":{"items":{"$ref":"#/components/schemas/SecurityAlertSinkStatus"},"type":"array","title":"Sinks"},"health":{"type":"string","title":"Health"}},"type":"object","required":["enabled","min_severity","last_dispatch_time","last_dispatch_success","dispatch_count","last_validation_time","sinks","health"],"title":"SecurityAlertStatusResponse","description":"Aggregated security alert configuration and health."},"SelfVirtualAPIKeyRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"expires_in_days":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Expires In Days","default":30},"allowed_endpoints":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Endpoints"},"allowed_methods":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Methods"},"allowed_paths":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Paths"},"max_calls":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Max Calls"},"max_runs":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Max Runs"},"budget_day_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Budget Day Tokens"},"budget_month_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Budget Month Tokens"},"budget_day_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Budget Day Usd"},"budget_month_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Budget Month Usd"}},"type":"object","title":"SelfVirtualAPIKeyRequest"},"SelfVirtualKeyRequest":{"properties":{"ttl_minutes":{"type":"integer","maximum":1440.0,"minimum":1.0,"title":"Ttl Minutes","default":60},"scope":{"type":"string","title":"Scope","default":"workflows"},"schedule_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Schedule Id"},"allowed_endpoints":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Endpoints"},"allowed_methods":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Methods"},"allowed_paths":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Paths"},"max_calls":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Max Calls"},"max_runs":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Max Runs"},"not_before":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Not Before","description":"Optional ISO timestamp when token becomes valid"}},"type":"object","title":"SelfVirtualKeyRequest"},"SemanticScholarAuthor":{"properties":{"authorId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Authorid"},"name":{"type":"string","title":"Name"}},"type":"object","required":["name"],"title":"SemanticScholarAuthor"},"SemanticScholarOpenAccessPdf":{"properties":{"url":{"type":"string","title":"Url"},"status":{"type":"string","title":"Status"}},"type":"object","required":["url","status"],"title":"SemanticScholarOpenAccessPdf"},"SemanticScholarPaper":{"properties":{"paperId":{"type":"string","title":"Paperid"},"title":{"type":"string","title":"Title"},"abstract":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Abstract"},"year":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Year"},"citationCount":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Citationcount"},"authors":{"anyOf":[{"items":{"$ref":"#/components/schemas/SemanticScholarAuthor"},"type":"array"},{"type":"null"}],"title":"Authors","default":[]},"venue":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Venue"},"openAccessPdf":{"anyOf":[{"$ref":"#/components/schemas/SemanticScholarOpenAccessPdf"},{"type":"null"}]},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url"},"publicationTypes":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Publicationtypes"},"publicationDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Publicationdate"},"externalIds":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Externalids"}},"type":"object","required":["paperId","title"],"title":"SemanticScholarPaper"},"SemanticScholarSearchResponse":{"properties":{"query_echo":{"additionalProperties":true,"type":"object","title":"Query Echo"},"items":{"items":{"$ref":"#/components/schemas/SemanticScholarPaper"},"type":"array","title":"Items"},"total_results":{"type":"integer","title":"Total Results"},"offset":{"type":"integer","title":"Offset"},"limit":{"type":"integer","title":"Limit"},"next_offset":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Next Offset"},"page":{"type":"integer","title":"Page"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["query_echo","items","total_results","offset","limit","page","total_pages"],"title":"SemanticScholarSearchResponse"},"ServerChangesResponse":{"properties":{"changes":{"items":{"$ref":"#/components/schemas/SyncLogEntry"},"type":"array","title":"Changes","description":"A list of sync log entries from the server's perspective for the requesting user, filtered to exclude changes originating from the requesting client."},"latest_change_id":{"type":"integer","title":"Latest Change Id","description":"The highest 'change_id' currently present in the user's sync log on the server. Used by the client to know the server's current state."}},"type":"object","required":["changes","latest_change_id"],"title":"ServerChangesResponse","description":"The response sent by the server containing changes for the client.\nCorresponds to the response body for the /sync/get endpoint.","example":{"changes":[{"change_id":12346,"client_id":"client_other_456","entity":"Media","entity_uuid":"f47ac10b-58cc-4372-a567-0e02b2c3d479","operation":"update","payload":"{\"uuid\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\", \"title\": \"Server Processed Title\", ...}","timestamp":"2023-10-27T10:35:00Z","version":7}],"latest_change_id":12350}},"ServerMetricsResponse":{"properties":{"connections":{"additionalProperties":true,"type":"object","title":"Connections"},"modules":{"additionalProperties":{"additionalProperties":true,"type":"object"},"type":"object","title":"Modules"}},"type":"object","required":["connections","modules"],"title":"ServerMetricsResponse","description":"Server metrics response"},"ServerStatusResponse":{"properties":{"status":{"type":"string","title":"Status"},"version":{"type":"string","title":"Version"},"uptime_seconds":{"type":"number","title":"Uptime Seconds"},"connections":{"additionalProperties":{"type":"integer"},"type":"object","title":"Connections"},"modules":{"additionalProperties":{"type":"integer"},"type":"object","title":"Modules"}},"type":"object","required":["status","version","uptime_seconds","connections","modules"],"title":"ServerStatusResponse","description":"Server status response"},"SessionResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"Session ID"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address","description":"IP address"},"user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Agent","description":"User agent"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Session creation time"},"last_activity":{"type":"string","format":"date-time","title":"Last Activity","description":"Last activity time"},"expires_at":{"type":"string","format":"date-time","title":"Expires At","description":"Session expiration time"}},"type":"object","required":["id","created_at","last_activity","expires_at"],"title":"SessionResponse","description":"Session information response","example":{"created_at":"2025-01-14T10:00:00","expires_at":"2025-01-14T12:00:00","id":1,"ip_address":"192.168.1.1","last_activity":"2025-01-14T11:30:00","user_agent":"Mozilla/5.0..."}},"SessionStats":{"properties":{"active":{"type":"integer","title":"Active"},"unique_users":{"type":"integer","title":"Unique Users"}},"type":"object","required":["active","unique_users"],"title":"SessionStats","description":"Session statistics"},"SetUserTierRequest":{"properties":{"tier":{"type":"string","title":"Tier","description":"Tier name (one of: free, standard, premium)"}},"type":"object","required":["tier"],"title":"SetUserTierRequest"},"SetupCompleteRequest":{"properties":{"disable_first_time_setup":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Disable First Time Setup","description":"If true, flips enable_first_time_setup to false so the screen stays hidden","default":false},"install_plan":{"anyOf":[{"$ref":"#/components/schemas/InstallPlan"},{"type":"null"}],"description":"Backend installation instructions to execute after setup completes."}},"type":"object","title":"SetupCompleteRequest"},"Source":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"url":{"type":"string","title":"Url"},"source_type":{"type":"string","enum":["rss","site"],"title":"Source Type"},"active":{"type":"boolean","title":"Active"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","default":[]},"settings":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Settings"},"last_scraped_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Scraped At"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"}},"type":"object","required":["id","name","url","source_type","active","created_at","updated_at"],"title":"Source"},"SourceCreateRequest":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"url":{"type":"string","minLength":1,"format":"uri","title":"Url"},"source_type":{"type":"string","enum":["rss","site"],"title":"Source Type"},"active":{"type":"boolean","title":"Active","default":true},"settings":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Settings"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Tag names; server normalizes and resolves to IDs"},"group_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Group Ids"}},"type":"object","required":["name","url","source_type"],"title":"SourceCreateRequest"},"SourceUpdateRequest":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Name"},"url":{"anyOf":[{"type":"string","minLength":1,"format":"uri"},{"type":"null"}],"title":"Url"},"source_type":{"anyOf":[{"type":"string","enum":["rss","site"]},{"type":"null"}],"title":"Source Type"},"active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Active"},"settings":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Settings"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Replace tags with these names"},"group_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Group Ids"}},"type":"object","title":"SourceUpdateRequest"},"SourcesBulkCreateItem":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"url":{"type":"string","title":"Url"},"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"status":{"type":"string","enum":["created","error"],"title":"Status"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"source_type":{"anyOf":[{"type":"string","enum":["rss","site"]},{"type":"null"}],"title":"Source Type"}},"type":"object","required":["url","status"],"title":"SourcesBulkCreateItem"},"SourcesBulkCreateRequest":{"properties":{"sources":{"items":{"$ref":"#/components/schemas/SourceCreateRequest"},"type":"array","title":"Sources"}},"type":"object","required":["sources"],"title":"SourcesBulkCreateRequest"},"SourcesBulkCreateResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/SourcesBulkCreateItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"created":{"type":"integer","title":"Created"},"errors":{"type":"integer","title":"Errors"}},"type":"object","required":["items","total","created","errors"],"title":"SourcesBulkCreateResponse"},"SourcesImportItem":{"properties":{"url":{"type":"string","title":"Url"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"status":{"type":"string","enum":["created","skipped","error"],"title":"Status"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["url","status"],"title":"SourcesImportItem"},"SourcesImportResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/SourcesImportItem"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"created":{"type":"integer","title":"Created"},"skipped":{"type":"integer","title":"Skipped"},"errors":{"type":"integer","title":"Errors"}},"type":"object","required":["items","total","created","skipped","errors"],"title":"SourcesImportResponse"},"SourcesListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/Source"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"SourcesListResponse"},"SpeechChatLLMConfig":{"properties":{"api_provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Provider","description":"Target LLM provider (e.g., 'openai', 'anthropic'). If omitted, uses the server default."},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"LLM model identifier. Required for v1; no default is inferred."},"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature","description":"Sampling temperature."},"max_tokens":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Max Tokens","description":"Maximum number of tokens to generate."},"extra_params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extra Params","description":"Provider-specific LLM parameters passed through to the orchestrator."}},"type":"object","title":"SpeechChatLLMConfig","description":"Configuration options for LLM in the speech chat pipeline."},"SpeechChatRequest":{"properties":{"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Optional chat session identifier. If omitted, a new session is created."},"input_audio":{"type":"string","title":"Input Audio","description":"Base64-encoded audio data for the user utterance (no data: URI prefix)."},"input_audio_format":{"type":"string","title":"Input Audio Format","description":"Declared audio format for input_audio (e.g., 'wav', 'mp3', 'ogg')."},"stt_config":{"anyOf":[{"$ref":"#/components/schemas/SpeechChatSTTConfig"},{"type":"null"}],"description":"Optional STT configuration. Defaults are used when omitted."},"llm_config":{"$ref":"#/components/schemas/SpeechChatLLMConfig","description":"LLM configuration for generating the assistant reply. Model is required in v1."},"tts_config":{"anyOf":[{"$ref":"#/components/schemas/SpeechChatTTSConfig"},{"type":"null"}],"description":"Optional TTS configuration. Reasonable defaults are used when omitted."},"store_audio":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Store Audio","description":"Optional hint to store raw audio alongside transcripts when enabled server-side.","default":false},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Arbitrary client metadata (trace IDs, UI hints, etc.)."}},"type":"object","required":["input_audio","input_audio_format","llm_config"],"title":"SpeechChatRequest","description":"Request body for the non-streaming Speech-to-Speech chat endpoint.\n\nThe client sends a single base64-encoded audio clip representing the user utterance,\nalong with optional STT/LLM/TTS configuration."},"SpeechChatResponse":{"properties":{"session_id":{"type":"string","title":"Session Id","description":"Resolved chat session identifier."},"user_transcript":{"type":"string","title":"User Transcript","description":"Full text transcription of the user audio turn."},"assistant_text":{"type":"string","title":"Assistant Text","description":"Assistant reply text produced by the LLM."},"output_audio":{"type":"string","title":"Output Audio","description":"Base64-encoded audio data for the assistant reply (no data: URI prefix)."},"output_audio_mime_type":{"type":"string","title":"Output Audio Mime Type","description":"MIME type corresponding to output_audio (e.g., 'audio/mpeg', 'audio/wav')."},"timing":{"$ref":"#/components/schemas/SpeechChatTiming","description":"Timing information for STT, LLM, and TTS stages."},"token_usage":{"anyOf":[{"$ref":"#/components/schemas/SpeechChatTokenUsage"},{"type":"null"}],"description":"Optional token usage summary from the LLM response."},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Optional metadata echo or server-side annotations."}},"type":"object","required":["session_id","user_transcript","assistant_text","output_audio","output_audio_mime_type","timing"],"title":"SpeechChatResponse","description":"Response body for the non-streaming Speech-to-Speech chat endpoint.\n\nReturns the resolved session identifier, user transcript, assistant reply text,\nand base64-encoded audio for the reply, along with timing and optional token usage."},"SpeechChatSTTConfig":{"properties":{"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider","description":"STT provider key (e.g., 'faster-whisper', 'parakeet', 'canary', 'qwen2audio'). If omitted, the server's STT default is used."},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Optional STT model identifier. Semantics match existing STT configuration."},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Optional language code (ISO-639-1/2) to bias transcription."},"extra_params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extra Params","description":"Provider-specific STT parameters passed through to underlying adapters."}},"type":"object","title":"SpeechChatSTTConfig","description":"Configuration options for STT in the speech chat pipeline."},"SpeechChatTTSConfig":{"properties":{"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider","description":"TTS provider hint (e.g., 'openai', 'kokoro'). If omitted, the TTS service selects a provider."},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Optional TTS model identifier. If omitted, the TTS provider's default is used."},"voice":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Voice","description":"Voice identifier, matching the semantics of the /audio/speech endpoint."},"response_format":{"anyOf":[{"type":"string","enum":["mp3","opus","aac","flac","wav","pcm"]},{"type":"null"}],"title":"Response Format","description":"Desired audio format for the synthesized response. Defaults to 'mp3' if not provided."},"speed":{"anyOf":[{"type":"number","maximum":4.0,"minimum":0.25},{"type":"null"}],"title":"Speed","description":"Optional speed multiplier for synthesized audio."},"extra_params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extra Params","description":"Provider-specific TTS parameters passed through to adapters."}},"type":"object","title":"SpeechChatTTSConfig","description":"Configuration options for TTS in the speech chat pipeline."},"SpeechChatTiming":{"properties":{"stt_ms":{"type":"number","title":"Stt Ms","description":"Time spent in STT (milliseconds)."},"llm_ms":{"type":"number","title":"Llm Ms","description":"Time spent in LLM call (milliseconds)."},"tts_ms":{"type":"number","title":"Tts Ms","description":"Time spent in TTS synthesis (milliseconds)."}},"type":"object","required":["stt_ms","llm_ms","tts_ms"],"title":"SpeechChatTiming","description":"Timing information for each stage of the pipeline in milliseconds."},"SpeechChatTokenUsage":{"properties":{"prompt_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Prompt Tokens","description":"Number of prompt tokens consumed."},"completion_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Completion Tokens","description":"Number of completion tokens generated."},"total_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Tokens","description":"Total tokens (prompt + completion)."}},"type":"object","title":"SpeechChatTokenUsage","description":"Token usage summary derived from the LLM response, when available."},"StageControlRequest":{"properties":{"stage":{"type":"string","title":"Stage"},"action":{"type":"string","title":"Action"}},"type":"object","required":["stage","action"],"title":"StageControlRequest"},"StandardResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"data":{"anyOf":[{},{"type":"null"}],"title":"Data"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["success"],"title":"StandardResponse","description":"Standard API response wrapper"},"StorageQuotaResponse":{"properties":{"user_id":{"type":"integer","title":"User Id","description":"User ID"},"storage_used_mb":{"type":"number","title":"Storage Used Mb","description":"Storage used in MB"},"storage_quota_mb":{"type":"integer","title":"Storage Quota Mb","description":"Storage quota in MB"},"available_mb":{"type":"number","title":"Available Mb","description":"Available storage in MB"},"usage_percentage":{"type":"number","title":"Usage Percentage","description":"Usage percentage"}},"type":"object","required":["user_id","storage_used_mb","storage_quota_mb","available_mb","usage_percentage"],"title":"StorageQuotaResponse","description":"Storage quota information","example":{"available_mb":4095.5,"storage_quota_mb":5120,"storage_used_mb":1024.5,"usage_percentage":20.0,"user_id":1}},"StorageStats":{"properties":{"total_used_mb":{"type":"number","title":"Total Used Mb"},"total_quota_mb":{"type":"number","title":"Total Quota Mb"},"average_used_mb":{"type":"number","title":"Average Used Mb"},"max_used_mb":{"type":"number","title":"Max Used Mb"}},"type":"object","required":["total_used_mb","total_quota_mb","average_used_mb","max_used_mb"],"title":"StorageStats","description":"Storage statistics"},"SubmitAudioJobRequest":{"properties":{"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url","description":"URL to download audio from"},"local_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Local Path","description":"Server-local path to an existing audio/video file"},"model":{"type":"string","title":"Model","description":"Transcription model selector","default":"whisper-1"},"perform_chunking":{"type":"boolean","title":"Perform Chunking","description":"Whether to chunk the transcript after STT","default":true},"perform_analysis":{"type":"boolean","title":"Perform Analysis","description":"Whether to run LLM analysis after chunking","default":false},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","description":"LLM provider key for analysis stage"}},"type":"object","title":"SubmitAudioJobRequest"},"SubmitAudioJobResponse":{"properties":{"id":{"type":"integer","title":"Id"},"uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uuid"},"domain":{"type":"string","title":"Domain"},"queue":{"type":"string","title":"Queue"},"job_type":{"type":"string","title":"Job Type"},"status":{"type":"string","title":"Status"}},"type":"object","required":["id","domain","queue","job_type","status"],"title":"SubmitAudioJobResponse"},"SyncLogEntry":{"properties":{"change_id":{"type":"integer","title":"Change Id","description":"The primary key ID of the log entry."},"entity":{"type":"string","title":"Entity","description":"The type of entity that changed (e.g., 'Media', 'Keywords')."},"entity_uuid":{"type":"string","title":"Entity Uuid","description":"The UUID of the entity that changed."},"operation":{"type":"string","title":"Operation","description":"The type of operation ('create', 'update', 'delete', 'link', 'unlink')."},"timestamp":{"type":"string","title":"Timestamp","description":"Timestamp when the change occurred (ISO 8601 format string or similar). From client for requests, potentially server authoritative for responses."},"server_timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Server Timestamp","description":"Server's authoritative timestamp when the change was processed."},"client_id":{"type":"string","title":"Client Id","description":"The ID of the client that originated the change."},"version":{"type":"integer","title":"Version","description":"The version number of the entity *after* this change was applied."},"payload":{"type":"string","title":"Payload","description":"A JSON string containing the state of the entity after the change (or minimal info for deletes/links)."}},"type":"object","required":["change_id","entity","entity_uuid","operation","timestamp","client_id","version","payload"],"title":"SyncLogEntry","description":"Represents a single entry from the sync_log table.\nUsed both in client requests and server responses.","example":{"change_id":12345,"client_id":"client_abc_123","entity":"Media","entity_uuid":"f47ac10b-58cc-4372-a567-0e02b2c3d479","operation":"update","payload":"{\"uuid\": \"f47ac10b-58cc-4372-a567-0e02b2c3d479\", \"title\": \"Updated Title\", \"last_modified\": \"2023-10-27T10:30:00Z\", \"version\": 6, \"client_id\": \"client_abc_123\", \"deleted\": 0, \"prev_version\": 5, ...}","timestamp":"2023-10-27T10:30:00Z","version":6}},"SyncLogEntryResponse":{"properties":{"change_id":{"type":"integer","title":"Change Id"},"entity":{"type":"string","title":"Entity"},"entity_uuid":{"type":"string","title":"Entity Uuid"},"operation":{"type":"string","title":"Operation"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"client_id":{"type":"string","title":"Client Id"},"version":{"type":"integer","title":"Version"},"payload":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Payload"}},"type":"object","required":["change_id","entity","entity_uuid","operation","timestamp","client_id","version","payload"],"title":"SyncLogEntryResponse"},"SystemStatsResponse":{"properties":{"users":{"$ref":"#/components/schemas/UserStats"},"storage":{"$ref":"#/components/schemas/StorageStats"},"sessions":{"$ref":"#/components/schemas/SessionStats"}},"type":"object","required":["users","storage","sessions"],"title":"SystemStatsResponse","description":"System statistics response"},"TTSInstall":{"properties":{"engine":{"type":"string","title":"Engine"},"variants":{"items":{"type":"string"},"type":"array","title":"Variants"}},"type":"object","required":["engine"],"title":"TTSInstall"},"Tag":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"}},"type":"object","required":["id","name"],"title":"Tag"},"TagsListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/Tag"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"TagsListResponse"},"TeamCreateRequest":{"properties":{"name":{"type":"string","minLength":2,"title":"Name"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["name"],"title":"TeamCreateRequest"},"TeamMemberAddRequest":{"properties":{"user_id":{"type":"integer","title":"User Id"},"role":{"anyOf":[{"type":"string","pattern":"^(owner|admin|lead|member)$"},{"type":"null"}],"title":"Role","default":"member"}},"type":"object","required":["user_id"],"title":"TeamMemberAddRequest"},"TeamMemberResponse":{"properties":{"team_id":{"type":"integer","title":"Team Id"},"user_id":{"type":"integer","title":"User Id"},"role":{"type":"string","title":"Role"},"org_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"}},"type":"object","required":["team_id","user_id","role"],"title":"TeamMemberResponse"},"TeamResponse":{"properties":{"id":{"type":"integer","title":"Id"},"org_id":{"type":"integer","title":"Org Id"},"name":{"type":"string","title":"Name"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","org_id","name"],"title":"TeamResponse"},"TemplateConfig":{"properties":{"preprocessing":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Preprocessing","description":"List of preprocessing operations"},"chunking":{"additionalProperties":true,"type":"object","title":"Chunking","description":"Chunking method configuration"},"postprocessing":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Postprocessing","description":"List of postprocessing operations"},"classifier":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Classifier","description":"Optional classifier for auto-apply (media_types, filename_regex, title_regex, url_regex, min_score, priority)"}},"type":"object","required":["chunking"],"title":"TemplateConfig","description":"Template configuration structure."},"TemplatePreviewRequest":{"properties":{"template_id":{"type":"integer","title":"Template Id"},"item_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Item Ids","description":"Items to render."},"run_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Run Id","description":"Use items from this run."},"limit":{"type":"integer","maximum":1000.0,"minimum":1.0,"title":"Limit","default":50},"data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Data","description":"Inline context for preview. Example: { 'items': [...], 'date': '...', 'job': {...} }"}},"type":"object","required":["template_id"],"title":"TemplatePreviewRequest","description":"Preview rendering without persisting an output artifact.\n\nAdvanced users can pass inline `data` to dry-run rendering with a custom\ncontext. When `data` is provided, `item_ids`/`run_id` are optional."},"TemplatePreviewResponse":{"properties":{"rendered":{"type":"string","title":"Rendered"},"format":{"type":"string","enum":["md","html"],"title":"Format"}},"type":"object","required":["rendered","format"],"title":"TemplatePreviewResponse"},"TemplateValidationError":{"properties":{"field":{"type":"string","title":"Field","description":"Field with validation error"},"message":{"type":"string","title":"Message","description":"Error message"}},"type":"object","required":["field","message"],"title":"TemplateValidationError","description":"Schema for template validation errors."},"TemplateValidationResponse":{"properties":{"valid":{"type":"boolean","title":"Valid","description":"Whether the template is valid"},"errors":{"anyOf":[{"items":{"$ref":"#/components/schemas/TemplateValidationError"},"type":"array"},{"type":"null"}],"title":"Errors","description":"List of validation errors if invalid"},"warnings":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Warnings","description":"Non-critical warnings about the template"}},"type":"object","required":["valid"],"title":"TemplateValidationResponse","description":"Response schema for template validation."},"TenantQuotaResponse":{"properties":{"limit_rps":{"type":"integer","title":"Limit Rps"},"remaining":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Remaining"}},"type":"object","required":["limit_rps"],"title":"TenantQuotaResponse"},"TestCaseBase":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Name","description":"Test case name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Test case description"},"inputs":{"additionalProperties":true,"type":"object","title":"Inputs","description":"Input data for test"},"expected_outputs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Expected Outputs","description":"Expected output data"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Tags for categorization"},"is_golden":{"type":"boolean","title":"Is Golden","description":"Golden test case flag","default":false}},"type":"object","required":["inputs"],"title":"TestCaseBase","description":"Base test case model"},"TestCaseBulkCreate":{"properties":{"project_id":{"type":"integer","title":"Project Id"},"signature_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Signature Id"},"test_cases":{"items":{"$ref":"#/components/schemas/TestCaseBase"},"type":"array","title":"Test Cases"}},"type":"object","required":["project_id","test_cases"],"title":"TestCaseBulkCreate","description":"Bulk test case creation request"},"TestCaseCreate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Name","description":"Test case name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Test case description"},"inputs":{"additionalProperties":true,"type":"object","title":"Inputs","description":"Input data for test"},"expected_outputs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Expected Outputs","description":"Expected output data"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Tags for categorization"},"is_golden":{"type":"boolean","title":"Is Golden","description":"Golden test case flag","default":false},"project_id":{"type":"integer","title":"Project Id","description":"Parent project ID"},"signature_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Signature Id","description":"Associated signature ID"}},"type":"object","required":["inputs","project_id"],"title":"TestCaseCreate","description":"Test case creation request"},"TestCaseExportRequest":{"properties":{"project_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Project Id"},"format":{"type":"string","pattern":"^(csv|json)$","title":"Format","description":"Export format","default":"json"},"include_golden_only":{"type":"boolean","title":"Include Golden Only","description":"Export only golden test cases","default":false},"tag_filter":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tag Filter","description":"Filter by tags"}},"type":"object","title":"TestCaseExportRequest","description":"Test case export request\nNote: project_id is optional when provided via path param."},"TestCaseImportRequest":{"properties":{"project_id":{"type":"integer","title":"Project Id"},"format":{"type":"string","pattern":"^(csv|json)$","title":"Format","description":"Import format"},"data":{"type":"string","title":"Data","description":"Base64 encoded file data or JSON string"},"signature_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Signature Id"},"auto_generate_names":{"type":"boolean","title":"Auto Generate Names","description":"Auto-generate names if missing","default":true}},"type":"object","required":["project_id","format","data"],"title":"TestCaseImportRequest","description":"Test case import request"},"TestCaseUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"inputs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Inputs"},"expected_outputs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Expected Outputs"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"is_golden":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Golden"}},"type":"object","title":"TestCaseUpdate","description":"Test case update request"},"TimeRange":{"properties":{"start":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start","description":"Start timestamp (inclusive) in ISO-8601"},"end":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End","description":"End timestamp (inclusive) in ISO-8601"}},"type":"object","title":"TimeRange"},"TimedEffects":{"properties":{"sticky":{"type":"integer","minimum":0.0,"title":"Sticky","description":"Sticky duration in seconds","default":0},"cooldown":{"type":"integer","minimum":0.0,"title":"Cooldown","description":"Cooldown between triggers in seconds","default":0},"delay":{"type":"integer","minimum":0.0,"title":"Delay","description":"Initial delay before first trigger in seconds","default":0}},"type":"object","title":"TimedEffects","description":"Timed effects configuration for dictionary entries."},"TitleSuggestRequest":{"properties":{"content":{"type":"string","maxLength":5000000,"minLength":1,"title":"Content","description":"Source content of the note"},"title_strategy":{"type":"string","enum":["heuristic","llm","llm_fallback"],"title":"Title Strategy","description":"Strategy for title generation. MVP supports 'heuristic'.","default":"heuristic"},"title_max_len":{"type":"integer","maximum":500.0,"minimum":1.0,"title":"Title Max Len","description":"Max title length for suggestion.","default":250},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Optional language hint."}},"type":"object","required":["content"],"title":"TitleSuggestRequest"},"TitleSuggestResponse":{"properties":{"title":{"type":"string","title":"Title","description":"Suggested title"}},"type":"object","required":["title"],"title":"TitleSuggestResponse"},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token","description":"JWT access token"},"refresh_token":{"type":"string","title":"Refresh Token","description":"JWT refresh token"},"token_type":{"type":"string","title":"Token Type","description":"Token type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In","description":"Access token expiration in seconds"}},"type":"object","required":["access_token","refresh_token","expires_in"],"title":"TokenResponse","description":"JWT token response","example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","expires_in":1800,"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer"}},"TokenizerConfig":{"properties":{"mode":{"type":"string","title":"Mode","description":"Current tokenizer mode: whitespace|char_approx"},"divisor":{"type":"integer","title":"Divisor","description":"Char-based approx divisor (if applicable)"},"available_modes":{"items":{"type":"string"},"type":"array","title":"Available Modes"}},"type":"object","required":["mode","divisor"],"title":"TokenizerConfig"},"TokenizerUpdate":{"properties":{"mode":{"type":"string","pattern":"^(whitespace|char_approx)$","title":"Mode","description":"New tokenizer mode"},"divisor":{"type":"integer","minimum":1.0,"title":"Divisor","description":"Char-based approx divisor","default":4}},"type":"object","required":["mode"],"title":"TokenizerUpdate"},"ToolCatalogCreateRequest":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"org_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"},"team_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Team Id"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true}},"type":"object","required":["name"],"title":"ToolCatalogCreateRequest","description":"Create a new MCP tool catalog."},"ToolCatalogEntryCreateRequest":{"properties":{"tool_name":{"type":"string","maxLength":200,"minLength":1,"title":"Tool Name"},"module_id":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Module Id"}},"type":"object","required":["tool_name"],"title":"ToolCatalogEntryCreateRequest","description":"Add a tool entry to a catalog."},"ToolCatalogEntryResponse":{"properties":{"catalog_id":{"type":"integer","title":"Catalog Id"},"tool_name":{"type":"string","title":"Tool Name"},"module_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Module Id"}},"type":"object","required":["catalog_id","tool_name"],"title":"ToolCatalogEntryResponse"},"ToolCatalogResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"org_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"},"team_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Team Id"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","name","is_active"],"title":"ToolCatalogResponse"},"ToolChoiceFunction":{"properties":{"name":{"type":"string","title":"Name","description":"The name of the function to call."}},"type":"object","required":["name"],"title":"ToolChoiceFunction","description":"Specifies a specific function to be called."},"ToolChoiceOption":{"properties":{"type":{"type":"string","const":"function","title":"Type","description":"The type of the tool. Currently, only `function` is supported."},"function":{"$ref":"#/components/schemas/ToolChoiceFunction"}},"type":"object","required":["type","function"],"title":"ToolChoiceOption","description":"Specifies a tool the model should use. Use to force the model to call a specific function."},"ToolDefinition":{"properties":{"type":{"type":"string","const":"function","title":"Type","description":"The type of the tool. Currently, only `function` is supported."},"function":{"$ref":"#/components/schemas/FunctionDefinition"}},"type":"object","required":["type","function"],"title":"ToolDefinition","description":"Definition of a tool the model can use."},"ToolExecutionRequest":{"properties":{"tool_name":{"type":"string","maxLength":100,"minLength":1,"title":"Tool Name"},"arguments":{"additionalProperties":true,"type":"object","title":"Arguments"}},"type":"object","required":["tool_name"],"title":"ToolExecutionRequest","description":"Tool execution request"},"ToolExecutionResponse":{"properties":{"result":{"title":"Result"},"execution_time_ms":{"type":"number","title":"Execution Time Ms"},"module":{"type":"string","title":"Module"}},"type":"object","required":["result","execution_time_ms","module"],"title":"ToolExecutionResponse","description":"Tool execution response"},"ToolInfo":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"module":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Module"},"inputSchema":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Inputschema"},"canExecute":{"type":"boolean","title":"Canexecute","description":"Whether current user can execute this tool","default":false}},"type":"object","required":["name"],"title":"ToolInfo"},"ToolListResponse":{"properties":{"tools":{"items":{"$ref":"#/components/schemas/ToolInfo"},"type":"array","title":"Tools"}},"type":"object","required":["tools"],"title":"ToolListResponse"},"ToolPermissionBatchRequest":{"properties":{"tool_names":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Tool Names"}},"type":"object","required":["tool_names"],"title":"ToolPermissionBatchRequest","description":"Grant multiple tool execution permissions to a role in one call."},"ToolPermissionCreateRequest":{"properties":{"tool_name":{"type":"string","minLength":1,"title":"Tool Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["tool_name"],"title":"ToolPermissionCreateRequest","description":"Create a tool execute permission.\n\nIf tool_name is \"*\", creates tools.execute:* (wildcard)."},"ToolPermissionGrantRequest":{"properties":{"tool_name":{"type":"string","minLength":1,"title":"Tool Name"}},"type":"object","required":["tool_name"],"title":"ToolPermissionGrantRequest","description":"Grant a tool execution permission to a role.\n\ntool_name '*' means tools.execute:*"},"ToolPermissionPrefixRequest":{"properties":{"prefix":{"type":"string","minLength":1,"title":"Prefix"}},"type":"object","required":["prefix"],"title":"ToolPermissionPrefixRequest","description":"Grant/Revoke all tool permissions matching a name prefix.\n\nExamples:\n  {\"prefix\": \"tools.execute:media.\"} or {\"prefix\": \"media.\"}"},"ToolPermissionResponse":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},"type":"object","required":["name"],"title":"ToolPermissionResponse"},"TranscriptSegmentationRequest":{"properties":{"entries":{"items":{"$ref":"#/components/schemas/TranscriptUtterance"},"type":"array","title":"Entries","description":"Transcript utterances"},"K":{"type":"integer","minimum":1.0,"title":"K","description":"Maximum number of segments","default":6},"min_segment_size":{"type":"integer","minimum":1.0,"title":"Min Segment Size","description":"Minimum items per segment","default":5},"lambda_balance":{"type":"number","minimum":0.0,"title":"Lambda Balance","description":"Balance penalty coefficient","default":0.01},"utterance_expansion_width":{"type":"integer","minimum":0.0,"title":"Utterance Expansion Width","description":"Number of previous utterances to join per block","default":2},"min_improvement_ratio":{"type":"number","minimum":0.0,"title":"Min Improvement Ratio","description":"Stop splitting if relative improvement is below this threshold (0-1)","default":0.0},"embeddings_provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embeddings Provider","description":"Embedding provider (if using built-in service)"},"embeddings_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embeddings Model","description":"Embedding model (if using built-in service)"}},"type":"object","required":["entries"],"title":"TranscriptSegmentationRequest","description":"Request schema for transcript tree segmentation."},"TranscriptUtterance":{"properties":{"composite":{"type":"string","title":"Composite","description":"Utterance text or composite text"},"start":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Start","description":"Start time in seconds"},"end":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"End","description":"End time in seconds"},"speaker":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Speaker","description":"Speaker label"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Arbitrary extra metadata"}},"type":"object","required":["composite"],"title":"TranscriptUtterance","description":"Single utterance entry for transcript segmentation."},"UnifiedBatchRequest":{"properties":{"queries":{"items":{"type":"string"},"type":"array","maxItems":100,"minItems":1,"title":"Queries","description":"List of queries to process","example":["What is AI?","Explain neural networks","Define machine learning"]},"max_concurrent":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Max Concurrent","description":"Maximum concurrent processing","default":5,"example":5},"sources":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Sources","description":"Databases to search","default":["media_db"]},"corpus":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Corpus","description":"Alias for index_namespace"},"index_namespace":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Index Namespace","description":"Corpus/namespace identifier"},"search_mode":{"type":"string","enum":["fts","vector","hybrid"],"title":"Search Mode","default":"hybrid"},"hybrid_alpha":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Hybrid Alpha","default":0.7},"enable_intent_routing":{"type":"boolean","title":"Enable Intent Routing","default":false},"top_k":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Top K","default":10},"min_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Min Score","default":0.0},"adaptive_advanced_rewrites":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Adaptive Advanced Rewrites"},"expand_query":{"type":"boolean","title":"Expand Query","default":false},"expansion_strategies":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Expansion Strategies"},"spell_check":{"type":"boolean","title":"Spell Check","default":false},"enable_cache":{"type":"boolean","title":"Enable Cache","default":true},"cache_threshold":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Cache Threshold","default":0.85},"adaptive_cache":{"type":"boolean","title":"Adaptive Cache","default":true},"keyword_filter":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keyword Filter"},"enable_security_filter":{"type":"boolean","title":"Enable Security Filter","default":false},"detect_pii":{"type":"boolean","title":"Detect Pii","default":false},"redact_pii":{"type":"boolean","title":"Redact Pii","default":false},"sensitivity_level":{"type":"string","enum":["public","internal","confidential","restricted"],"title":"Sensitivity Level","default":"public"},"content_filter":{"type":"boolean","title":"Content Filter","default":false},"enable_table_processing":{"type":"boolean","title":"Enable Table Processing","default":false},"table_method":{"type":"string","enum":["markdown","html","hybrid"],"title":"Table Method","default":"markdown"},"enable_vlm_late_chunking":{"type":"boolean","title":"Enable Vlm Late Chunking","default":false},"vlm_backend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vlm Backend"},"vlm_detect_tables_only":{"type":"boolean","title":"Vlm Detect Tables Only","default":true},"vlm_max_pages":{"anyOf":[{"type":"integer","maximum":1000.0,"minimum":1.0},{"type":"null"}],"title":"Vlm Max Pages"},"vlm_late_chunk_top_k_docs":{"type":"integer","maximum":50.0,"minimum":1.0,"title":"Vlm Late Chunk Top K Docs","default":3},"enable_enhanced_chunking":{"type":"boolean","title":"Enable Enhanced Chunking","default":false},"chunk_type_filter":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Chunk Type Filter"},"enable_parent_expansion":{"type":"boolean","title":"Enable Parent Expansion","default":false},"parent_context_size":{"type":"integer","maximum":2000.0,"minimum":100.0,"title":"Parent Context Size","default":500},"include_sibling_chunks":{"type":"boolean","title":"Include Sibling Chunks","default":false},"sibling_window":{"type":"integer","maximum":50.0,"minimum":0.0,"title":"Sibling Window","default":1},"include_parent_document":{"type":"boolean","title":"Include Parent Document","default":false},"parent_max_tokens":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Parent Max Tokens","default":1200},"enable_multi_vector_passages":{"type":"boolean","title":"Enable Multi Vector Passages","default":false},"mv_span_chars":{"type":"integer","maximum":2000.0,"minimum":100.0,"title":"Mv Span Chars","default":300},"mv_stride":{"type":"integer","maximum":1000.0,"minimum":50.0,"title":"Mv Stride","default":150},"mv_max_spans":{"type":"integer","maximum":64.0,"minimum":1.0,"title":"Mv Max Spans","default":8},"mv_flatten_to_spans":{"type":"boolean","title":"Mv Flatten To Spans","default":false},"enable_numeric_table_boost":{"type":"boolean","title":"Enable Numeric Table Boost","default":false},"enable_reranking":{"type":"boolean","title":"Enable Reranking","default":true},"reranking_strategy":{"type":"string","enum":["flashrank","cross_encoder","hybrid","llama_cpp","llm_scoring","two_tier","none"],"title":"Reranking Strategy","default":"flashrank"},"rerank_top_k":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Rerank Top K"},"reranking_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reranking Model"},"rerank_min_relevance_prob":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Rerank Min Relevance Prob"},"rerank_sentinel_margin":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Rerank Sentinel Margin"},"enable_citations":{"type":"boolean","title":"Enable Citations","default":false},"citation_style":{"type":"string","enum":["apa","mla","chicago","harvard"],"title":"Citation Style","default":"apa"},"include_page_numbers":{"type":"boolean","title":"Include Page Numbers","default":false},"enable_generation":{"type":"boolean","title":"Enable Generation","default":false},"strict_extractive":{"type":"boolean","title":"Strict Extractive","default":false},"generation_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generation Model"},"generation_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generation Prompt"},"max_generation_tokens":{"type":"integer","maximum":2000.0,"minimum":50.0,"title":"Max Generation Tokens","default":500},"enable_abstention":{"type":"boolean","title":"Enable Abstention","default":false},"abstention_behavior":{"type":"string","enum":["continue","ask","decline"],"title":"Abstention Behavior","default":"continue"},"enable_multi_turn_synthesis":{"type":"boolean","title":"Enable Multi Turn Synthesis","default":false},"synthesis_time_budget_sec":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Synthesis Time Budget Sec"},"synthesis_draft_tokens":{"anyOf":[{"type":"integer","maximum":4000.0,"minimum":32.0},{"type":"null"}],"title":"Synthesis Draft Tokens"},"synthesis_refine_tokens":{"anyOf":[{"type":"integer","maximum":4000.0,"minimum":32.0},{"type":"null"}],"title":"Synthesis Refine Tokens"},"enable_content_policy_filter":{"type":"boolean","title":"Enable Content Policy Filter","default":false},"content_policy_types":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Content Policy Types"},"content_policy_mode":{"type":"string","enum":["redact","drop","annotate"],"title":"Content Policy Mode","default":"redact"},"enable_html_sanitizer":{"type":"boolean","title":"Enable Html Sanitizer","default":false},"html_allowed_tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Html Allowed Tags"},"html_allowed_attrs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Html Allowed Attrs"},"ocr_confidence_threshold":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Ocr Confidence Threshold"},"enable_post_verification":{"type":"boolean","title":"Enable Post Verification","default":false},"adaptive_max_retries":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Adaptive Max Retries","default":1},"adaptive_unsupported_threshold":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Adaptive Unsupported Threshold","default":0.15},"adaptive_max_claims":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Adaptive Max Claims","default":20},"adaptive_time_budget_sec":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Adaptive Time Budget Sec"},"low_confidence_behavior":{"type":"string","enum":["continue","ask","decline"],"title":"Low Confidence Behavior","default":"continue"},"adaptive_rerun_on_low_confidence":{"type":"boolean","title":"Adaptive Rerun On Low Confidence","default":false},"adaptive_rerun_include_generation":{"type":"boolean","title":"Adaptive Rerun Include Generation","default":true},"adaptive_rerun_bypass_cache":{"type":"boolean","title":"Adaptive Rerun Bypass Cache","default":false},"adaptive_rerun_time_budget_sec":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Adaptive Rerun Time Budget Sec"},"adaptive_rerun_doc_budget":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Adaptive Rerun Doc Budget"},"collect_feedback":{"type":"boolean","title":"Collect Feedback","default":false},"feedback_user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feedback User Id"},"apply_feedback_boost":{"type":"boolean","title":"Apply Feedback Boost","default":false},"enable_monitoring":{"type":"boolean","title":"Enable Monitoring","default":false},"enable_observability":{"type":"boolean","title":"Enable Observability","default":false},"trace_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trace Id"},"enable_performance_analysis":{"type":"boolean","title":"Enable Performance Analysis","default":false},"timeout_seconds":{"anyOf":[{"type":"number","maximum":60.0,"minimum":1.0},{"type":"null"}],"title":"Timeout Seconds"},"highlight_results":{"type":"boolean","title":"Highlight Results","default":false},"highlight_query_terms":{"type":"boolean","title":"Highlight Query Terms","default":false},"track_cost":{"type":"boolean","title":"Track Cost","default":false},"debug_mode":{"type":"boolean","title":"Debug Mode","default":false},"enable_injection_filter":{"type":"boolean","title":"Enable Injection Filter","default":true},"injection_filter_strength":{"type":"number","maximum":1.0,"minimum":0.05,"title":"Injection Filter Strength","default":0.5},"require_hard_citations":{"type":"boolean","title":"Require Hard Citations","default":false},"enable_numeric_fidelity":{"type":"boolean","title":"Enable Numeric Fidelity","default":false},"numeric_fidelity_behavior":{"type":"string","enum":["continue","ask","decline","retry"],"title":"Numeric Fidelity Behavior","default":"continue"},"enable_resilience":{"type":"boolean","title":"Enable Resilience","default":false},"retry_attempts":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Retry Attempts","default":3},"circuit_breaker":{"type":"boolean","title":"Circuit Breaker","default":false},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","required":["queries"],"title":"UnifiedBatchRequest","description":"Request for batch processing multiple queries.","example":{"enable_citations":true,"enable_reranking":true,"expand_query":true,"max_concurrent":5,"queries":["What is AI?","Explain neural networks"]}},"UnifiedBatchResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/UnifiedRAGResponse"},"type":"array","title":"Results","description":"Results for each query"},"total_queries":{"type":"integer","title":"Total Queries","description":"Total number of queries processed"},"successful":{"type":"integer","title":"Successful","description":"Number of successful queries"},"failed":{"type":"integer","title":"Failed","description":"Number of failed queries"},"total_time":{"type":"number","title":"Total Time","description":"Total batch processing time"}},"type":"object","required":["results","total_queries","successful","failed","total_time"],"title":"UnifiedBatchResponse","description":"Response for batch processing.","example":{"failed":0,"results":[],"successful":2,"total_queries":2,"total_time":0.75}},"UnifiedRAGRequest":{"properties":{"query":{"type":"string","maxLength":2000,"minLength":1,"title":"Query","description":"The search query","example":"What is machine learning?"},"sources":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Sources","description":"Databases to search: media_db, notes, characters, chats","default":["media_db"],"example":["media_db","notes"]},"strategy":{"type":"string","enum":["standard","agentic"],"title":"Strategy","description":"Pipeline strategy: standard (pre-chunked) or agentic (query-time synthetic chunk)","default":"standard","example":"agentic"},"corpus":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Corpus","description":"Alias for index_namespace used to select corpus-specific synonyms","example":"my_corpus"},"index_namespace":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Index Namespace","description":"Corpus/namespace identifier (enables per-corpus synonyms & indexing)","example":"my_corpus"},"search_mode":{"type":"string","enum":["fts","vector","hybrid"],"title":"Search Mode","description":"Search mode: fts (full-text), vector (semantic), or hybrid","default":"hybrid","example":"hybrid"},"fts_level":{"type":"string","enum":["media","chunk"],"title":"Fts Level","description":"FTS granularity: 'media' searches Media FTS; 'chunk' searches plaintext chunks","default":"media","example":"chunk"},"hybrid_alpha":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Hybrid Alpha","description":"Hybrid search weight (0=FTS only, 1=Vector only)","default":0.7,"example":0.7},"enable_intent_routing":{"type":"boolean","title":"Enable Intent Routing","description":"Analyze query intent and adjust retrieval knobs (top_k, hybrid weighting) before retrieval","default":false,"example":false},"top_k":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Top K","description":"Number of results to return","default":10,"example":10},"min_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Min Score","description":"Minimum relevance score","default":0.0,"example":0.0},"expand_query":{"type":"boolean","title":"Expand Query","description":"Enable query expansion","default":false,"example":true},"expansion_strategies":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Expansion Strategies","description":"Expansion strategies: acronym, synonym, domain, entity","example":["acronym","synonym"]},"spell_check":{"type":"boolean","title":"Spell Check","description":"Enable spell checking","default":false,"example":false},"enable_cache":{"type":"boolean","title":"Enable Cache","description":"Enable semantic caching","default":true,"example":true},"cache_threshold":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Cache Threshold","description":"Cache similarity threshold","default":0.85,"example":0.85},"adaptive_cache":{"type":"boolean","title":"Adaptive Cache","description":"Use adaptive cache thresholds","default":true,"example":true},"keyword_filter":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keyword Filter","description":"Filter results by keywords","example":["python","api"]},"include_media_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Include Media Ids","description":"Restrict search to these Media DB item IDs","example":[1,2,3]},"include_note_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Include Note Ids","description":"Restrict search to these Note IDs (ChaChaNotes UUIDs)","example":["a1b2c3-uuid","d4e5f6-uuid"]},"enable_security_filter":{"type":"boolean","title":"Enable Security Filter","description":"Enable security filtering","default":false,"example":false},"detect_pii":{"type":"boolean","title":"Detect Pii","description":"Detect personally identifiable information","default":false,"example":false},"redact_pii":{"type":"boolean","title":"Redact Pii","description":"Redact detected PII","default":false,"example":false},"sensitivity_level":{"type":"string","enum":["public","internal","confidential","restricted"],"title":"Sensitivity Level","description":"Maximum sensitivity level for results","default":"public","example":"internal"},"content_filter":{"type":"boolean","title":"Content Filter","description":"Enable content filtering","default":false,"example":false},"enable_table_processing":{"type":"boolean","title":"Enable Table Processing","description":"Enable table extraction and processing","default":false,"example":false},"table_method":{"type":"string","enum":["markdown","html","hybrid"],"title":"Table Method","description":"Table serialization method","default":"markdown","example":"markdown"},"enable_vlm_late_chunking":{"type":"boolean","title":"Enable Vlm Late Chunking","description":"Enable late VLM chunking on retrieved documents (media_db PDFs)","default":false,"example":false},"vlm_backend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vlm Backend","description":"VLM backend name (e.g., 'hf_table_transformer', 'docling')","example":"hf_table_transformer"},"vlm_detect_tables_only":{"type":"boolean","title":"Vlm Detect Tables Only","description":"When true, keep only table detections; otherwise include images/figures as 'vlm'","default":true,"example":true},"vlm_max_pages":{"anyOf":[{"type":"integer","maximum":1000.0,"minimum":1.0},{"type":"null"}],"title":"Vlm Max Pages","description":"Max pages per document to process with VLM","example":3},"vlm_late_chunk_top_k_docs":{"type":"integer","maximum":50.0,"minimum":1.0,"title":"Vlm Late Chunk Top K Docs","description":"Number of top retrieved documents to apply VLM late-chunking to","default":3,"example":3},"chunk_type_filter":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Chunk Type Filter","description":"Filter chunks by type: text, code, table, list","example":["text","code"]},"enable_parent_expansion":{"type":"boolean","title":"Enable Parent Expansion","description":"Expand chunks with parent document context","default":false,"example":false},"parent_context_size":{"type":"integer","maximum":2000.0,"minimum":100.0,"title":"Parent Context Size","description":"Size of parent context in characters","default":500,"example":500},"include_sibling_chunks":{"type":"boolean","title":"Include Sibling Chunks","description":"Include adjacent chunks from same document","default":false,"example":false},"sibling_window":{"type":"integer","maximum":50.0,"minimum":0.0,"title":"Sibling Window","description":"Number of sibling chunks to include on each side when include_sibling_chunks is true","default":1,"example":2},"include_parent_document":{"type":"boolean","title":"Include Parent Document","description":"Include the full parent document for each selected chunk","default":false,"example":false},"parent_max_tokens":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Parent Max Tokens","description":"Maximum tokens allowed to include a parent document; if parent exceeds, it is omitted","default":1200,"example":1200},"agentic_top_k_docs":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Agentic Top K Docs","description":"Number of coarse documents to consider when building the synthetic chunk","default":3,"example":3},"agentic_window_chars":{"type":"integer","maximum":20000.0,"minimum":200.0,"title":"Agentic Window Chars","description":"Window size around hits for span extraction (characters)","default":1200,"example":1200},"agentic_max_tokens_read":{"type":"integer","maximum":20000.0,"minimum":500.0,"title":"Agentic Max Tokens Read","description":"Approximate token budget for assembling the synthetic chunk","default":6000,"example":6000},"agentic_max_tool_calls":{"type":"integer","maximum":64.0,"minimum":1.0,"title":"Agentic Max Tool Calls","description":"Reserved for future LLM-tool orchestration; ignored by baseline","default":8,"example":8},"agentic_extractive_only":{"type":"boolean","title":"Agentic Extractive Only","description":"If true, assembled chunk is purely extractive from sources","default":true,"example":true},"agentic_quote_spans":{"type":"boolean","title":"Agentic Quote Spans","description":"Include span quotes and offsets in provenance metadata","default":true,"example":true},"agentic_debug_trace":{"type":"boolean","title":"Agentic Debug Trace","description":"Emit extra debug logs for agentic execution","default":false,"example":false},"agentic_enable_tools":{"type":"boolean","title":"Agentic Enable Tools","description":"Enable bounded tool loop (search_within/open_section/expand_window/quote_spans)","default":false,"example":false},"agentic_use_llm_planner":{"type":"boolean","title":"Agentic Use Llm Planner","description":"Use an LLM to plan tool use (ReAct style); falls back to heuristics when unavailable","default":false,"example":false},"agentic_time_budget_sec":{"anyOf":[{"type":"number","maximum":30.0,"minimum":0.1},{"type":"null"}],"title":"Agentic Time Budget Sec","description":"Wall-clock time budget for the agentic tool loop","example":5.0},"agentic_cache_ttl_sec":{"type":"integer","maximum":86400.0,"minimum":1.0,"title":"Agentic Cache Ttl Sec","description":"TTL for ephemeral chunk cache (seconds)","default":600,"example":600},"agentic_enable_query_decomposition":{"type":"boolean","title":"Agentic Enable Query Decomposition","description":"Enable heuristic multi-hop decomposition; run tool loop for each sub-goal and merge spans","default":false,"example":false},"agentic_subgoal_max":{"type":"integer","maximum":10.0,"minimum":1.0,"title":"Agentic Subgoal Max","description":"Maximum number of sub-goals to consider when decomposing queries","default":3,"example":3},"agentic_enable_semantic_within":{"type":"boolean","title":"Agentic Enable Semantic Within","description":"Use paragraph-level semantic search within documents (hashed embeddings)","default":true,"example":true},"agentic_enable_section_index":{"type":"boolean","title":"Agentic Enable Section Index","description":"Build simple heading→offset index and prefer structural anchors for open_section","default":true,"example":true},"agentic_prefer_structural_anchors":{"type":"boolean","title":"Agentic Prefer Structural Anchors","description":"Prefer structural anchors when selecting spans near section boundaries","default":true,"example":true},"agentic_enable_table_support":{"type":"boolean","title":"Agentic Enable Table Support","description":"Prefer table-like spans when queries mention tables/figures; integrates with VLM late chunks when available","default":true,"example":true},"agentic_enable_vlm_late_chunking":{"type":"boolean","title":"Agentic Enable Vlm Late Chunking","description":"Use VLM late chunking for top-k PDFs to add table/figure hints inside agentic pipeline","default":false,"example":false},"agentic_vlm_backend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Agentic Vlm Backend","description":"VLM backend name (e.g., 'hf_table_transformer', 'docling'); auto-select when None","example":"hf_table_transformer"},"agentic_vlm_detect_tables_only":{"type":"boolean","title":"Agentic Vlm Detect Tables Only","description":"Keep only table detections; set false to include other VLM hints","default":true,"example":true},"agentic_vlm_max_pages":{"anyOf":[{"type":"integer","maximum":1000.0,"minimum":1.0},{"type":"null"}],"title":"Agentic Vlm Max Pages","description":"Max pages per document to scan with VLM during agentic execution","example":3},"agentic_vlm_late_chunk_top_k_docs":{"type":"integer","maximum":25.0,"minimum":1.0,"title":"Agentic Vlm Late Chunk Top K Docs","description":"Top-k PDFs from coarse retrieval to pass to VLM late chunking (agentic)","default":2,"example":2},"agentic_use_provider_embeddings_within":{"type":"boolean","title":"Agentic Use Provider Embeddings Within","description":"Use configured embeddings provider to embed paragraphs for intra-doc semantic search; falls back to hashed","default":false,"example":false},"agentic_provider_embedding_model_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Agentic Provider Embedding Model Id","description":"Optional embedding model ID to override default for intra-doc paragraph embeddings","example":"text-embedding-3-small"},"agentic_adaptive_budgets":{"type":"boolean","title":"Agentic Adaptive Budgets","description":"Adapt max tool calls and read budget based on early coverage/corroboration","default":true,"example":true},"agentic_coverage_target":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Agentic Coverage Target","description":"Target fraction of query term coverage before early stop","default":0.8,"example":0.8},"agentic_min_corroborating_docs":{"type":"integer","maximum":10.0,"minimum":1.0,"title":"Agentic Min Corroborating Docs","description":"Minimum distinct documents contributing spans before early stop","default":2,"example":2},"agentic_max_redundancy":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Agentic Max Redundancy","description":"Max allowable redundancy (1 - merged/raw span length) before discouraging more spans","default":0.9,"example":0.9},"agentic_enable_metrics":{"type":"boolean","title":"Agentic Enable Metrics","description":"Emit agentic metrics (tool calls, timings, span histograms)","default":true,"example":true},"enable_multi_vector_passages":{"type":"boolean","title":"Enable Multi Vector Passages","description":"Enable multi-vector passage selection (ColBERT-style approximation) before reranking","default":false,"example":false},"mv_span_chars":{"type":"integer","maximum":2000.0,"minimum":100.0,"title":"Mv Span Chars","description":"Span window size in characters for multi-vector scoring","default":300,"example":300},"mv_stride":{"type":"integer","maximum":1000.0,"minimum":50.0,"title":"Mv Stride","description":"Stride between spans in characters","default":150,"example":150},"mv_max_spans":{"type":"integer","maximum":64.0,"minimum":1.0,"title":"Mv Max Spans","description":"Maximum spans per document to consider","default":8,"example":8},"mv_flatten_to_spans":{"type":"boolean","title":"Mv Flatten To Spans","description":"Return best span per document as pseudo-documents instead of reordering parent docs","default":false,"example":false},"enable_numeric_table_boost":{"type":"boolean","title":"Enable Numeric Table Boost","description":"When query includes numbers/units, modestly boost table-like and number-dense chunks before reranking","default":false,"example":false},"enable_claims":{"type":"boolean","title":"Enable Claims","description":"Extract and verify factual claims from the generated answer","default":false,"example":false},"claim_extractor":{"type":"string","enum":["aps","claimify","ner","auto"],"title":"Claim Extractor","description":"Claim extraction strategy","default":"auto","example":"auto"},"claim_verifier":{"type":"string","enum":["nli","llm","hybrid"],"title":"Claim Verifier","description":"Claim verification strategy","default":"hybrid","example":"hybrid"},"claims_top_k":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Claims Top K","description":"Top-K evidence items per claim","default":5,"example":5},"claims_conf_threshold":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Claims Conf Threshold","description":"Confidence threshold for supported/refuted labels","default":0.7,"example":0.7},"claims_max":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Claims Max","description":"Maximum number of claims to extract","default":25,"example":25},"claims_concurrency":{"type":"integer","maximum":32.0,"minimum":1.0,"title":"Claims Concurrency","description":"Maximum parallel claim verifications","default":8,"example":8},"nli_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nli Model","description":"Local HuggingFace model id or path for MNLI (e.g., roberta-large-mnli or /models/mnli)","example":"roberta-large-mnli"},"enable_reranking":{"type":"boolean","title":"Enable Reranking","description":"Enable document reranking","default":true,"example":true},"reranking_strategy":{"type":"string","enum":["flashrank","cross_encoder","hybrid","llama_cpp","llm_scoring","two_tier","none"],"title":"Reranking Strategy","description":"Reranking strategy","default":"flashrank","example":"hybrid"},"rerank_top_k":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Rerank Top K","description":"Number of documents to rerank (defaults to top_k)","example":20},"reranking_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reranking Model","description":"Optional reranker model identifier (e.g., GGUF path for llama.cpp)","example":"./models/Qwen3-Embedding-0.6B_f16.gguf"},"rerank_min_relevance_prob":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Rerank Min Relevance Prob","description":"Override minimum calibrated probability to allow generation (Two-Tier)","example":0.5},"rerank_sentinel_margin":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Rerank Sentinel Margin","description":"Override required margin between top probability and sentinel (Two-Tier)","example":0.15},"enable_citations":{"type":"boolean","title":"Enable Citations","description":"Generate citations from results","default":false,"example":true},"citation_style":{"type":"string","enum":["apa","mla","chicago","harvard","ieee"],"title":"Citation Style","description":"Academic citation format style","default":"apa","example":"apa"},"include_page_numbers":{"type":"boolean","title":"Include Page Numbers","description":"Include page numbers in citations","default":false,"example":false},"enable_chunk_citations":{"type":"boolean","title":"Enable Chunk Citations","description":"Generate chunk-level citations for answer verification","default":true,"example":true},"enable_generation":{"type":"boolean","title":"Enable Generation","description":"Generate an answer from retrieved context","default":false,"example":true},"strict_extractive":{"type":"boolean","title":"Strict Extractive","description":"Strict extractive mode: assemble the answer only from retrieved spans (no free-form generation). Intended for sentence-level grounding with hard citations.","default":false,"example":false},"generation_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generation Model","description":"LLM model for answer generation","example":"gpt-3.5-turbo"},"generation_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generation Prompt","description":"Custom prompt template for generation"},"max_generation_tokens":{"type":"integer","maximum":2000.0,"minimum":50.0,"title":"Max Generation Tokens","description":"Maximum tokens for generated answer","default":500,"example":500},"enable_abstention":{"type":"boolean","title":"Enable Abstention","description":"Allow abstaining (or asking for clarification) when evidence is thin based on calibrated gating","default":false,"example":false},"abstention_behavior":{"type":"string","enum":["continue","ask","decline"],"title":"Abstention Behavior","description":"When abstaining: continue (no answer), ask a clarifying question, or decline","default":"continue","example":"ask"},"enable_multi_turn_synthesis":{"type":"boolean","title":"Enable Multi Turn Synthesis","description":"Use draft → critique → refine generation under a strict time/token budget","default":false,"example":false},"synthesis_time_budget_sec":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Synthesis Time Budget Sec","description":"Total time budget in seconds for multi-turn synthesis","example":5.0},"synthesis_draft_tokens":{"anyOf":[{"type":"integer","maximum":4000.0,"minimum":32.0},{"type":"null"}],"title":"Synthesis Draft Tokens","description":"Max tokens for the draft stage (defaults to min(max_generation_tokens, 400))","example":300},"synthesis_refine_tokens":{"anyOf":[{"type":"integer","maximum":4000.0,"minimum":32.0},{"type":"null"}],"title":"Synthesis Refine Tokens","description":"Max tokens for the refine stage (defaults to max_generation_tokens)","example":500},"enable_content_policy_filter":{"type":"boolean","title":"Enable Content Policy Filter","description":"Apply PII/PHI content policy on retrieved chunks before generation","default":false,"example":false},"content_policy_types":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Content Policy Types","description":"Policy types to enforce: ['pii', 'phi']","example":["pii","phi"]},"content_policy_mode":{"type":"string","enum":["redact","drop","annotate"],"title":"Content Policy Mode","description":"Policy action: redact matches, drop offending chunks, or annotate only","default":"redact","example":"redact"},"enable_html_sanitizer":{"type":"boolean","title":"Enable Html Sanitizer","description":"Sanitize HTML with an allow-list of tags/attributes","default":false,"example":false},"html_allowed_tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Html Allowed Tags","description":"Allowed HTML tags for sanitizer","example":["p","b","i","ul","li","code"]},"html_allowed_attrs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Html Allowed Attrs","description":"Allowed HTML attributes for sanitizer","example":["href","title"]},"ocr_confidence_threshold":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Ocr Confidence Threshold","description":"Drop OCR-derived chunks whose metadata.ocr_confidence is below this threshold","example":0.6},"enable_post_verification":{"type":"boolean","title":"Enable Post Verification","description":"Verify generated answer against evidence; optionally attempt a bounded repair","default":false,"example":false},"adaptive_max_retries":{"type":"integer","maximum":3.0,"minimum":0.0,"title":"Adaptive Max Retries","description":"Maximum adaptive repair attempts when evidence is insufficient","default":1,"example":1},"adaptive_unsupported_threshold":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Adaptive Unsupported Threshold","description":"If (refuted + NEI)/total_claims exceeds this, trigger repair","default":0.15,"example":0.15},"adaptive_max_claims":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Adaptive Max Claims","description":"Maximum claims to analyze during post-verification","default":20,"example":20},"adaptive_time_budget_sec":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Adaptive Time Budget Sec","description":"Optional hard cap on post-verification wall time","example":10.0},"low_confidence_behavior":{"type":"string","enum":["continue","ask","decline"],"title":"Low Confidence Behavior","description":"Behavior when evidence remains insufficient after retries","default":"continue","example":"ask"},"adaptive_advanced_rewrites":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Adaptive Advanced Rewrites","description":"Override env to enable/disable HyDE + multi-strategy rewrites in the adaptive pass","example":true},"adaptive_rerun_on_low_confidence":{"type":"boolean","title":"Adaptive Rerun On Low Confidence","description":"If true, run a bounded full pipeline rerun on low confidence to seek a better answer","default":false,"example":true},"adaptive_rerun_include_generation":{"type":"boolean","title":"Adaptive Rerun Include Generation","description":"If true, the adaptive rerun may include answer generation; otherwise stops after retrieval/rerank","default":true,"example":true},"adaptive_rerun_bypass_cache":{"type":"boolean","title":"Adaptive Rerun Bypass Cache","description":"If true, the adaptive rerun forces enable_cache=false to avoid stale cache hits","default":false,"example":true},"adaptive_rerun_time_budget_sec":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Adaptive Rerun Time Budget Sec","description":"Optional hard cap on adaptive rerun wall time; emits rag_phase_budget_exhausted_total on breach","example":5.0},"adaptive_rerun_doc_budget":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Adaptive Rerun Doc Budget","description":"Optional cap on documents passed to quick-verify during rerun adoption checks","example":10},"collect_feedback":{"type":"boolean","title":"Collect Feedback","description":"Enable feedback collection","default":false,"example":false},"feedback_user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feedback User Id","description":"User ID for feedback tracking","example":"user123"},"apply_feedback_boost":{"type":"boolean","title":"Apply Feedback Boost","description":"Apply feedback-based result boosting","default":false,"example":false},"enable_monitoring":{"type":"boolean","title":"Enable Monitoring","description":"Enable performance monitoring","default":false,"example":true},"enable_analytics":{"type":"boolean","title":"Enable Analytics","description":"Enable analytics collection (server QA)","default":true,"example":true},"use_connection_pool":{"type":"boolean","title":"Use Connection Pool","description":"Use database connection pooling","default":true,"example":true},"use_embedding_cache":{"type":"boolean","title":"Use Embedding Cache","description":"Use LRU cache for embeddings","default":true,"example":true},"enable_observability":{"type":"boolean","title":"Enable Observability","description":"Enable observability tracing","default":false,"example":false},"trace_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trace Id","description":"Trace ID for observability"},"enable_performance_analysis":{"type":"boolean","title":"Enable Performance Analysis","description":"Enable detailed performance analysis","default":false,"example":false},"timeout_seconds":{"anyOf":[{"type":"number","maximum":60.0,"minimum":1.0},{"type":"null"}],"title":"Timeout Seconds","description":"Request timeout in seconds","example":10.0},"highlight_results":{"type":"boolean","title":"Highlight Results","description":"Highlight matching terms in results","default":false,"example":false},"highlight_query_terms":{"type":"boolean","title":"Highlight Query Terms","description":"Highlight query terms specifically","default":false,"example":false},"track_cost":{"type":"boolean","title":"Track Cost","description":"Track estimated API costs","default":false,"example":false},"debug_mode":{"type":"boolean","title":"Debug Mode","description":"Enable debug logging","default":false,"example":false},"explain_only":{"type":"boolean","title":"Explain Only","description":"When strategy=agentic and enable_generation=false, return only plan + spans/provenance","default":false,"example":false},"enable_injection_filter":{"type":"boolean","title":"Enable Injection Filter","description":"Detect and down-weight chunks with instruction-injection risk before generation","default":true,"example":true},"injection_filter_strength":{"type":"number","maximum":1.0,"minimum":0.05,"title":"Injection Filter Strength","description":"Multiplicative down-weight factor applied to risky chunks","default":0.5,"example":0.5},"require_hard_citations":{"type":"boolean","title":"Require Hard Citations","description":"Require a supporting span (doc_id + offsets) for each sentence in the answer; attaches hard_citations metadata and may apply low_confidence_behavior","default":false,"example":false},"enable_numeric_fidelity":{"type":"boolean","title":"Enable Numeric Fidelity","description":"Verify numeric values in the answer appear in sources; optionally retry retrieval or ask/decline","default":false,"example":false},"numeric_fidelity_behavior":{"type":"string","enum":["continue","ask","decline","retry"],"title":"Numeric Fidelity Behavior","description":"Behavior when numeric values are not found in sources","default":"continue","example":"ask"},"enable_batch":{"type":"boolean","title":"Enable Batch","description":"Enable batch query processing","default":false,"example":false},"batch_queries":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Batch Queries","description":"Additional queries for batch processing","example":["query1","query2"]},"batch_concurrent":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Batch Concurrent","description":"Maximum concurrent batch queries","default":5,"example":5},"enable_resilience":{"type":"boolean","title":"Enable Resilience","description":"Enable resilience features","default":false,"example":false},"retry_attempts":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Retry Attempts","description":"Number of retry attempts","default":3,"example":3},"circuit_breaker":{"type":"boolean","title":"Circuit Breaker","description":"Enable circuit breaker","default":false,"example":false},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id","description":"User ID for personalization","example":"user123"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for tracking","example":"session456"}},"type":"object","required":["query"],"title":"UnifiedRAGRequest","description":"Unified RAG request with ALL features as optional parameters.\nEvery feature in the RAG system is accessible through this single schema.","example":{"enable_citations":true,"enable_generation":true,"enable_reranking":true,"expand_query":true,"expansion_strategies":["synonym","acronym"],"query":"What is machine learning?","reranking_strategy":"hybrid","sources":["media_db","notes"]}},"UnifiedRAGResponse":{"properties":{"documents":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Documents","description":"Retrieved documents"},"query":{"type":"string","title":"Query","description":"Original query"},"expanded_queries":{"items":{"type":"string"},"type":"array","title":"Expanded Queries","description":"Expanded query variations"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","description":"Additional metadata"},"timings":{"additionalProperties":{"type":"number"},"type":"object","title":"Timings","description":"Performance timings"},"citations":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Citations","description":"Generated citations (academic and chunk-level)"},"academic_citations":{"items":{"type":"string"},"type":"array","title":"Academic Citations","description":"Formatted academic citations (MLA/APA/etc)"},"chunk_citations":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Chunk Citations","description":"Chunk-level citations for answer verification"},"feedback_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feedback Id","description":"Feedback tracking ID"},"generated_answer":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Generated Answer","description":"Generated answer from context"},"cache_hit":{"type":"boolean","title":"Cache Hit","description":"Whether result was from cache","default":false},"errors":{"items":{"type":"string"},"type":"array","title":"Errors","description":"Any errors encountered"},"security_report":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Security Report","description":"Security analysis report"},"total_time":{"type":"number","title":"Total Time","description":"Total execution time","default":0.0},"claims":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Claims","description":"Per-claim verification results with evidence"},"factuality":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Factuality","description":"Summary of factuality (supported/refuted/nei, precision, coverage)"}},"type":"object","required":["documents","query"],"title":"UnifiedRAGResponse","description":"Unified response structure for RAG queries.","example":{"cache_hit":false,"citations":[{"confidence":0.95,"source":"ML Introduction","text":"Machine learning is a subset of artificial intelligence","type":"exact"}],"documents":[{"content":"Machine learning is a subset of artificial intelligence...","id":"doc1","metadata":{"source":"media_db","title":"ML Introduction"},"score":0.95}],"errors":[],"expanded_queries":["machine learning definition","ML explanation"],"generated_answer":"Machine learning is a branch of AI that enables systems to learn from data...","metadata":{"cache_hit":false,"documents_retrieved":10,"sources_searched":["media_db","notes"]},"query":"What is machine learning?","timings":{"query_expansion":0.05,"reranking":0.1,"retrieval":0.2,"total":0.35},"total_time":0.35}},"UpdateEvaluationRequest":{"properties":{"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description"},"eval_spec":{"anyOf":[{"$ref":"#/components/schemas/EvaluationSpec"},{"type":"null"}]},"metadata":{"anyOf":[{"$ref":"#/components/schemas/EvaluationMetadata"},{"type":"null"}]}},"type":"object","title":"UpdateEvaluationRequest","description":"Update evaluation request"},"UpdateProfileRequest":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email","description":"New email address"}},"type":"object","title":"UpdateProfileRequest","description":"Request model for updating user profile.","example":{"email":"newemail@example.com"}},"UpsertVectorsRequest":{"properties":{"records":{"items":{"$ref":"#/components/schemas/VectorRecord"},"type":"array","title":"Records","description":"Vectors to upsert."}},"type":"object","required":["records"],"title":"UpsertVectorsRequest"},"UsageDailyResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/UsageDailyRow"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"limit":{"type":"integer","title":"Limit"}},"type":"object","required":["items","total","page","limit"],"title":"UsageDailyResponse","description":"Response for daily usage query."},"UsageDailyRow":{"properties":{"user_id":{"type":"integer","title":"User Id"},"day":{"anyOf":[{"type":"string","format":"date"},{"type":"string"}],"title":"Day"},"requests":{"type":"integer","title":"Requests"},"errors":{"type":"integer","title":"Errors"},"bytes_total":{"type":"integer","title":"Bytes Total"},"bytes_in_total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Bytes In Total"},"latency_avg_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latency Avg Ms"}},"type":"object","required":["user_id","day","requests","errors","bytes_total"],"title":"UsageDailyRow","description":"Single usage_daily record."},"UsageTopResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/UsageTopRow"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"UsageTopResponse"},"UsageTopRow":{"properties":{"user_id":{"type":"integer","title":"User Id"},"requests":{"type":"integer","title":"Requests"},"errors":{"type":"integer","title":"Errors"},"bytes_total":{"type":"integer","title":"Bytes Total"},"bytes_in_total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Bytes In Total"},"latency_avg_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latency Avg Ms"}},"type":"object","required":["user_id","requests","errors","bytes_total"],"title":"UsageTopRow","description":"Aggregated usage by user for a date range."},"UserListResponse":{"properties":{"users":{"items":{"$ref":"#/components/schemas/UserSummary"},"type":"array","title":"Users"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"limit":{"type":"integer","title":"Limit"},"pages":{"type":"integer","title":"Pages"}},"type":"object","required":["users","total","page","limit","pages"],"title":"UserListResponse","description":"Response for user list endpoint"},"UserOverrideEntry":{"properties":{"permission_id":{"type":"integer","title":"Permission Id"},"permission_name":{"type":"string","title":"Permission Name"},"granted":{"type":"boolean","title":"Granted"},"expires_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["permission_id","permission_name","granted"],"title":"UserOverrideEntry"},"UserOverrideUpsertRequest":{"properties":{"permission_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Permission Id"},"permission_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Permission Name"},"effect":{"type":"string","pattern":"^(allow|deny)$","title":"Effect"},"expires_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["effect"],"title":"UserOverrideUpsertRequest"},"UserOverridesResponse":{"properties":{"user_id":{"type":"integer","title":"User Id"},"overrides":{"items":{"$ref":"#/components/schemas/UserOverrideEntry"},"type":"array","title":"Overrides"}},"type":"object","required":["user_id","overrides"],"title":"UserOverridesResponse"},"UserResponse":{"properties":{"id":{"type":"integer","title":"Id","description":"User ID"},"uuid":{"type":"string","title":"Uuid","description":"User UUID"},"username":{"type":"string","title":"Username","description":"Username"},"email":{"type":"string","title":"Email","description":"Email address"},"role":{"type":"string","title":"Role","description":"User role"},"is_active":{"type":"boolean","title":"Is Active","description":"Account active status"},"is_verified":{"type":"boolean","title":"Is Verified","description":"Email verification status"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Account creation time"},"last_login":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login","description":"Last login time"},"storage_quota_mb":{"type":"integer","title":"Storage Quota Mb","description":"Storage quota in MB"},"storage_used_mb":{"type":"number","title":"Storage Used Mb","description":"Storage used in MB"}},"type":"object","required":["id","uuid","username","email","role","is_active","is_verified","created_at","storage_quota_mb","storage_used_mb"],"title":"UserResponse","description":"User information response","example":{"created_at":"2025-01-14T10:00:00","email":"john@example.com","id":1,"is_active":true,"is_verified":true,"last_login":"2025-01-14T12:00:00","role":"user","storage_quota_mb":5120,"storage_used_mb":1024.5,"username":"johndoe","uuid":"123e4567-e89b-12d3-a456-426614174000"}},"UserRoleListResponse":{"properties":{"user_id":{"type":"integer","title":"User Id"},"roles":{"items":{"$ref":"#/components/schemas/RoleResponse"},"type":"array","title":"Roles"}},"type":"object","required":["user_id","roles"],"title":"UserRoleListResponse"},"UserStats":{"properties":{"total":{"type":"integer","title":"Total"},"active":{"type":"integer","title":"Active"},"verified":{"type":"integer","title":"Verified"},"admins":{"type":"integer","title":"Admins"},"new_last_30d":{"type":"integer","title":"New Last 30D"}},"type":"object","required":["total","active","verified","admins","new_last_30d"],"title":"UserStats","description":"User statistics"},"UserSummary":{"properties":{"id":{"type":"integer","title":"Id"},"uuid":{"type":"string","title":"Uuid"},"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"role":{"type":"string","title":"Role"},"is_active":{"type":"boolean","title":"Is Active"},"is_verified":{"type":"boolean","title":"Is Verified"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"last_login":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login"},"storage_quota_mb":{"type":"integer","title":"Storage Quota Mb"},"storage_used_mb":{"type":"number","title":"Storage Used Mb"}},"type":"object","required":["id","uuid","username","email","role","is_active","is_verified","created_at","storage_quota_mb","storage_used_mb"],"title":"UserSummary","description":"Summary information about a user"},"UserTierResponse":{"properties":{"user_id":{"type":"integer","title":"User Id"},"tier":{"type":"string","title":"Tier"}},"type":"object","required":["user_id","tier"],"title":"UserTierResponse"},"UserUpdateRequest":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"role":{"anyOf":[{"type":"string","pattern":"^(user|admin|service)$"},{"type":"null"}],"title":"Role"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"is_verified":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Verified"},"is_locked":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Locked"},"storage_quota_mb":{"anyOf":[{"type":"integer","minimum":100.0},{"type":"null"}],"title":"Storage Quota Mb"}},"type":"object","title":"UserUpdateRequest","description":"Request to update user information"},"ValidateDictionaryRequest":{"properties":{"data":{"additionalProperties":true,"type":"object","title":"Data","description":"Dictionary JSON data including entries"},"schema_version":{"type":"integer","title":"Schema Version","description":"Schema version for validation","default":1},"strict":{"type":"boolean","title":"Strict","description":"If true, may be used to fail import on errors (reporting stays 200)","default":false}},"type":"object","required":["data"],"title":"ValidateDictionaryRequest","description":"Request body for dictionary validation endpoint."},"ValidateDictionaryResponse":{"properties":{"ok":{"type":"boolean","title":"Ok","description":"Whether validation passed without errors"},"schema_version":{"type":"integer","title":"Schema Version","description":"Schema version that was validated"},"errors":{"items":{"$ref":"#/components/schemas/ValidationIssue"},"type":"array","title":"Errors","description":"List of validation errors"},"warnings":{"items":{"$ref":"#/components/schemas/ValidationIssue"},"type":"array","title":"Warnings","description":"List of validation warnings"},"entry_stats":{"additionalProperties":{"type":"integer"},"type":"object","title":"Entry Stats","description":"Basic statistics about entries"},"suggested_fixes":{"items":{"type":"string"},"type":"array","title":"Suggested Fixes","description":"Optional suggestions to fix issues"}},"type":"object","required":["ok","schema_version"],"title":"ValidateDictionaryResponse","description":"Structured validation result matching the validator's taxonomy."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"ValidationIssue":{"properties":{"code":{"type":"string","title":"Code","description":"Machine-readable issue code"},"field":{"type":"string","title":"Field","description":"Field path where the issue occurred"},"message":{"type":"string","title":"Message","description":"Human-readable message"}},"type":"object","required":["code","field","message"],"title":"ValidationIssue","description":"Represents a single validation error or warning entry."},"VectorRecord":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id","description":"Vector identifier."},"values":{"anyOf":[{"items":{"type":"number"},"type":"array"},{"type":"null"}],"title":"Values","description":"Embedding vector values."},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"Raw text/content to embed (server may embed if values omitted)."},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Per-vector metadata."}},"type":"object","title":"VectorRecord"},"VectorStoreCreate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Human-readable store name (unique per user).","examples":["docs-index"]},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Arbitrary metadata to associate with the store."},"embedding_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Embedding Model","description":"Embedding model identifier for reference (optional).","examples":["text-embedding-3-small"]},"dimensions":{"type":"integer","exclusiveMinimum":0.0,"title":"Dimensions","description":"Embedding vector dimension for this store.","examples":[1536]}},"type":"object","required":["dimensions"],"title":"VectorStoreCreate"},"VectorStoreObject":{"properties":{"id":{"type":"string","title":"Id","description":"Unique store ID."},"object":{"type":"string","title":"Object","description":"Object type.","default":"vector_store"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Store name."},"created_at":{"type":"integer","title":"Created At","description":"Creation timestamp (unix)."},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","description":"Store metadata."},"dimensions":{"type":"integer","title":"Dimensions","description":"Embedding vector dimension."}},"type":"object","required":["id","created_at","dimensions"],"title":"VectorStoreObject"},"VectorStoreUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","title":"VectorStoreUpdate"},"VersionCreateRequest":{"properties":{"content":{"type":"string","maxLength":5000000,"title":"Content","description":"Content (max 5MB)"},"prompt":{"type":"string","maxLength":10000,"title":"Prompt","description":"Prompt (max 10KB)"},"analysis_content":{"type":"string","maxLength":100000,"title":"Analysis Content","description":"Analysis content (max 100KB)"},"safe_metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Safe Metadata","description":"Optional safe metadata JSON to store with this version."}},"type":"object","required":["content","prompt","analysis_content"],"title":"VersionCreateRequest"},"VersionDetailResponse":{"properties":{"uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uuid","description":"UUID of this version."},"media_id":{"type":"integer","title":"Media Id","description":"ID of the parent media item.","example":123},"version_number":{"type":"integer","title":"Version Number","description":"Sequential version number.","example":2},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Timestamp when this version was created."},"prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prompt","description":"Prompt associated with this version.","example":"Summarize the previous version."},"analysis_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Analysis Content","description":"Analysis content associated with this version.","example":"This version focuses on..."},"safe_metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Safe Metadata","description":"Safe metadata JSON captured for this version."},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"The full content of this version (if requested).","example":"This is the text content for version 2..."}},"type":"object","required":["media_id","version_number","created_at"],"title":"VersionDetailResponse","description":"Represents the details of a single media version."},"VersionRollbackRequest":{"properties":{"version_number":{"type":"integer","title":"Version Number"}},"type":"object","required":["version_number"],"title":"VersionRollbackRequest"},"VirtualKeyCreateRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"expires_in_days":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Expires In Days","default":30},"org_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Org Id"},"team_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Team Id"},"allowed_endpoints":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Endpoints"},"allowed_providers":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Providers"},"allowed_models":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Models"},"budget_day_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Budget Day Tokens"},"budget_month_tokens":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Budget Month Tokens"},"budget_day_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Budget Day Usd"},"budget_month_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Budget Month Usd"},"allowed_methods":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Methods"},"allowed_paths":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Paths"},"max_calls":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Max Calls"},"max_runs":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Max Runs"}},"type":"object","title":"VirtualKeyCreateRequest"},"Watchlist":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id","description":"Watchlist ID (UUID). If absent on create, a new one is generated"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"enabled":{"type":"boolean","title":"Enabled","default":true},"scope_type":{"type":"string","title":"Scope Type","description":"global | user | team | org","default":"user"},"scope_id":{"type":"string","title":"Scope Id","description":"The corresponding subject id"},"rules":{"items":{"$ref":"#/components/schemas/WatchlistRule"},"type":"array","title":"Rules"}},"type":"object","required":["name","scope_id"],"title":"Watchlist"},"WatchlistDeleteResponse":{"properties":{"status":{"type":"string","title":"Status"},"id":{"type":"string","title":"Id"}},"type":"object","required":["status","id"],"title":"WatchlistDeleteResponse"},"WatchlistFilter":{"properties":{"type":{"type":"string","enum":["keyword","author","date_range","regex","all"],"title":"Type"},"action":{"type":"string","enum":["include","exclude","flag"],"title":"Action"},"value":{"additionalProperties":true,"type":"object","title":"Value"},"priority":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Priority"},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["type","action"],"title":"WatchlistFilter"},"WatchlistFiltersPayload":{"properties":{"filters":{"items":{"$ref":"#/components/schemas/WatchlistFilter"},"type":"array","title":"Filters"},"require_include":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Require Include","description":"Include-only gating toggle. When true and any include rules exist, only include-matched items are ingested; others are treated as filtered. If unset, the job inherits the organization default when available (organizations.metadata.watchlists.require_include_default or flat key watchlists_require_include_default) and finally the WATCHLISTS_REQUIRE_INCLUDE_DEFAULT env var."}},"type":"object","title":"WatchlistFiltersPayload"},"WatchlistListResponse":{"properties":{"watchlists":{"items":{"$ref":"#/components/schemas/Watchlist"},"type":"array","title":"Watchlists"}},"type":"object","required":["watchlists"],"title":"WatchlistListResponse"},"WatchlistOutput":{"properties":{"id":{"type":"integer","title":"Id"},"run_id":{"type":"integer","title":"Run Id"},"job_id":{"type":"integer","title":"Job Id"},"type":{"type":"string","title":"Type"},"format":{"type":"string","title":"Format"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"},"storage_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Storage Path"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"},"media_item_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Media Item Id"},"chatbook_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chatbook Path"},"version":{"type":"integer","title":"Version"},"expires_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expires At"},"expired":{"type":"boolean","title":"Expired","default":false},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","run_id","job_id","type","format","version","created_at"],"title":"WatchlistOutput"},"WatchlistOutputChatbookDelivery":{"properties":{"enabled":{"type":"boolean","title":"Enabled","default":true},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Override Chatbook document title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Optional description stored alongside the document"},"conversation_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Conversation Id","description":"Optional conversation association"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider","description":"Provider marker for the generated document","default":"watchlists"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Model marker for the generated document","default":"watchlists"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata stored with the document"}},"type":"object","title":"WatchlistOutputChatbookDelivery"},"WatchlistOutputCreateRequest":{"properties":{"run_id":{"type":"integer","title":"Run Id","description":"Run identifier the output is based on"},"item_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Item Ids","description":"Explicit list of scraped item IDs to include"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title to embed in the generated output"},"type":{"type":"string","title":"Type","description":"Output template/type identifier","default":"briefing_markdown"},"format":{"anyOf":[{"type":"string","enum":["md","html"]},{"type":"null"}],"title":"Format","description":"Rendered output format (overrides template)"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Optional metadata stored alongside the output"},"template_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Template Name","description":"Name of a stored template to render with"},"retention_seconds":{"anyOf":[{"type":"integer","minimum":60.0},{"type":"null"}],"title":"Retention Seconds","description":"Optional custom retention in seconds (0 = no expiry)"},"temporary":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Temporary","description":"Whether to use temporary retention defaults","default":false},"deliveries":{"anyOf":[{"$ref":"#/components/schemas/WatchlistOutputDeliveries"},{"type":"null"}],"description":"Optional delivery configuration (email, chatbook). Overrides job defaults when provided."}},"type":"object","required":["run_id"],"title":"WatchlistOutputCreateRequest"},"WatchlistOutputDeliveries":{"properties":{"email":{"anyOf":[{"$ref":"#/components/schemas/WatchlistOutputEmailDelivery"},{"type":"null"}]},"chatbook":{"anyOf":[{"$ref":"#/components/schemas/WatchlistOutputChatbookDelivery"},{"type":"null"}]}},"type":"object","title":"WatchlistOutputDeliveries"},"WatchlistOutputEmailDelivery":{"properties":{"enabled":{"type":"boolean","title":"Enabled","default":true},"recipients":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Recipients","description":"Explicit recipient emails; defaults to user email when empty"},"subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subject","description":"Overrides default subject (defaults to output title)"},"attach_file":{"type":"boolean","title":"Attach File","description":"Attach rendered content as a file","default":true},"body_format":{"type":"string","enum":["auto","text","html"],"title":"Body Format","description":"Controls email body format","default":"auto"}},"type":"object","title":"WatchlistOutputEmailDelivery"},"WatchlistOutputsListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/WatchlistOutput"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["items","total"],"title":"WatchlistOutputsListResponse"},"WatchlistRule":{"properties":{"pattern":{"type":"string","title":"Pattern","description":"Literal or /regex/ pattern"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","description":"Logical category, e.g., 'adult', 'violence', 'self_harm'"},"severity":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Severity","description":"info | warning | critical","default":"info"},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note","description":"Free-text note for admins"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Optional tags"}},"type":"object","required":["pattern"],"title":"WatchlistRule"},"WatchlistTemplateCreateRequest":{"properties":{"name":{"type":"string","maxLength":64,"minLength":1,"pattern":"^[A-Za-z0-9_\\-]+$","title":"Name"},"format":{"type":"string","enum":["md","html"],"title":"Format","default":"md"},"content":{"type":"string","title":"Content","description":"Template content"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Optional human-readable description"},"overwrite":{"type":"boolean","title":"Overwrite","description":"If false, creation fails when template already exists","default":false}},"type":"object","required":["name","content"],"title":"WatchlistTemplateCreateRequest"},"WatchlistTemplateDetail":{"properties":{"name":{"type":"string","title":"Name"},"format":{"type":"string","enum":["md","html"],"title":"Format"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"updated_at":{"type":"string","title":"Updated At"},"content":{"type":"string","title":"Content"}},"type":"object","required":["name","format","updated_at","content"],"title":"WatchlistTemplateDetail"},"WatchlistTemplateListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/WatchlistTemplateSummary"},"type":"array","title":"Items"}},"type":"object","required":["items"],"title":"WatchlistTemplateListResponse"},"WatchlistTemplateSummary":{"properties":{"name":{"type":"string","title":"Name"},"format":{"type":"string","enum":["md","html"],"title":"Format"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"updated_at":{"type":"string","title":"Updated At"}},"type":"object","required":["name","format","updated_at"],"title":"WatchlistTemplateSummary"},"WatchlistUpsertResponse":{"properties":{"watchlist":{"$ref":"#/components/schemas/Watchlist"},"status":{"type":"string","title":"Status","default":"ok"}},"type":"object","required":["watchlist"],"title":"WatchlistUpsertResponse"},"WebScrapingRequest":{"properties":{"scrape_method":{"type":"string","title":"Scrape Method"},"url_input":{"type":"string","title":"Url Input"},"url_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Url Level"},"max_pages":{"type":"integer","title":"Max Pages","default":10},"max_depth":{"type":"integer","title":"Max Depth","default":3},"summarize_checkbox":{"type":"boolean","title":"Summarize Checkbox","default":false},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt"},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"},"keywords":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Keywords","default":"default,no_keyword_set"},"custom_titles":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Titles"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"temperature":{"type":"number","title":"Temperature","default":0.7},"custom_cookies":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Custom Cookies"},"mode":{"type":"string","title":"Mode","default":"persist"},"user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Agent"},"custom_headers":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Custom Headers"},"crawl_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Crawl Strategy"},"include_external":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Include External"},"score_threshold":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Score Threshold"}},"type":"object","required":["scrape_method","url_input"],"title":"WebScrapingRequest"},"WebSearchAggregateResponse":{"properties":{"final_answer":{"anyOf":[{"$ref":"#/components/schemas/WebSearchFinalAnswer"},{"type":"null"}]},"relevant_results":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Relevant Results"},"web_search_results_dict":{"additionalProperties":true,"type":"object","title":"Web Search Results Dict"},"sub_query_dict":{"additionalProperties":true,"type":"object","title":"Sub Query Dict"}},"type":"object","required":["final_answer","relevant_results","web_search_results_dict","sub_query_dict"],"title":"WebSearchAggregateResponse"},"WebSearchFinalAnswer":{"properties":{"text":{"type":"string","title":"Text","description":"Aggregated answer generated from web results"},"evidence":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Evidence","description":"Relevant snippets backing the answer"},"confidence":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Confidence"},"chunks":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Chunks","description":"Intermediate chunk summaries used during aggregation"}},"type":"object","required":["text","confidence"],"title":"WebSearchFinalAnswer"},"WebSearchRawResponse":{"properties":{"web_search_results_dict":{"additionalProperties":true,"type":"object","title":"Web Search Results Dict"},"sub_query_dict":{"additionalProperties":true,"type":"object","title":"Sub Query Dict"}},"type":"object","required":["web_search_results_dict","sub_query_dict"],"title":"WebSearchRawResponse"},"WebSearchRequest":{"properties":{"query":{"type":"string","title":"Query","description":"User query to search the web for"},"engine":{"type":"string","title":"Engine","description":"Search engine to use. Supported: google, duckduckgo, brave, kagi, tavily, searx","default":"google"},"result_count":{"type":"integer","maximum":50.0,"minimum":1.0,"title":"Result Count","default":10},"content_country":{"type":"string","title":"Content Country","default":"US"},"search_lang":{"type":"string","title":"Search Lang","default":"en"},"output_lang":{"type":"string","title":"Output Lang","default":"en"},"date_range":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date Range"},"safesearch":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Safesearch"},"site_blacklist":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Site Blacklist"},"exactTerms":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exactterms"},"excludeTerms":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Excludeterms"},"filter":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filter"},"geolocation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Geolocation"},"search_result_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search Result Language"},"sort_results_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sort Results By"},"subquery_generation":{"type":"boolean","title":"Subquery Generation","default":false},"subquery_generation_llm":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subquery Generation Llm"},"user_review":{"type":"boolean","title":"User Review","default":false},"relevance_analysis_llm":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Relevance Analysis Llm"},"final_answer_llm":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Final Answer Llm"},"aggregate":{"type":"boolean","title":"Aggregate","description":"If true, runs relevance + final answer aggregation","default":false}},"type":"object","required":["query"],"title":"WebSearchRequest"},"WebhookEventType":{"type":"string","enum":["evaluation.started","evaluation.progress","evaluation.completed","evaluation.failed","evaluation.cancelled","batch.started","batch.completed","batch.failed"],"title":"WebhookEventType","description":"Webhook event types"},"WebhookRegistrationRequest":{"properties":{"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url","description":"Webhook endpoint URL"},"events":{"items":{"$ref":"#/components/schemas/WebhookEventType"},"type":"array","minItems":1,"title":"Events"},"secret":{"anyOf":[{"type":"string","minLength":32},{"type":"null"}],"title":"Secret"},"retry_count":{"anyOf":[{"type":"integer","maximum":10.0,"minimum":0.0},{"type":"null"}],"title":"Retry Count","description":"Number of retry attempts for failed webhook deliveries","default":3},"timeout_seconds":{"anyOf":[{"type":"integer","maximum":300.0,"minimum":1.0},{"type":"null"}],"title":"Timeout Seconds","description":"Timeout in seconds for webhook delivery requests","default":30}},"type":"object","required":["url","events"],"title":"WebhookRegistrationRequest","description":"Webhook registration request"},"WebhookRegistrationResponse":{"properties":{"webhook_id":{"type":"integer","title":"Webhook Id"},"url":{"type":"string","title":"Url"},"events":{"items":{"type":"string"},"type":"array","title":"Events"},"secret":{"type":"string","title":"Secret"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"status":{"type":"string","title":"Status","default":"active"},"retry_count":{"type":"integer","maximum":10.0,"minimum":0.0,"title":"Retry Count","default":3},"timeout_seconds":{"type":"integer","maximum":300.0,"minimum":1.0,"title":"Timeout Seconds","default":30}},"type":"object","required":["webhook_id","url","events","secret","created_at"],"title":"WebhookRegistrationResponse","description":"Webhook registration response"},"WebhookStatusResponse":{"properties":{"webhook_id":{"type":"integer","title":"Webhook Id"},"url":{"type":"string","title":"Url"},"events":{"items":{"type":"string"},"type":"array","title":"Events"},"status":{"type":"string","title":"Status"},"retry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Retry Count"},"timeout_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Timeout Seconds"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"last_triggered":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Triggered"},"failure_count":{"type":"integer","title":"Failure Count","default":0}},"type":"object","required":["webhook_id","url","events","status","created_at"],"title":"WebhookStatusResponse","description":"Webhook status response"},"WebhookTestRequest":{"properties":{"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url"}},"type":"object","required":["url"],"title":"WebhookTestRequest","description":"Webhook test request"},"WebhookTestResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"status_code":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status Code"},"response_time_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Response Time Ms"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"WebhookTestResponse","description":"Webhook test response"},"WorldBookCreate":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name","description":"Unique world book name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"World book description"},"scan_depth":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Scan Depth","description":"How many messages to scan","default":3},"token_budget":{"type":"integer","maximum":5000.0,"minimum":50.0,"title":"Token Budget","description":"Maximum tokens to use","default":500},"recursive_scanning":{"type":"boolean","title":"Recursive Scanning","description":"Enable recursive scanning","default":false},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the world book is active","default":true}},"type":"object","required":["name"],"title":"WorldBookCreate","description":"Schema for creating a world book."},"WorldBookEntryCreate":{"properties":{"keywords":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Keywords","description":"Keywords to match"},"content":{"type":"string","minLength":1,"title":"Content","description":"Content to inject when matched"},"priority":{"type":"integer","title":"Priority","description":"Priority for ordering (higher = more important)","default":0},"enabled":{"type":"boolean","title":"Enabled","description":"Whether entry is active","default":true},"case_sensitive":{"type":"boolean","title":"Case Sensitive","description":"Whether keyword matching is case-sensitive","default":false},"regex_match":{"type":"boolean","title":"Regex Match","description":"Whether keywords are regex patterns","default":false},"whole_word_match":{"type":"boolean","title":"Whole Word Match","description":"Whether to match whole words only","default":true},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata"}},"type":"object","required":["keywords","content"],"title":"WorldBookEntryCreate","description":"Schema for creating a world book entry."},"WorldBookEntryResponse":{"properties":{"keywords":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Keywords","description":"Keywords to match"},"content":{"type":"string","minLength":1,"title":"Content","description":"Content to inject when matched"},"priority":{"type":"integer","title":"Priority","description":"Priority for ordering (higher = more important)","default":0},"enabled":{"type":"boolean","title":"Enabled","description":"Whether entry is active","default":true},"case_sensitive":{"type":"boolean","title":"Case Sensitive","description":"Whether keyword matching is case-sensitive","default":false},"regex_match":{"type":"boolean","title":"Regex Match","description":"Whether keywords are regex patterns","default":false},"whole_word_match":{"type":"boolean","title":"Whole Word Match","description":"Whether to match whole words only","default":true},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Additional metadata"},"id":{"type":"integer","title":"Id","description":"Entry ID"},"world_book_id":{"type":"integer","title":"World Book Id","description":"Parent world book ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Last modification timestamp"}},"type":"object","required":["keywords","content","id","world_book_id","created_at","last_modified"],"title":"WorldBookEntryResponse","description":"Schema for world book entry response."},"WorldBookEntryUpdate":{"properties":{"keywords":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keywords","description":"New keywords"},"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content","description":"New content (empty string allowed; validated server-side)"},"priority":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Priority","description":"New priority"},"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","description":"New enabled status"},"case_sensitive":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Case Sensitive","description":"New case sensitivity"},"regex_match":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Regex Match","description":"New regex match setting"},"whole_word_match":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Whole Word Match","description":"New whole word match setting"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"New metadata"}},"type":"object","title":"WorldBookEntryUpdate","description":"Schema for updating a world book entry."},"WorldBookExport":{"properties":{"world_book":{"additionalProperties":true,"type":"object","title":"World Book","description":"World book data"},"entries":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Entries","description":"World book entries"},"export_date":{"type":"string","format":"date-time","title":"Export Date","description":"Export timestamp"},"format_version":{"type":"string","title":"Format Version","description":"Export format version","default":"1.0"}},"type":"object","required":["world_book","entries"],"title":"WorldBookExport","description":"Schema for world book export."},"WorldBookImportRequest":{"properties":{"world_book":{"additionalProperties":true,"type":"object","title":"World Book","description":"World book data"},"entries":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Entries","description":"World book entries"},"merge_on_conflict":{"type":"boolean","title":"Merge On Conflict","description":"Merge with existing book of same name","default":false}},"type":"object","required":["world_book"],"title":"WorldBookImportRequest","description":"Request schema for importing a world book."},"WorldBookImportResponse":{"properties":{"world_book_id":{"type":"integer","title":"World Book Id","description":"ID of imported/merged world book"},"name":{"type":"string","title":"Name","description":"World book name"},"entries_imported":{"type":"integer","title":"Entries Imported","description":"Number of entries imported"},"merged":{"type":"boolean","title":"Merged","description":"Whether merged with existing book"}},"type":"object","required":["world_book_id","name","entries_imported","merged"],"title":"WorldBookImportResponse","description":"Response schema for world book import."},"WorldBookListResponse":{"properties":{"world_books":{"items":{"$ref":"#/components/schemas/WorldBookResponse"},"type":"array","title":"World Books","description":"List of world books"},"total":{"type":"integer","title":"Total","description":"Total number of world books"},"enabled_count":{"type":"integer","title":"Enabled Count","description":"Number of enabled world books"},"disabled_count":{"type":"integer","title":"Disabled Count","description":"Number of disabled world books"}},"type":"object","required":["world_books","total","enabled_count","disabled_count"],"title":"WorldBookListResponse","description":"Response schema for listing world books."},"WorldBookResponse":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name","description":"Unique world book name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"World book description"},"scan_depth":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Scan Depth","description":"How many messages to scan for keywords","default":3},"token_budget":{"type":"integer","maximum":5000.0,"minimum":50.0,"title":"Token Budget","description":"Maximum tokens to use for world info","default":500},"recursive_scanning":{"type":"boolean","title":"Recursive Scanning","description":"Whether to scan matched entries for more keywords","default":false},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the world book is active","default":true},"id":{"type":"integer","title":"Id","description":"World book ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Last modification timestamp"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"entry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entry Count","description":"Number of entries in the world book"}},"type":"object","required":["name","id","created_at","last_modified","version"],"title":"WorldBookResponse","description":"Schema for world book response."},"WorldBookStatistics":{"properties":{"world_book_id":{"type":"integer","title":"World Book Id","description":"World book ID"},"name":{"type":"string","title":"Name","description":"World book name"},"total_entries":{"type":"integer","title":"Total Entries","description":"Total number of entries"},"enabled_entries":{"type":"integer","title":"Enabled Entries","description":"Number of enabled entries"},"disabled_entries":{"type":"integer","title":"Disabled Entries","description":"Number of disabled entries"},"total_keywords":{"type":"integer","title":"Total Keywords","description":"Total number of keywords"},"regex_entries":{"type":"integer","title":"Regex Entries","description":"Number of regex entries"},"case_sensitive_entries":{"type":"integer","title":"Case Sensitive Entries","description":"Number of case-sensitive entries"},"average_priority":{"type":"number","title":"Average Priority","description":"Average entry priority"},"total_content_length":{"type":"integer","title":"Total Content Length","description":"Total characters in all content"},"estimated_tokens":{"type":"integer","title":"Estimated Tokens","description":"Estimated total tokens"}},"type":"object","required":["world_book_id","name","total_entries","enabled_entries","disabled_entries","total_keywords","regex_entries","case_sensitive_entries","average_priority","total_content_length","estimated_tokens"],"title":"WorldBookStatistics","description":"Statistics for a world book."},"WorldBookUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Name","description":"New name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"New description"},"scan_depth":{"anyOf":[{"type":"integer","maximum":20.0,"minimum":1.0},{"type":"null"}],"title":"Scan Depth","description":"New scan depth"},"token_budget":{"anyOf":[{"type":"integer","maximum":5000.0,"minimum":50.0},{"type":"null"}],"title":"Token Budget","description":"New token budget"},"recursive_scanning":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Recursive Scanning","description":"New recursive scanning setting"},"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled","description":"New enabled status"}},"type":"object","title":"WorldBookUpdate","description":"Schema for updating a world book."},"WorldBookWithEntries":{"properties":{"name":{"type":"string","maxLength":200,"minLength":1,"title":"Name","description":"Unique world book name"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"World book description"},"scan_depth":{"type":"integer","maximum":20.0,"minimum":1.0,"title":"Scan Depth","description":"How many messages to scan for keywords","default":3},"token_budget":{"type":"integer","maximum":5000.0,"minimum":50.0,"title":"Token Budget","description":"Maximum tokens to use for world info","default":500},"recursive_scanning":{"type":"boolean","title":"Recursive Scanning","description":"Whether to scan matched entries for more keywords","default":false},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the world book is active","default":true},"id":{"type":"integer","title":"Id","description":"World book ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Last modification timestamp"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"entry_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entry Count","description":"Number of entries in the world book"},"entries":{"items":{"$ref":"#/components/schemas/WorldBookEntryResponse"},"type":"array","title":"Entries","description":"World book entries"}},"type":"object","required":["name","id","created_at","last_modified","version"],"title":"WorldBookWithEntries","description":"Schema for world book with its entries."},"fastapi___compat__v2__Body_ingest_mediawiki_dump_endpoint_api_v1_media_mediawiki_ingest_dump_post":{"properties":{"dump_file":{"type":"string","format":"binary","title":"Dump File","description":"MediaWiki XML dump file (.xml, .xml.bz2, .xml.gz)."},"wiki_name":{"type":"string","title":"Wiki Name","description":"A unique name for this MediaWiki instance."},"namespaces_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Namespaces Str","description":"Comma-separated namespace IDs (e.g., '0,1'). All if None."},"skip_redirects":{"type":"boolean","title":"Skip Redirects","description":"Skip redirect pages.","default":true},"chunk_max_size":{"type":"integer","title":"Chunk Max Size","description":"Max chunk size."},"api_name_vector_db":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name Vector Db","description":"API name for vector DB/embedding service."},"api_key_vector_db":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key Vector Db","description":"API key for vector DB/embedding service."}},"type":"object","required":["dump_file","wiki_name"],"title":"Body_ingest_mediawiki_dump_endpoint_api_v1_media_mediawiki_ingest_dump_post"},"fastapi___compat__v2__Body_process_ebooks_endpoint_api_v1_media_process_ebooks_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"EPUB file uploads (.epub)"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls","description":"List of URLs of the EPUB items"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title override"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Optional author override"},"keywords":{"type":"string","title":"Keywords","description":"Comma-separated keywords","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt","description":"Optional custom prompt for analysis"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","description":"Optional system prompt for analysis"},"overwrite_existing":{"type":"boolean","title":"Overwrite Existing","description":"Overwrite existing media (Not used, for model validation)","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","description":"Perform analysis (summarization)","default":true},"perform_claims_extraction":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Perform Claims Extraction","description":"Extract factual claims during analysis (defaults to server configuration)."},"claims_extractor_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Claims Extractor Mode","description":"Override claims extractor mode (heuristic|ner|provider id)."},"claims_max_per_chunk":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Claims Max Per Chunk","description":"Maximum number of claims to extract per chunk (uses config default when unset)."},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","description":"Optional API name for analysis"},"use_cookies":{"type":"boolean","title":"Use Cookies","description":"Use cookies for URL download requests (Not implemented for ebooks)","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies","description":"Cookie string (Not implemented for ebooks)"},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","description":"Perform recursive summarization","default":false},"perform_rolling_summarization":{"type":"boolean","title":"Perform Rolling Summarization","description":"Perform rolling summarization (Not applicable to ebooks)","default":false},"perform_chunking":{"type":"boolean","title":"Perform Chunking","description":"Enable chunking (default: by chapter)","default":true},"chunk_method":{"anyOf":[{"type":"string","enum":["semantic","tokens","paragraphs","sentences","words","ebook_chapters","json","propositions"]},{"type":"null"}],"title":"Chunk Method","description":"Chunking method ('semantic', 'tokens', 'paragraphs', 'sentences','words', 'ebook_chapters', 'json', 'propositions')","default":"ebook_chapters"},"chunk_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Language","description":"Chunking language override (rarely needed for chapter)"},"chunk_size":{"type":"integer","title":"Chunk Size","description":"Target chunk size (used by non-chapter methods)","default":1500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","description":"Chunk overlap size (used by non-chapter methods)","default":200},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern","description":"Regex pattern for custom chapter splitting (overrides method default)"},"extraction_method":{"type":"string","enum":["filtered","markdown","basic"],"title":"Extraction Method","description":"EPUB text extraction method","default":"filtered"},"start_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Time"},"end_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Time"},"transcription_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transcription Model"},"transcription_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transcription Language"},"diarize":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Diarize"},"timestamp_option":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Timestamp Option"},"vad_use":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Vad Use"},"perform_confabulation_check_of_analysis":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Perform Confabulation Check Of Analysis"},"pdf_parsing_engine":{"anyOf":[{"type":"string","enum":["pymupdf4llm","pymupdf","docling"]},{"type":"null"}],"title":"Pdf Parsing Engine"},"use_adaptive_chunking":{"type":"boolean","title":"Use Adaptive Chunking","description":"Enable adaptive chunking (Not applicable)","default":false},"use_multi_level_chunking":{"type":"boolean","title":"Use Multi Level Chunking","description":"Enable multi-level chunking (Not applicable)","default":false},"enable_contextual_chunking":{"type":"boolean","title":"Enable Contextual Chunking","description":"Enable contextual chunking","default":false},"contextual_llm_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contextual Llm Model","description":"LLM model for contextualization"},"context_window_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Window Size","description":"Context window size (chars)"},"context_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Strategy","description":"Context strategy: auto|full|window|outline_window"},"context_token_budget":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Token Budget","description":"Approx token budget for auto strategy"}},"type":"object","title":"Body_process_ebooks_endpoint_api_v1_media_process_ebooks_post"},"fastapi___compat__v2__Body_process_emails_endpoint_api_v1_media_process_emails_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls","description":"List of URLs of the emails (optional)"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title override"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Optional author override"},"keywords":{"type":"string","title":"Keywords","description":"Comma-separated keywords","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt","description":"Optional custom prompt for analysis"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","description":"Optional system prompt for analysis"},"overwrite_existing":{"type":"boolean","title":"Overwrite Existing","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","default":false},"perform_claims_extraction":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Perform Claims Extraction","description":"Extract factual claims during analysis (defaults to server configuration)."},"claims_extractor_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Claims Extractor Mode","description":"Override claims extractor mode (heuristic|ner|provider id)."},"claims_max_per_chunk":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Claims Max Per Chunk","description":"Maximum number of claims to extract per chunk (uses config default when unset)."},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name"},"use_cookies":{"type":"boolean","title":"Use Cookies","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies"},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","default":false},"perform_chunking":{"type":"boolean","title":"Perform Chunking","default":true},"chunk_method":{"anyOf":[{"type":"string","enum":["semantic","tokens","paragraphs","sentences","words","ebook_chapters","json","propositions"]},{"type":"null"}],"title":"Chunk Method","default":"sentences"},"chunk_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Language"},"chunk_size":{"type":"integer","title":"Chunk Size","default":1000},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","default":200},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern"},"use_adaptive_chunking":{"type":"boolean","title":"Use Adaptive Chunking","default":false},"use_multi_level_chunking":{"type":"boolean","title":"Use Multi Level Chunking","default":false},"enable_contextual_chunking":{"type":"boolean","title":"Enable Contextual Chunking","default":false},"contextual_llm_model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contextual Llm Model"},"context_window_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Window Size"},"context_strategy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Strategy"},"context_token_budget":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Context Token Budget"},"ingest_attachments":{"type":"boolean","title":"Ingest Attachments","default":false},"max_depth":{"type":"integer","title":"Max Depth","default":2},"accept_archives":{"type":"boolean","title":"Accept Archives","default":false},"accept_mbox":{"type":"boolean","title":"Accept Mbox","default":false},"accept_pst":{"type":"boolean","title":"Accept Pst","default":false}},"type":"object","title":"Body_process_emails_endpoint_api_v1_media_process_emails_post"},"fastapi___compat__v2__Body_process_mediawiki_dump_ephemeral_endpoint_api_v1_media_mediawiki_process_dump_post":{"properties":{"dump_file":{"type":"string","format":"binary","title":"Dump File","description":"MediaWiki XML dump file (.xml, .xml.bz2, .xml.gz)."},"wiki_name":{"type":"string","title":"Wiki Name","description":"A unique name for this MediaWiki instance."},"namespaces_str":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Namespaces Str","description":"Comma-separated namespace IDs (e.g., '0,1'). All if None."},"skip_redirects":{"type":"boolean","title":"Skip Redirects","description":"Skip redirect pages.","default":true},"chunk_max_size":{"type":"integer","title":"Chunk Max Size","description":"Max chunk size."},"api_name_vector_db":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name Vector Db","description":"API name for vector DB/embedding service."},"api_key_vector_db":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key Vector Db","description":"API key for vector DB/embedding service."}},"type":"object","required":["dump_file","wiki_name"],"title":"Body_process_mediawiki_dump_ephemeral_endpoint_api_v1_media_mediawiki_process_dump_post"},"fastapi___compat__v2__Body_process_pdfs_endpoint_api_v1_media_process_pdfs_post":{"properties":{"files":{"anyOf":[{"items":{"type":"string","format":"binary"},"type":"array"},{"type":"null"}],"title":"Files","description":"PDF uploads"},"vlm_enable":{"type":"boolean","title":"Vlm Enable","description":"Enable VLM detection (separate from OCR)","default":false},"vlm_backend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Vlm Backend","description":"VLM backend (e.g., 'hf_table_transformer')"},"vlm_detect_tables_only":{"type":"boolean","title":"Vlm Detect Tables Only","description":"Only keep 'table' detections","default":true},"vlm_max_pages":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Vlm Max Pages","description":"Max pages to scan with VLM"},"urls":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Urls","description":"List of URLs of the PDF items"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Optional title (applied if only one item processed)"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author","description":"Optional author (applied similarly to title)"},"keywords":{"type":"string","title":"Keywords","description":"Comma-separated keywords","default":""},"custom_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Prompt","description":"Optional custom prompt"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt","description":"Optional system prompt"},"overwrite_existing":{"type":"boolean","title":"Overwrite Existing","description":"Overwrite existing media (Not used, for model)","default":false},"keep_original_file":{"type":"boolean","title":"Keep Original File","description":"Retain original files (fixed in model)","default":false},"perform_analysis":{"type":"boolean","title":"Perform Analysis","description":"Perform analysis","default":true},"perform_claims_extraction":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Perform Claims Extraction","description":"Extract factual claims during analysis (defaults to server configuration)."},"claims_extractor_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Claims Extractor Mode","description":"Override claims extractor mode (heuristic|ner|provider id)."},"claims_max_per_chunk":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Claims Max Per Chunk","description":"Maximum number of claims to extract per chunk (uses config default when unset)."},"api_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Name","description":"Optional API name"},"use_cookies":{"type":"boolean","title":"Use Cookies","description":"Use cookies for URL download requests","default":false},"cookies":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cookies","description":"Cookie string if `use_cookies` is True"},"summarize_recursively":{"type":"boolean","title":"Summarize Recursively","description":"Perform recursive summarization","default":false},"perform_rolling_summarization":{"type":"boolean","title":"Perform Rolling Summarization","description":"Perform rolling summarization","default":false},"pdf_parsing_engine":{"anyOf":[{"type":"string","enum":["pymupdf4llm","pymupdf","docling"]},{"type":"null"}],"title":"Pdf Parsing Engine","description":"PDF parsing engine","default":"pymupdf4llm"},"enable_ocr":{"type":"boolean","title":"Enable Ocr","description":"Enable OCR for scanned/low-text PDFs","default":false},"ocr_backend":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Backend","description":"OCR backend (e.g., 'tesseract' or 'auto')"},"ocr_lang":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ocr Lang","description":"OCR language (Tesseract codes, e.g., 'eng')","default":"eng"},"ocr_dpi":{"type":"integer","title":"Ocr Dpi","description":"OCR render DPI (72-600)","default":300},"ocr_mode":{"anyOf":[{"type":"string","enum":["always","fallback"]},{"type":"null"}],"title":"Ocr Mode","description":"OCR mode: 'always' or 'fallback'","default":"fallback"},"ocr_min_page_text_chars":{"type":"integer","title":"Ocr Min Page Text Chars","description":"Threshold to consider page empty for fallback","default":40},"custom_chapter_pattern":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Chapter Pattern","description":"Regex pattern for custom chapter splitting"},"perform_chunking":{"type":"boolean","title":"Perform Chunking","description":"Enable chunking","default":true},"chunk_method":{"anyOf":[{"type":"string","enum":["semantic","tokens","paragraphs","sentences","words","ebook_chapters","json","propositions"]},{"type":"null"}],"title":"Chunk Method","description":"Chunking method"},"use_adaptive_chunking":{"type":"boolean","title":"Use Adaptive Chunking","description":"Enable adaptive chunking","default":false},"use_multi_level_chunking":{"type":"boolean","title":"Use Multi Level Chunking","description":"Enable multi-level chunking","default":false},"chunk_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chunk Language","description":"Chunking language override"},"chunk_size":{"type":"integer","title":"Chunk Size","description":"Target chunk size","default":500},"chunk_overlap":{"type":"integer","title":"Chunk Overlap","description":"Chunk overlap size","default":200},"start_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Time","description":"Optional start time (HH:MM:SS or seconds)"},"end_time":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Time","description":"Optional end time (HH:MM:SS or seconds)"},"transcription_model":{"type":"string","title":"Transcription Model","description":"Transcription model","default":"deepdml/faster-distil-whisper-large-v3.5"},"transcription_language":{"type":"string","title":"Transcription Language","description":"Transcription language","default":"en"},"diarize":{"type":"boolean","title":"Diarize","description":"Enable speaker diarization","default":false},"timestamp_option":{"type":"boolean","title":"Timestamp Option","description":"Include timestamps in transcription","default":true},"vad_use":{"type":"boolean","title":"Vad Use","description":"Enable VAD filter","default":false},"perform_confabulation_check_of_analysis":{"type":"boolean","title":"Perform Confabulation Check Of Analysis","description":"Enable confabulation check","default":false}},"type":"object","title":"Body_process_pdfs_endpoint_api_v1_media_process_pdfs_post"},"tldw_Server_API__app__api__v1__schemas__auth_schemas__MessageResponse":{"properties":{"message":{"type":"string","title":"Message","description":"Response message"},"details":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Details","description":"Additional details"}},"type":"object","required":["message"],"title":"MessageResponse","description":"Simple message response","example":{"details":{"user_id":1},"message":"Operation successful"}},"tldw_Server_API__app__api__v1__schemas__chat_dictionary_schemas__EntryListResponse":{"properties":{"entries":{"items":{"$ref":"#/components/schemas/DictionaryEntryResponse"},"type":"array","title":"Entries","description":"List of entries"},"total":{"type":"integer","title":"Total","description":"Total number of entries"},"dictionary_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dictionary Id","description":"Dictionary ID if filtered"},"group":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group","description":"Group name if filtered"}},"type":"object","required":["entries","total"],"title":"EntryListResponse","description":"Response schema for listing entries."},"tldw_Server_API__app__api__v1__schemas__chat_session_schemas__MessageResponse":{"properties":{"id":{"type":"string","title":"Id","description":"UUID of the message"},"conversation_id":{"type":"string","title":"Conversation Id","description":"ID of the parent conversation"},"parent_message_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Message Id","description":"ID of parent message"},"sender":{"type":"string","title":"Sender","description":"Message sender (user/assistant/system)"},"content":{"type":"string","title":"Content","description":"Message content"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","description":"Message timestamp"},"ranking":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ranking","description":"Message ranking/rating"},"has_image":{"type":"boolean","title":"Has Image","description":"Whether message has an attached image","default":false},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking","default":1},"tool_calls":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Tool Calls","description":"Tool calls associated with this message (if any)"},"metadata_extra":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata Extra","description":"Additional stored metadata for this message (if requested)"}},"type":"object","required":["id","conversation_id","sender","content","timestamp"],"title":"MessageResponse","description":"Schema for message responses."},"tldw_Server_API__app__api__v1__schemas__evaluation_schemas_unified__EvaluationResponse":{"properties":{"id":{"type":"string","title":"Id","description":"Evaluation ID"},"object":{"type":"string","title":"Object","default":"evaluation"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"eval_type":{"type":"string","title":"Eval Type"},"eval_spec":{"additionalProperties":true,"type":"object","title":"Eval Spec"},"dataset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dataset Id"},"created":{"type":"integer","title":"Created","description":"Creation timestamp (OpenAI-compatible)"},"created_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created At","description":"Creation timestamp (tldw-compatible)"},"created_by":{"type":"string","title":"Created By"},"updated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Updated","description":"Update timestamp (OpenAI-compatible)"},"updated_at":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Updated At","description":"Update timestamp (tldw-compatible)"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["id","name","eval_type","eval_spec","created","created_by"],"title":"EvaluationResponse","description":"Evaluation response (OpenAI-compatible)"},"tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordCreate":{"properties":{"keyword":{"type":"string","maxLength":100,"minLength":1,"title":"Keyword","description":"The keyword text"}},"type":"object","required":["keyword"],"title":"KeywordCreate"},"tldw_Server_API__app__api__v1__schemas__notes_schemas__KeywordResponse":{"properties":{"keyword":{"type":"string","maxLength":100,"minLength":1,"title":"Keyword","description":"The keyword text"},"id":{"type":"integer","title":"Id","description":"Integer ID of the keyword"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Timestamp of keyword creation"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Timestamp of last modification"},"version":{"type":"integer","title":"Version","description":"Version number for optimistic locking"},"client_id":{"type":"string","title":"Client Id","description":"Client ID that last modified the keyword"},"deleted":{"type":"boolean","title":"Deleted","description":"Whether the keyword is soft-deleted"}},"type":"object","required":["keyword","id","created_at","last_modified","version","client_id","deleted"],"title":"KeywordResponse"},"tldw_Server_API__app__api__v1__schemas__prompt_schemas__KeywordCreate":{"properties":{"keyword_text":{"type":"string","maxLength":100,"minLength":1,"title":"Keyword Text","description":"The text of the keyword."}},"type":"object","required":["keyword_text"],"title":"KeywordCreate"},"tldw_Server_API__app__api__v1__schemas__prompt_schemas__KeywordResponse":{"properties":{"keyword_text":{"type":"string","maxLength":100,"minLength":1,"title":"Keyword Text","description":"The text of the keyword."},"id":{"type":"integer","title":"Id"},"uuid":{"type":"string","title":"Uuid"}},"type":"object","required":["keyword_text","id","uuid"],"title":"KeywordResponse"},"tldw_Server_API__app__api__v1__schemas__prompt_schemas__PromptCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Unique name of the prompt."},"author":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Author","description":"Author of the prompt."},"details":{"anyOf":[{"type":"string","maxLength":4000},{"type":"null"}],"title":"Details","description":"Detailed description or notes about the prompt."},"system_prompt":{"anyOf":[{"type":"string","maxLength":20000},{"type":"null"}],"title":"System Prompt","description":"The system part of the prompt."},"user_prompt":{"anyOf":[{"type":"string","maxLength":20000},{"type":"null"}],"title":"User Prompt","description":"The user part of the prompt."},"keywords":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keywords","description":"List of keyword strings to associate with the prompt."}},"type":"object","required":["name"],"title":"PromptCreate"},"tldw_Server_API__app__api__v1__schemas__prompt_studio_project__PromptCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"Prompt name"},"system_prompt":{"anyOf":[{"type":"string","maxLength":50000},{"type":"null"}],"title":"System Prompt","description":"System prompt"},"user_prompt":{"anyOf":[{"type":"string","maxLength":50000},{"type":"null"}],"title":"User Prompt","description":"User prompt template"},"few_shot_examples":{"anyOf":[{"items":{"$ref":"#/components/schemas/FewShotExample"},"type":"array"},{"type":"null"}],"title":"Few Shot Examples","description":"Few-shot examples"},"modules_config":{"anyOf":[{"items":{"$ref":"#/components/schemas/PromptModule"},"type":"array"},{"type":"null"}],"title":"Modules Config","description":"Module configurations"},"change_description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Change Description","description":"Description of changes"},"project_id":{"type":"integer","title":"Project Id","description":"Parent project ID"},"signature_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Signature Id","description":"Associated signature ID"},"parent_version_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Version Id","description":"Parent version for versioning"}},"type":"object","required":["name","project_id"],"title":"PromptCreate","description":"Prompt creation request"},"tldw_Server_API__app__api__v1__schemas__prompt_studio_schemas__EvaluationResponse":{"properties":{"uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uuid"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"id":{"type":"integer","title":"Id","description":"Evaluation ID"},"project_id":{"type":"integer","title":"Project Id","description":"Project ID"},"prompt_id":{"type":"integer","title":"Prompt Id","description":"Prompt ID"},"test_run_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Test Run Id","description":"Test run ID"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Evaluation name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Evaluation description"},"metrics":{"additionalProperties":true,"type":"object","title":"Metrics","description":"Evaluation metrics"},"config":{"additionalProperties":true,"type":"object","title":"Config","description":"Evaluation config"},"status":{"$ref":"#/components/schemas/EvaluationStatus","description":"Current status"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Error message if failed"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","description":"Tags"},"completed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Completed At","description":"Completion timestamp"}},"type":"object","required":["id","project_id","prompt_id","status"],"title":"EvaluationResponse","description":"Evaluation response"},"tldw_Server_API__app__api__v1__schemas__world_book_schemas__EntryListResponse":{"properties":{"entries":{"items":{"$ref":"#/components/schemas/WorldBookEntryResponse"},"type":"array","title":"Entries","description":"List of entries"},"total":{"type":"integer","title":"Total","description":"Total number of entries"},"world_book_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"World Book Id","description":"World book ID if filtered"}},"type":"object","required":["entries","total"],"title":"EntryListResponse","description":"Response schema for listing entries."}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"},"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/login"}}},"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-API-KEY","description":"Single-user mode API key authentication."},"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"Multi-user mode JWT bearer token."}}},"tags":[{"name":"health","description":"Health and status checks."},{"name":"authentication","description":"AuthNZ endpoints for API key and JWT-based auth.","externalDocs":{"description":"AuthNZ usage","url":"http://127.0.0.1:8000/docs-static/AUTHNZ_USAGE_EXAMPLES.md"}},{"name":"users","description":"User management: create, list, roles, and profiles.","externalDocs":{"description":"Permission matrix","url":"http://127.0.0.1:8000/docs-static/AUTHNZ_PERMISSION_MATRIX.md"}},{"name":"admin","description":"Administrative operations and diagnostics (non-Jobs). For Jobs Admin endpoints (stats, prune, TTL sweep, requeue quarantined, integrity sweep), see the 'jobs' tag.","externalDocs":{"description":"Jobs Admin Examples","url":"http://127.0.0.1:8000/docs-static/Code_Documentation/Jobs_Admin_Examples.md"}},{"name":"jobs","description":"Jobs queue manager and admin (SQLite/PG).","externalDocs":{"description":"Jobs Manager ordering","url":"http://127.0.0.1:8000/docs-static/Code_Documentation/Jobs_Manager.md"}},{"name":"media","description":"Ingest and process media (video/audio/PDF/EPUB/HTML/Markdown).","externalDocs":{"description":"Overview","url":"http://127.0.0.1:8000/docs-static/Documentation.md"}},{"name":"audio","description":"Audio transcription and TTS (OpenAI-compatible).","externalDocs":{"description":"Nemo STT setup","url":"http://127.0.0.1:8000/docs-static/NEMO_STT_DOCUMENTATION.md"}},{"name":"audio-websocket","description":"Real-time streaming transcription over WebSocket.","externalDocs":{"description":"Streaming STT","url":"http://127.0.0.1:8000/docs-static/NEMO_STREAMING_DOCUMENTATION.md"}},{"name":"audio-jobs","description":"Background audio processing via Jobs (fan-out pipeline).","externalDocs":{"description":"Audio Jobs API","url":"http://127.0.0.1:8000/docs-static/API-related/Audio_Jobs_API.md"}},{"name":"chat","description":"Chat completions and conversation management (OpenAI-compatible).","externalDocs":{"description":"Chat API","url":"http://127.0.0.1:8000/docs-static/API-related/Chat_API_Documentation.md"}},{"name":"characters","description":"Character cards/personas and related operations.","externalDocs":{"description":"Character Chat API","url":"http://127.0.0.1:8000/docs-static/CHARACTER_CHAT_API_DOCUMENTATION.md"}},{"name":"character-chat-sessions","description":"Character chat sessions lifecycle management.","externalDocs":{"description":"Character Chat API","url":"http://127.0.0.1:8000/docs-static/CHARACTER_CHAT_API_DOCUMENTATION.md"}},{"name":"character-messages","description":"Character message creation, retrieval, and search.","externalDocs":{"description":"Character Chat API","url":"http://127.0.0.1:8000/docs-static/CHARACTER_CHAT_API_DOCUMENTATION.md"}},{"name":"metrics","description":"Metrics and monitoring endpoints.","externalDocs":{"description":"Metrics design","url":"http://127.0.0.1:8000/docs-static/Design/Metrics.md"}},{"name":"monitoring","description":"OpenTelemetry/metrics reporting in JSON."},{"name":"audit","description":"Audit export, count, and tools. Includes /audit/export and /audit/count.","externalDocs":{"description":"Audit Export & Count API","url":"http://127.0.0.1:8000/docs-static/API/Audit_Export.md"}},{"name":"chunking","description":"Content chunking operations and utilities.","externalDocs":{"description":"Chunking design","url":"http://127.0.0.1:8000/docs-static/Design/Chunking.md"}},{"name":"chunking-templates","description":"Chunking template management (create, list, update).","externalDocs":{"description":"Templates","url":"http://127.0.0.1:8000/docs-static/Chunking_Templates.md"}},{"name":"embeddings","description":"OpenAI-compatible embeddings generation.","externalDocs":{"description":"Embeddings API Guide","url":"http://127.0.0.1:8000/docs-static/Embeddings/Embeddings-API-Guide.md"}},{"name":"vector-stores","description":"OpenAI-compatible vector store APIs (indexes, vectors).","externalDocs":{"description":"Embedding & Vector Store Config","url":"http://127.0.0.1:8000/docs-static/Development/Embedding-and-Vectorstore-Config.md"}},{"name":"claims","description":"Claims extraction, indexing, and maintenance for media.","externalDocs":{"description":"Claims design","url":"http://127.0.0.1:8000/docs-static/Design/ingestion_claims.md"}},{"name":"media-embeddings","description":"Generate embeddings for uploaded/ingested media.","externalDocs":{"description":"Embeddings docs","url":"http://127.0.0.1:8000/docs-static/Embeddings/Embeddings-Documentation.md"}},{"name":"notes","description":"Notes and knowledge management."},{"name":"notes-graph","description":"Graph of notes, tags, and sources.","externalDocs":{"description":"Graphing PRD","url":"http://127.0.0.1:8000/docs-static/Design/Graphing-Notes-PRD.md"}},{"name":"prompts","description":"Prompt library management (import/export).","externalDocs":{"description":"Prompts design","url":"http://127.0.0.1:8000/docs-static/Design/Prompts.md"}},{"name":"prompt-studio","description":"Projects, prompts, tests, optimization, and background jobs (experimental).","externalDocs":{"description":"Prompt Studio API","url":"http://127.0.0.1:8000/docs-static/API-related/Prompt_Studio_API.md"}},{"name":"rag-health","description":"RAG health, caching, and metrics.","externalDocs":{"description":"RAG notes","url":"http://127.0.0.1:8000/docs-static/RAG_Notes.md"}},{"name":"rag-unified","description":"Unified RAG: FTS5 + embeddings + re-ranking.","externalDocs":{"description":"RAG notes","url":"http://127.0.0.1:8000/docs-static/RAG_Notes.md"}},{"name":"workflows","description":"Workflow definitions and execution (scaffolding, experimental).","externalDocs":{"description":"Workflows","url":"http://127.0.0.1:8000/docs-static/Design/Workflows.md"}},{"name":"research","description":"Research providers and web data collection.","externalDocs":{"description":"Researcher","url":"http://127.0.0.1:8000/docs-static/Design/Researcher.md"}},{"name":"paper-search","description":"Provider-specific paper search (arXiv, BioRxiv/MedRxiv, PubMed, Semantic Scholar).","externalDocs":{"description":"Paper Search","url":"http://127.0.0.1:8000/docs-static/Design/PaperSearch.md"}},{"name":"evaluations","description":"Unified evaluation APIs (geval, batch, metrics).","externalDocs":{"description":"Eval report","url":"http://127.0.0.1:8000/docs-static/EVALUATION_TEST_REPORT.md"}},{"name":"benchmarks","description":"Benchmarking endpoints and utilities.","externalDocs":{"description":"RAG benchmarks","url":"http://127.0.0.1:8000/docs-static/RAG_Benchmarks.md"}},{"name":"config","description":"Server configuration and capability info."},{"name":"sync","description":"Synchronization operations and helpers."},{"name":"tools","description":"Tooling endpoints (utilities)."},{"name":"mcp-unified","description":"MCP server + endpoints (JWT/RBAC) - experimental surface in 0.1.","externalDocs":{"description":"MCP Unified Developer Guide","url":"http://127.0.0.1:8000/docs-static/MCP/Unified/Developer_Guide.md"}},{"name":"flashcards","description":"Flashcards/Decks (ChaChaNotes)"},{"name":"chatbooks","description":"Import/export chatbooks (backup/restore).","externalDocs":{"description":"Chatbooks API","url":"http://127.0.0.1:8000/docs-static/API-related/Chatbook_Features_API_Documentation.md"}},{"name":"llm","description":"LLM provider configuration and discovery.","externalDocs":{"description":"Chat developer guide","url":"http://127.0.0.1:8000/docs-static/Code_Documentation/Chat_Developer_Guide.md"}},{"name":"llamacpp","description":"Llama.cpp helpers and management.","externalDocs":{"description":"Inference engines","url":"http://127.0.0.1:8000/docs-static/Design/Inference_Engines.md"}},{"name":"web-scraping","description":"Web scraping management and job control.","externalDocs":{"description":"Web scraping design","url":"http://127.0.0.1:8000/docs-static/Design/WebScraping.md"}},{"name":"chat-dictionaries","description":"Per-user/domain dictionaries for chat preprocessing and postprocessing.","externalDocs":{"description":"Character Chat API","url":"http://127.0.0.1:8000/docs-static/CHARACTER_CHAT_API_DOCUMENTATION.md"}},{"name":"chat-documents","description":"Generate documents from conversations and templates."},{"name":"personalization","description":"Opt-in user profiles, memories, and RAG biasing.","externalDocs":{"description":"Personalization design","url":"http://127.0.0.1:8000/docs-static/Design/Personalization_Design.md"}},{"name":"persona","description":"Persona agent (voice, tools, MCP).","externalDocs":{"description":"Persona design","url":"http://127.0.0.1:8000/docs-static/Design/Persona_Agent_Design.md"}}],"servers":[{"url":"http://localhost:8000","description":"Local development"},{"url":"http://127.0.0.1:8000","description":"Loopback"}],"externalDocs":{"description":"Project documentation","url":"/docs-static"},"security":[{"ApiKeyAuth":[]},{"BearerAuth":[]}],"x-tagGroups":[{"name":"Core","tags":["health","authentication","users","admin"]},{"name":"Media","tags":["media","audio","media-embeddings","web-scraping","research","paper-search"]},{"name":"Chat & TTS","tags":["chat","chat-dictionaries","chat-documents","audio-websocket","characters","character-chat-sessions","character-messages","persona"]},{"name":"RAG & Evals","tags":["rag-health","rag-unified","evaluations","benchmarks"]},{"name":"Embeddings & Vectors","tags":["embeddings","vector-stores","claims"]},{"name":"Studio & Knowledge","tags":["prompt-studio","prompts","notes","personalization","chatbooks","tools"]},{"name":"Infra","tags":["metrics","monitoring","config","sync","llm","llamacpp","mcp-unified","workflows"]}]}